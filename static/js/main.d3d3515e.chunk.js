(this["webpackJsonpspark-link"]=this["webpackJsonpspark-link"]||[]).push([[0],{1e3:function(e,t){},1029:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(32),r=a.n(i);a(486),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(487),a(488);var o=a(463),c=a(50),l=a(13),d=a(16),m=a(25),b=a(24),p=a(3),h=a.p+"static/media/books.6e483aa8.png",u=(a(80),a(1064)),g=a(1069),f=a(467),j=a(1071),x=a(22),y=a(303),O=a(1072),k=a(10),w=a.n(k),v=a(23),S=a.p+"static/media/sparkLink.e9f284b5.jpg",T=a.p+"static/media/sparkLink.250e0a02.png",F=a.p+"static/media/metamask.31c2d1d3.png",I=a.p+"static/media/mathwallet.9618316e.png",C=a(1070),N=a(1090),A=a(1067),B=a(1068),z=a(1092),E=a(116),_=a.n(E),R=navigator.userAgent.toLowerCase(),D=!!/ipad|iphone|midp|rv:1.2.3.4|ucweb|android|windows ce|windows mobile/.test(R),U=a(302),L=a(453),P=a.n(L),M=a(454),W=a.n(M),G=a(1091),q=a(1087),V=a(300),H=a(175),Q=a(1),Z="multilanguage_demo",X=["EN","\u4e2d\u6587"],K=["en","zh"];var J,Y=function(e){var t=e.fontColor,a=V.reactLocalStorage.getObject(Z)||{},i=a.lng||H.a.language,r="zh"===i||"zh-CN"===i||"zh-cn"===i?1:0,o=Object(n.useState)(r),c=Object(U.a)(o,2),l=c[0],d=c[1],m=s.a.useState(null),b=Object(U.a)(m,2),p=b[0],h=b[1],g=function(e){return Object(v.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==l){t.next=2;break}return t.abrupt("return");case 2:return h(null),t.next=5,H.a.changeLanguage(K[e]);case 5:a.lng=K[e],V.reactLocalStorage.setObject(Z,a),d(e);case 8:case"end":return t.stop()}}),t)})))};return Object(Q.jsxs)(Q.Fragment,{children:[Object(Q.jsxs)(u.a,{"aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},style:{marginLeft:5,marginRight:5},children:[Object(Q.jsx)(P.a,{style:{color:t,fontSize:20}}),Object(Q.jsx)("p",{style:{color:t,fontSize:12},children:X[l].toUpperCase()}),Object(Q.jsx)(W.a,{style:{color:t}})]}),Object(Q.jsx)(q.a,{id:"simple-menu",anchorEl:p,keepMounted:!0,open:Boolean(p),onClose:function(){h(null)},children:X.map((function(e,t){return Object(Q.jsx)(G.a,{selected:t===l,onClick:g(t),value:t,children:e},e)}))})]})},$=a(1089),ee="TokenPocket",te="MetaMask",ae="lastConnect",ne="MathWallet";try{J=new _.a(window.web3.currentProvider)}catch(ya){J=new _.a("ws://localhost:8546")}var se=J,ie=a(188),re=a(189),oe=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isConnected:"",userAddress:"",accountInfo:"",dialogOpen:!1,wallet:""},e.checkMetaMask=Object(v.a)(w.a.mark((function t(){var a,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!_.a.givenProvider){t.next=8;break}return t.next=3,se.eth.getAccounts();case 3:a=t.sent,console.log("accounts: "+a),0==a.length?e.setState({isConnected:!1}):(n=a[0],console.log("account: "+n),e.setState({accountInfo:n.substring(0,5)}),e.setState({isConnected:!0}),e.setState({userAddress:n}),localStorage.setItem(ae,te)),console.log(_.a.givenProvider),console.log(e.state.isConnected);case 8:case"end":return t.stop()}}),t)}))),e.checkTokenPocket=Object(v.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ie.getCurrentWallet().then((function(t){var a=t.data.address;0==a.length?e.setState({isConnected:!1}):(e.setState({accountInfo:a.substring(0,5)}),e.setState({isConnected:!0}),e.setState({userAddress:a}),localStorage.setItem(ae,ee))}));case 2:case"end":return t.stop()}}),t)}))),e.checkMathWallet=Object(v.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re.getCurrentWallet().then((function(t){var a=t.address;0==a.length?e.setState({isConnected:!1}):(e.setState({accountInfo:a.substring(0,5)}),e.setState({isConnected:!0}),e.setState({userAddress:a}),localStorage.setItem(ae,ne))}));case 2:case"end":return t.stop()}}),t)}))),e.handleSelectTokenPockect=function(){e.getTokenPocketAccount(),e.setState({dialogOpen:!1})},e.handleSelectMetaMask=function(){e.getMetaMaskAccount(),e.setState({dialogOpen:!1})},e.handleSelectMathWallet=function(){e.getMathWalletAccount(),e.setState({dialogOpen:!1})},e.handleDialogOpen=function(){e.setState({dialogOpen:!0})},e.handleDialogClose=function(){e.setState({dialogOpen:!1})},e.sleep=function(){var e=Object(v.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getMetaMaskAccount=Object(v.a)(w.a.mark((function t(){var a,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.web3.currentProvider.request({method:"eth_requestAccounts"});case 3:a=t.sent,n=a[0],alert("\u60a8\u5df2\u7ecf\u8fde\u63a5metamask, \u5f53\u524d\u8d26\u6237\uff1a "+n),e.setState({isConnected:!0}),e.setState({userAddress:n}),localStorage.setItem(ae,te),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),console.debug(t.t0),e.setState({isConnected:!1});case 15:case"end":return t.stop()}}),t,null,[[0,11]])}))),e.getTokenPocketAccount=Object(v.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.isConnected){t.next=4;break}alert("\u60a8\u5df2\u7ecf\u8fde\u63a5tokenpocket, \u5f53\u524d\u8d26\u6237\uff1a "+e.state.userAddress),t.next=17;break;case 4:return t.prev=4,t.next=7,ie.getWallet({walletTypes:["matic"],switch:!1}).then((function(e){a=e.data.address}));case 7:alert("\u60a8\u5df2\u7ecf\u8fde\u63a5tokenpocket, \u5f53\u524d\u8d26\u6237\uff1a "+a),e.setState({isConnected:!0}),e.setState({userAddress:a}),localStorage.setItem(ae,ee),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),console.debug(t.t0),e.setState({isConnected:!1});case 17:case"end":return t.stop()}}),t,null,[[4,13]])}))),e.getMathWalletAccount=Object(v.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.state.isConnected){t.next=4;break}alert("\u60a8\u5df2\u7ecf\u8fde\u63a5MathWallet, \u5f53\u524d\u8d26\u6237\uff1a "+e.state.userAddress),t.next=17;break;case 4:return t.prev=4,t.next=7,re.getCurrentWallet().then((function(e){a=e.address}));case 7:alert("\u60a8\u5df2\u7ecf\u8fde\u63a5MathWallet, \u5f53\u524d\u8d26\u6237\uff1a "+a),e.setState({isConnected:!0}),e.setState({userAddress:a}),localStorage.setItem(ae,ne),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),console.debug(t.t0),e.setState({isConnected:!1});case 17:case"end":return t.stop()}}),t,null,[[4,13]])}))),e.handleTokenButtonOnClick=function(){switch(localStorage.getItem(ae)){case te:e.getMetaMaskAccount();break;case ee:e.getTokenPocketAccount();break;case ne:e.getMathWalletAccount()}},e.disconnect=function(){e.setState({isConnected:!1}),localStorage.removeItem(ae)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem(ae),console.log("lastconnect:  "+t),e.t0=t,e.next=e.t0===te?5:e.t0===ee?7:e.t0===ne?9:null===e.t0?11:13;break;case 5:return this.checkMetaMask(),e.abrupt("break",14);case 7:return this.checkTokenPocket(),e.abrupt("break",14);case 9:return this.checkMathWallet(),e.abrupt("break",14);case 11:return this.setState({isConnected:!1}),e.abrupt("break",14);case 13:return e.abrupt("break",14);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this.props.t;return Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(N.a,{className:e.dialog,onClose:this.handleDialogClose,open:this.state.dialogOpen,children:[Object(Q.jsx)(A.a,{className:console.title,children:Object(Q.jsx)(y.a,{component:"h1",color:"inherit",noWrap:!0,className:e.title,children:"Connect Wallet"})}),Object(Q.jsxs)(B.a,{children:[Object(Q.jsxs)(g.a,{container:!0,spacing:1,children:[Object(Q.jsx)(u.a,{size:"large",className:e.btnWallet,id:"MetaMask",onClick:this.handleSelectMetaMask,children:Object(Q.jsx)("img",{className:e.btnImg,src:F})}),Object(Q.jsx)(u.a,{size:"large",className:e.btnWallet,onClick:D?this.handleSelectTokenPockect:this.handleSelectMetaMask,children:Object(Q.jsx)("img",{className:e.btnImg,src:"data:image/png;base64,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"})}),Object(Q.jsx)(u.a,{size:"large",className:e.btnWallet,onClick:D?this.handleSelectMathWallet:this.handleSelectMetaMask,children:Object(Q.jsx)("img",{className:e.btnImg,src:I})})]}),Object(Q.jsx)(g.a,{children:Object(Q.jsx)(y.a,{component:"h1",color:"inherit",style:{textAlign:"center"},noWrap:!0,className:e.title,children:". . ."})})]})]}),Object(Q.jsx)(C.a,{children:Object(Q.jsxs)(g.a,{container:!0,direction:"row",justifyContent:"space-between",wrap:"nowrap",children:[Object(Q.jsx)(g.a,{item:!0,className:e.titleGrid,children:Object(Q.jsx)("a",{href:"/#/",className:e.logo})}),Object(Q.jsxs)(g.a,{item:!0,className:e.btnGrid,children:[Object(Q.jsx)(u.a,{size:"medium",className:e.btn,href:"/#/",children:Object(Q.jsx)("b",{children:t("index")})}),Object(Q.jsx)(u.a,{size:"medium",className:e.btn,href:"/#/introPublish",children:Object(Q.jsx)("b",{children:t("publish")})}),Object(Q.jsx)(u.a,{size:"medium",className:e.btn,href:"/#/collections",children:Object(Q.jsx)("b",{children:t("collection")})}),Object(Q.jsx)(u.a,{size:"small",href:"https://github.com/SparkNFT",target:"_blank",children:Object(Q.jsx)(z.a,{className:e.icon})}),Object(Q.jsx)(Y,{}),this.state.isConnected?Object(Q.jsx)(u.a,{size:"small",variant:"contained",className:e.btnUser,onClick:this.handleTokenButtonOnClick,children:Object(Q.jsxs)(y.a,{component:"",color:"inherit",noWrap:!0,className:e.titleToken,children:[this.state.userAddress.substring(0,6),"...",this.state.userAddress.substring(this.state.userAddress.length-5,this.state.userAddress.length)]})}):Object(Q.jsx)(u.a,{variant:"contained",className:e.btnUser,onClick:this.handleDialogOpen,children:Object(Q.jsx)(y.a,{component:"",color:"inherit",noWrap:!0,className:e.titleToken,children:Object(Q.jsx)("b",{children:" Connect Wallet"})})})]})]})})]})}}]),a}(n.Component),ce=Object($.a)()(Object(x.a)((function(e){var t,a,n,s,i,r,o;return{icon:(t={},Object(p.a)(t,e.breakpoints.down("xl"),{fontSize:19}),Object(p.a)(t,e.breakpoints.up("xl"),{fontSize:27}),t),titleGrid:{marginTop:25,marginBottom:10},titleToken:(a={fontSize:22,fontFamily:"Teko"},Object(p.a)(a,e.breakpoints.between("xs","sm"),{fontSize:15}),Object(p.a)(a,e.breakpoints.between("sm","md"),{fontSize:15}),Object(p.a)(a,e.breakpoints.between("md","lg"),{fontSize:22}),Object(p.a)(a,e.breakpoints.between("lg","xl"),{fontSize:25}),Object(p.a)(a,e.breakpoints.up("xl"),{fontSize:25}),a),title:(n={minWidth:100,fontSize:25,fontFamily:"Teko"},Object(p.a)(n,e.breakpoints.between("xs","sm"),{fontSize:25}),Object(p.a)(n,e.breakpoints.between("sm","md"),{fontSize:25}),Object(p.a)(n,e.breakpoints.between("md","lg"),{fontSize:35}),Object(p.a)(n,e.breakpoints.between("lg","xl"),{fontSize:35}),Object(p.a)(n,e.breakpoints.up("xl"),{fontSize:45}),n),btnGrid:{marginBottom:10,minWidth:430,marginTop:30,display:"flex",alignItems:"center",justifyContent:"flex-end",flexWrap:"nowrap"},dialog:{textAlign:"center"},btnImg:(s={},Object(p.a)(s,e.breakpoints.between("xs","sm"),{fontSize:20,width:100}),Object(p.a)(s,e.breakpoints.between("sm","md"),{width:150}),Object(p.a)(s,e.breakpoints.between("md","lg"),{width:150}),Object(p.a)(s,e.breakpoints.up("xl"),{width:150}),s),btnWallet:(i={color:"#424949",borderColor:"#e3f2fd",textAlign:"center",fontSize:15},Object(p.a)(i,e.breakpoints.between("xs","sm"),{fontSize:20,width:100,height:100}),Object(p.a)(i,e.breakpoints.between("sm","md"),{fontSize:22,width:155,height:155}),Object(p.a)(i,e.breakpoints.between("md","lg"),{fontSize:22,width:155,height:155}),Object(p.a)(i,e.breakpoints.up("xl"),{fontSize:28,width:155,height:155}),i),btnUser:(r={color:"#424949",borderColor:"#e3f2fd",fontSize:15,fontFamily:"Teko"},Object(p.a)(r,e.breakpoints.between("xs","sm"),{fontSize:15,width:80,height:40}),Object(p.a)(r,e.breakpoints.between("sm","md"),{fontSize:15,width:100}),Object(p.a)(r,e.breakpoints.between("md","lg"),{fontSize:15,width:200}),Object(p.a)(r,e.breakpoints.up("xl"),{fontSize:22}),r),btn:(o={color:"#424949",borderColor:"#e3f2fd",fontSize:22},Object(p.a)(o,e.breakpoints.between("xs","sm"),{fontSize:12}),Object(p.a)(o,e.breakpoints.between("sm","md"),{fontSize:12}),o),logo:Object(p.a)({objectFit:"contain",content:"url("+S+")",width:"200px",height:"40px"},e.breakpoints.down("sm"),{width:"30px",content:"url("+T+")"})}}),{withTheme:!0})(oe)),le=Object(f.a)({palette:{primary:{main:"#FDFEFE"},secondary:{main:"#2196f3"}}}),de=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.t,t=this.props.classes;return Object(Q.jsx)("div",{children:Object(Q.jsx)(j.a,{theme:le,children:Object(Q.jsxs)("div",{className:t.page,children:[Object(Q.jsx)(ce,{}),Object(Q.jsx)(O.a,{component:"main",className:t.container,children:Object(Q.jsx)("div",{className:t.paper,children:Object(Q.jsxs)(g.a,{container:!0,justifyContent:"center",children:[Object(Q.jsxs)(g.a,{item:!0,style:{minWidth:"50%"},children:[Object(Q.jsx)(y.a,{color:"inherit",noWrap:!0,className:t.title,children:Object(Q.jsx)("b",{children:"SparkLink"})}),Object(Q.jsx)(y.a,{color:"inherit",className:t.title2,children:Object(Q.jsx)("b",{children:e("index_slogan")})}),Object(Q.jsx)(y.a,{color:"inherit",noWrap:!0,className:t.title3,children:e("index_slogan_bottom")})]}),Object(Q.jsx)(g.a,{item:!0,xs:5,children:Object(Q.jsx)("img",{src:h,className:t.books})}),Object(Q.jsxs)(g.a,{container:!0,justifyContent:"center",spacing:5,children:[Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",variant:"contained",color:"secondary",className:t.btnMain,href:"/#/introPublish",children:Object(Q.jsx)("b",{children:e("go_publish")})})}),Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",variant:"outlined",color:"secondary",className:t.btnSecond,href:"/#/buy",children:Object(Q.jsx)("b",{children:e("go_buy")})})})]})]})})})]})})})}}]),a}(n.Component),me=Object($.a)()(Object(x.a)((function(e){var t,a,n,s,i;return{title:(t={fontFamily:"Teko",marginTop:"25%"},Object(p.a)(t,e.breakpoints.between("xs","sm"),{fontSize:55}),Object(p.a)(t,e.breakpoints.between("sm","md"),{fontSize:55}),Object(p.a)(t,e.breakpoints.between("md","lg"),{fontSize:55}),Object(p.a)(t,e.breakpoints.between("lg","xl"),{fontSize:100}),Object(p.a)(t,e.breakpoints.up("xl"),{fontSize:150}),t),title2:(a={fontFamily:"Teko"},Object(p.a)(a,e.breakpoints.between("xs","sm"),{fontSize:20}),Object(p.a)(a,e.breakpoints.between("sm","md"),{fontSize:25}),Object(p.a)(a,e.breakpoints.between("md","lg"),{fontSize:25}),Object(p.a)(a,e.breakpoints.between("lg","xl"),{fontSize:35}),Object(p.a)(a,e.breakpoints.up("xl"),{fontSize:55}),a),title3:(n={fontFamily:"Teko"},Object(p.a)(n,e.breakpoints.between("xs","sm"),{fontSize:18}),Object(p.a)(n,e.breakpoints.between("sm","md"),{fontSize:20}),Object(p.a)(n,e.breakpoints.between("md","lg"),{fontSize:25}),Object(p.a)(n,e.breakpoints.between("lg","xl"),{fontSize:25}),Object(p.a)(n,e.breakpoints.up("xl"),{fontSize:45}),n),icon:{marginRight:e.spacing(2)},titleFont:{fontFamily:"Teko"},btnMain:(s={color:"#FFFFFF",borderColor:"#e3f2fd",borderWidth:2,borderRadius:25},Object(p.a)(s,e.breakpoints.between("xs","sm"),{fontSize:15}),Object(p.a)(s,e.breakpoints.between("sm","md"),{fontSize:20}),Object(p.a)(s,e.breakpoints.between("md","lg"),{fontSize:26}),Object(p.a)(s,e.breakpoints.between("lg","xl"),{fontSize:26,width:150}),Object(p.a)(s,e.breakpoints.up("xl"),{fontSize:30,width:300,height:70}),s),btnSecond:(i={color:"#03A9F4",borderColor:"#03A9F4",borderWidth:2,borderRadius:25},Object(p.a)(i,e.breakpoints.between("xs","sm"),{fontSize:15}),Object(p.a)(i,e.breakpoints.between("sm","md"),{fontSize:20}),Object(p.a)(i,e.breakpoints.between("md","lg"),{fontSize:26}),Object(p.a)(i,e.breakpoints.between("lg","xl"),{fontSize:26,width:150}),Object(p.a)(i,e.breakpoints.up("xl"),{fontSize:30,width:300,height:70}),i),paper:{marginTop:e.spacing(7),textAlign:"center"},container:{maxWidth:"100%"},books:{width:"90%",height:"auto"}}}),{withTheme:!0})(de)),be=a(94),pe=a(172),he=a(56),ue=a(251),ge=a(470),fe=a(1093),je=a(134),xe=a.n(je),ye=a(1094),Oe=a(1085),ke=a(1083),we=a(1073),ve=a(1084),Se=(a(407),a(44)),Te=a.n(Se),Fe=new se.eth.Contract([{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"NFT_id",type:"uint64"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"}],name:"Claim",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"NFT_id",type:"uint64"},{indexed:!1,internalType:"uint128",name:"transfer_price",type:"uint128"}],name:"DeterminePrice",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"NFT_id",type:"uint64"},{indexed:!1,internalType:"uint128",name:"transfer_price",type:"uint128"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"DeterminePriceAndApprove",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"NFT_id",type:"uint64"},{indexed:!1,internalType:"string",name:"content",type:"string"}],name:"Label",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint32",name:"issue_id",type:"uint32"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!1,internalType:"uint64",name:"rootNFTId",type:"uint64"},{indexed:!1,internalType:"address",name:"token_addr",type:"address"}],name:"Publish",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"NFT_id",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"old_URI",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"new_URI",type:"bytes32"}],name:"SetURI",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"acceptShill",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"claimProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"},{internalType:"uint128",name:"_price",type:"uint128"}],name:"determinePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"},{internalType:"uint128",name:"_price",type:"uint128"},{internalType:"address",name:"_to",type:"address"}],name:"determinePriceAndApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getDepthByNFTId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getEditionIdByNFTId",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getFatherByNFTId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getIssueIdByNFTId",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getLossRatio",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getProfitByNFTId",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getRemainShillTimesByNFTId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"getRootNFTIdByIssueId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"getRoyaltyFeeByIssueId",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getShillPriceByNFTId",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"getShillTimesByIssueId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"getTokenAddrByIssueId",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getTokenAddrByNFTId",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"getTotalAmountByIssueId",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getTransferPriceByNFTId",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"isEditionExisting",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"isIssueExisting",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"isRootNFT",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"},{internalType:"string",name:"content",type:"string"}],name:"label",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"_first_sell_price",type:"uint128"},{internalType:"uint8",name:"_royalty_fee",type:"uint8"},{internalType:"uint16",name:"_shill_times",type:"uint16"},{internalType:"bytes32",name:"_ipfs_hash",type:"bytes32"},{internalType:"address",name:"_token_addr",type:"address"}],name:"publish",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"},{internalType:"bytes32",name:"ipfs_hash",type:"bytes32"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"payable",type:"function"}],"0xb42d4525841008A69E427026DF354067fD6A524f"),Ie=a(1034),Ce=a(173),Ne=a(189),Ae=a(188),Be=a(416),ze=Be.pinata_api_key,Ee=Be.pinata_secret_api_key,_e=a(417),Re=a(418),De=Oe.a.Option,Ue=a(156),Le=Object(f.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),Pe=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:"",bonusFee:0,price:0,buffer:null,ipfsHashCover:"",ipfsMeta:"",fileIpfs:"",description:"",shareTimes:0,onLoading:!1,rootNFTId:"",userAccount:"",sig:"",fileType:"",finished:!1,coverURL:"",data:[],token_addr:null,token_symbol:"MATIC",decimal:0},e.handleGetPubName=function(t){e.setState({name:t.target.value})},e.handleGetBonusFee=function(t){e.setState({bonusFee:t})},e.handleGetPrice=function(t){e.setState({price:t})},e.handleGetShareTimes=function(t){e.setState({shareTimes:t})},e.handleGetDescription=function(t){e.setState({description:t.target.value})},e.handleSearch=function(){var t=Object(v.a)(w.a.mark((function t(a){var n,s,i,r,o,c,l,d,m,b;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){n=a.toLowerCase(),s=Ce.a,i=[],r=new RegExp(n),o=Object(pe.a)(s);try{for(o.s();!(c=o.n()).done;)l=c.value,d=l.symbol.toLowerCase(),m='"'.concat(l.symbol,'"')+"   "+l.address,b={value:l.address,text:m},r.test(d)&&!i.includes(b)&&i.push(b)}catch(p){o.e(p)}finally{o.f()}n.includes("0x")&&42==n.length&&(i=[{value:n,text:n}]),e.setState({data:i})}else e.setState({data:[]});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSelectChange=function(){var t=Object(v.a)(w.a.mark((function t(a){var n,s,i,r,o,c,l,d,m;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.t,s=Ce.a,c=Object(pe.a)(s);try{for(c.s();!(l=c.n()).done;)d=l.value,a===d.address&&(i=a,r=d.symbol,o=d.decimals)}catch(b){c.e(b)}finally{c.f()}if(void 0!=r){t.next=19;break}return t.prev=5,m=new se.eth.Contract(Ue,a),t.next=9,m.methods.symbol().call();case 9:return r=t.sent,t.next=12,m.methods.decimals().call();case 12:o=t.sent,i=a,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),ge.b.error(n("error_no_erc20"));case 19:e.setState({token_addr:i,token_symbol:r,decimal:o});case 20:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e){return t.apply(this,arguments)}}(),e.submit=Object(v.a)(w.a.mark((function t(){var a,n,s,i,r,o,c,l,d,m,b,p,h,u,g,f;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(he.a)(e),0!==e.state.price&&0!==e.state.bonusFee&&0!==e.state.shareTimes&&""!==e.state.ipfsHashCover&&""!==e.state.fileIpfs&&null!==e.state.token_addr){t.next=5;break}ge.b.error({content:"\u4f60\u6709\u4fe1\u606f\u5c1a\u672a\u586b\u5199",className:"custom-class",style:{marginTop:"10vh"}}),t.next=57;break;case 5:e.setState({onLoading:!0}),n="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+e.state.ipfsHashCover,e.setState({coverURL:n}),console.debug("coverURL: ",e.state.coverURL),s=e.state.description.replace(/(\r\n\t|\n|\r\t)/gm," "),c=localStorage.getItem(ae),t.t0=c,t.next=t.t0===ee?14:t.t0===ne?19:t.t0===te?24:29;break;case 14:return t.next=16,Ae.getCurrentWallet();case 16:return i=t.sent,o=i.data.address,t.abrupt("break",30);case 19:return t.next=21,Ne.getCurrentWallet();case 21:return i=t.sent,o=i.address,t.abrupt("break",30);case 24:return t.next=26,window.ethereum.request({method:"eth_requestAccounts"});case 26:return r=t.sent,o=r[0],t.abrupt("break",30);case 29:return t.abrupt("break",30);case 30:return e.setState({userAccount:o}),l="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+e.state.fileIpfs,d={name:e.state.name,description:s,image:e.state.coverURL,attributes:[{display_type:"boost_percentage",trait_type:"Bonuse Percentage",value:e.state.bonusFee},{trait_type:"File Address",value:l},{value:e.state.fileType},{trait_type:"Encrypted",value:"FALSE"}]},"https://api.pinata.cloud/pinning/pinJSONToIPFS",t.prev=34,t.next=37,Te.a.post("https://api.pinata.cloud/pinning/pinJSONToIPFS",d,{headers:{pinata_api_key:ze,pinata_secret_api_key:Ee}});case 37:return m=t.sent,console.debug("metadata: ",m.data.IpfsHash),b=Re.decode(m.data.IpfsHash),p=b.toString("hex").substring(4),e.setState({ipfsMeta:p}),h=(h=e.state.price*Math.pow(10,e.state.decimal)).toString(),console.debug("price_with_decimal: ",h),u="0x"+p,t.next=48,se.eth.getGasPrice();case 48:g=t.sent,f=Math.floor(1.5*parseInt(g)).toString(),Fe.methods.publish(h,e.state.bonusFee,e.state.shareTimes,u,e.state.token_addr).send({from:e.state.userAccount,gasPrice:f}).on("receipt",(function(e){console.log(e);var t=e.events.Publish.returnValues,n=t.rootNFTId,s=t.issue_id;a.setState({onLoading:!1,rootNFTId:n,issueId:s,finished:!0}),ge.b.success({content:"\u5df2\u7ecf\u6210\u529f\u53d1\u5e03\u4f5c\u54c1",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){a.setState({onLoading:!1}),e.message.includes("not mined")?ge.b.warning({content:"\u4ea4\u6613\u5df2\u63d0\u4ea4\uff0c\u5f53\u524d\u7f51\u7edc\u8f83\u62e5\u5835\uff0c\u8bf7\u7a0d\u7b49\u540e\u53bb\u6211\u7684\u6536\u85cf\u4e2d\u67e5\u770b",className:"custom-class",style:{marginTop:"10vh"}}):(console.debug(e.message),ge.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}}))})),t.next=57;break;case 53:t.prev=53,t.t1=t.catch(34),console.debug(t.t1),ge.b.error({content:"\u4f3c\u4e4e\u9047\u5230\u4e86\u4e9b\u5c0f\u95ee\u9898\uff1a ".concat(t.t1),className:"custom-class",style:{marginTop:"10vh"}});case 57:case"end":return t.stop()}}),t,null,[[34,53]])}))),e.checkDetail=Object(v.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="/#/NFT/"+e.state.rootNFTId,window.open(a,"_self");case 2:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.t,window.ethereum){e.next=5;break}return alert(t("please_install_metamask")),window.location.href="/#/introPublish",e.abrupt("return");case 5:return e.next=7,window.ethereum.request({method:"eth_chainId"});case 7:if("0x89"===e.sent){e.next=12;break}return alert(t("please_set_polygon")),e.next=12,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=this.props.classes,n=this,s=ke.a.TextArea,i=this.state.data.map((function(e){return Object(Q.jsx)(De,{children:e.text},e.value)})),r={name:"file",action:"https://api.pinata.cloud/pinning/pinFileToIPFS",headers:{pinata_api_key:ze,pinata_secret_api_key:Ee},data:this.state.buffer,beforeUpload:function(t){return new Promise((function(a,n){try{var s=new FileReader;s.readAsArrayBuffer(t),s.onload=function(t){var a=t.target.result,n=new _e;n.append("file",a),e.setState({buffer:n})},a()}catch(i){ge.b.error("Read file error"),n()}}))},onChange:function(e){return Object(v.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"done"===(a=e.file.status)?(ge.b.success("".concat(e.file.name," file uploaded successfully.")),n.setState({ipfsHashCover:e.file.response.IpfsHash})):"error"===a&&ge.b.error("".concat(e.file.name," file upload failed."));case 2:case"end":return t.stop()}}),t)})))()},onDrop:function(e){ge.b.error("Only image file supported"),console.log("Dropped files",e.dataTransfer.files)}},o={name:"file",action:"https://api.pinata.cloud/pinning/pinFileToIPFS",headers:{pinata_api_key:ze,pinata_secret_api_key:Ee},data:this.state.buffer,beforeUpload:function(t){return new Promise((function(a,n){try{var s=new FileReader;s.readAsArrayBuffer(t),s.onload=function(t){var a=t.target.result,n=new _e;n.append("file",a),e.setState({buffer:n})},a()}catch(i){ge.b.error("Read file error"),n()}}))},onChange:function(e){return Object(v.a)(w.a.mark((function t(){var a,s,i;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"done"===(a=e.file.status)?(ge.b.success("".concat(e.file.name," file uploaded successfully.")),s=e.file.name.split("."),i=s[s.length-1],console.debug(i),console.debug("file ipfs hash: ",e.file.response.IpfsHash),n.setState({fileIpfs:e.file.response.IpfsHash,fileType:i})):"error"===a&&ge.b.error("".concat(e.file.name," file upload failed."));case 2:case"end":return t.stop()}}),t)})))()},onDrop:function(e){ge.b.error("Only image file supported"),console.log("Dropped files",e.dataTransfer.files)}};return this.state.finished?Object(Q.jsx)(we.a,{spinning:this.state.onLoading,size:"large",children:Object(Q.jsxs)(j.a,{theme:Le,children:[Object(Q.jsx)(ce,{}),Object(Q.jsxs)("div",{style:{textAlign:"center"},children:[Object(Q.jsx)(y.a,{className:a.titleCon,children:Object(Q.jsx)("b",{children:t("pulish_success")})}),Object(Q.jsx)(Ie.a,{className:a.paperImg,children:Object(Q.jsx)("img",{style:{width:300,marginTop:20,marginBottom:50},src:this.state.coverURL})}),Object(Q.jsx)(y.a,{variant:"h4",style:{marginTop:20,fontFamily:"Ubuntu"},children:Object(Q.jsxs)("b",{children:[t("you_gain_nft")," #",this.state.rootNFTId]})}),Object(Q.jsx)(u.a,{variant:"contained",className:a.button,style:{marginTop:50,width:200,height:50,marginBottom:50},onClick:this.checkDetail,children:t("show_detail")})]})]})}):Object(Q.jsx)(we.a,{spinning:this.state.onLoading,size:"large",style:{marginTop:1e3},children:Object(Q.jsxs)(j.a,{theme:Le,children:[Object(Q.jsx)(ce,{}),Object(Q.jsx)(O.a,{component:"main",maxWidth:"xs",className:a.main,children:Object(Q.jsxs)("div",{className:a.paper,children:[Object(Q.jsx)(y.a,{className:a.titlePub,children:Object(Q.jsx)("b",{children:t("art_info")})}),Object(Q.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(Q.jsxs)(g.a,{container:!0,spacing:2,children:[Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginBottom:10},children:[t("art_name")," ",Object(Q.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(Q.jsx)(ke.a,{placeholder:t("art_name"),allowClear:!0,id:"pubName",onChange:this.handleGetPubName,value:this.state.name,className:a.input})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("fit_rate")," ",Object(Q.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(Q.jsx)("p",{style:{fontSize:14},children:t("fit_rate_tip")}),Object(Q.jsx)(ve.a,{id:"bonusFee",defaultValue:0,min:0,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},onChange:this.handleGetBonusFee,className:a.inputNum})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("access_coin")," ",Object(Q.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(Q.jsx)("p",{style:{fontSize:14},children:t("access_coin_tip")}),Object(Q.jsx)(Oe.a,{showSearch:!0,value:this.state.token_addr,placeholder:t("please_input_coin"),style:{width:"100%"},size:"large",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.handleSearch,onChange:this.handleSelectChange,notFoundContent:null,children:i})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("price")," (",this.state.token_symbol,")",Object(Q.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(Q.jsx)(ve.a,{id:"price",defaultValue:0,min:0,onChange:this.handleGetPrice,className:a.inputNum})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("max_share")," (MAX\uff1a 65535)",Object(Q.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(Q.jsx)("p",{style:{fontSize:14},children:t("max_share_tip")}),Object(Q.jsx)(ve.a,{id:"shareTimes",defaultValue:0,min:0,max:65535,onChange:this.handleGetShareTimes,className:a.inputNum})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("art_desc")," ",Object(Q.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(Q.jsx)("p",{style:{fontSize:14},children:t("art_desc_tip")}),Object(Q.jsx)(s,{rows:6,id:"Description",onChange:this.handleGetDescription})]})]}),Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:50},children:[t("pic_cover")," ",Object(Q.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(Q.jsx)("p",{style:{fontSize:14},children:t("pic_cover_tip")}),Object(Q.jsxs)(xe.a,Object(be.a)(Object(be.a)({},r),{},{style:{width:"100%",minHeight:200},id:"Uploader",accept:".png, .jpg, .jpeg",children:[Object(Q.jsx)("p",{className:"ant-upload-drag-icon",children:Object(Q.jsx)(fe.a,{})}),Object(Q.jsx)("p",{className:"ant-upload-text",children:t("upload_file_tip1")}),Object(Q.jsx)("p",{className:"ant-upload-hint",children:t("upload_file_tip2")})]})),Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:50},children:[t("art_file")," ",Object(Q.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(Q.jsxs)("p",{style:{fontSize:14},children:[" ",t("art_file_tip")]}),Object(Q.jsxs)(xe.a,Object(be.a)(Object(be.a)({},o),{},{style:{width:"100%",minHeight:200},id:"Uploader2",children:[Object(Q.jsx)("p",{className:"ant-upload-drag-icon",children:Object(Q.jsx)(fe.a,{})}),Object(Q.jsx)("p",{className:"ant-upload-text",children:t("upload_file_tip1")}),Object(Q.jsx)("p",{className:"ant-upload-hint",children:t("upload_file_tip2")})]}))]}),Object(Q.jsx)(u.a,{variant:"contained",className:a.button,startIcon:Object(Q.jsx)(ye.a,{}),style:{marginTop:50,width:200,height:50,marginBottom:50},onClick:this.submit,children:t("submit")})]})})]})})}}]),a}(n.Component),Me=Object($.a)()(Object(x.a)((function(e){var t,a,n,s;return{main:(t={},Object(p.a)(t,e.breakpoints.between("xs","sm"),{width:"60%"}),Object(p.a)(t,e.breakpoints.up("sm"),{width:500}),t),titleCon:(a={marginTop:50,fontFamily:"Ubuntu"},Object(p.a)(a,e.breakpoints.between("xs","sm"),{fontSize:30}),Object(p.a)(a,e.breakpoints.up("sm"),{fontSize:40}),a),paperImg:(n={backgroundColor:"#EFEBE9",width:330},Object(p.a)(n,e.breakpoints.between("xs","sm"),{marginLeft:"5%",marginTop:30}),Object(p.a)(n,e.breakpoints.between("sm","md"),{marginLeft:"30%",marginTop:30}),Object(p.a)(n,e.breakpoints.between("md","lg"),{marginLeft:"30%",marginTop:30}),Object(p.a)(n,e.breakpoints.between("lg","xl"),{marginLeft:"40%",marginTop:30}),Object(p.a)(n,e.breakpoints.up("xl"),{marginLeft:"45%",marginTop:30}),n),titlePub:(s={marginTop:"3%",fontFamily:"Ubuntu"},Object(p.a)(s,e.breakpoints.between("xs","sm"),{fontSize:30}),Object(p.a)(s,e.breakpoints.up("sm"),{fontSize:40}),s),btn:{color:"#424949",borderWidth:2,borderColor:"#e3f2fd",fontSize:16},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:ue.a[500],width:60,height:60},form:{width:"150%",marginTop:e.spacing(7)},submit:{margin:e.spacing(3,0,2)},fileBtn:{padding:"10px 30px 10px 30px",background:"#66C1E4",border:"none",color:"#FFF",boxShadow:"1px 1px 1px #4C6E91"},button:{margin:e.spacing(1),fontSize:20,borderRadius:25,color:"#FFFFFF",backgroundColor:"#2196f3"},input:{height:40,borderRadius:3,width:"100%"},inputNum:{height:40,borderRadius:3,width:"100%",fontSize:20}}}),{withTheme:!0})(Pe)),We=a(1074),Ge=a(472),qe=a.p+"static/media/poster.d78136d7.png",Ve=a.p+"static/media/imgloading.2250a670.png",He=a(461),Qe=a.n(He),Ze=function(e){var t=e.str,a=e.share,s=e.coverImg,i=e.coverHeight,r=e.coverWidth;console.log(s);var o=t.split(" "),c=o[0],l=o[1],d=Object(n.useRef)(null);return Object(n.useEffect)((function(){function e(e,t){var a=new Image;a.onload=function(){e.drawImage(a,307,331,73,73),s.crossOrigin="anonymous",e.drawImage.apply(e,[s].concat(Object(Ge.a)(function(e,t){console.log(e,t);var a=e/t,n=260/364;if(a-n<.01&&a-n>-.01)return[30,50,364,260];if(a>n){var s=260*t/e;return[212-s/2,50,s,260]}var i=364*a;return[30,180-i/2,364,i]}(i,r))))},a.src=t;var n=new Image;n.onload=function(){e.drawImage(n,0,0,424,600)},n.src=qe,e.font="18px serif",e.fillText(c,122,384),e.font="12px serif",e.fillText(l,210,382),e.strokeRect(30,50,364,260)}Qe.a.toDataURL(a,{errorCorrectionLevel:"H",quality:1,margin:0}).then((function(t){var a=document.createElement("canvas");a.width=424,a.height=600;var n=a.getContext("2d");a.style.width=a.width+"px",a.style.height=a.height+"px",n.globalCompositeOperation="destination-over",e(n,t),setTimeout((function(){var e=a.toDataURL("image/jpeg",1);d.current.src=e}),700)}))})),Object(Q.jsx)("img",{alt:"poster",width:"424",height:"600",ref:d,src:Ve})},Xe=function(e){return Object(Q.jsx)("div",{onClick:function(t){console.log("click"),"MaskLayer"===t.target.className&&e.onClose()},className:"MaskLayer",style:{position:"fixed",left:0,top:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.3)"},children:e.children})},Ke=a(1095),Je=a(1096),Ye=a(1097),$e=a(1098),et=a(1099),tt=a(1086),at={gateway:"https://coldcdn.com/api/cdn/v5ynur/ipfs/",backend:"https://api.sparklink.io",sparkAddr:"0xb42d4525841008A69E427026DF354067fD6A524f"},nt=at.gateway,st=at.backend,it=a(189),rt=a(188),ot=a(999),ct=a(448),lt=a(156),dt=Object(f.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),mt=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={price:"",loading:!1,showDecryptProgress:null,decryptPercentage:0,showProgress:!1,percentage:0,Profit:"",account:null,loadItem:!0,Cover:"",Name:"",Description:"",BonusFee:0,childrenNum:0,encrypted:"\u672a\u77e5",dataUrl:null,isEncrypt:!1,fileType:"",spark:!1,tokenAddr:"",tokenSymbol:""},e.return=Object(v.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload(!0);case 1:case"end":return e.stop()}}),e)}))),e.claim=Object(v.a)(w.a.mark((function t(){var a,n;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,se.eth.getGasPrice();case 3:return a=t.sent,n=Math.floor(1.5*parseInt(a)).toString(),t.prev=5,t.next=8,Fe.methods.claimProfit(e.props.match.params.id).send({from:e.state.account,gasPrice:n});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),ge.b.error({content:"Error: ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 13:return t.prev=13,e.setState({loading:!1}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[5,10,13,16]])}))),e.downloadIPFS=Object(v.a)(w.a.mark((function t(){var a,n,s,i,r,o,c,l,d,m,b,p,h,u,g;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(he.a)(e),n=e.state.dataUrl.split("/"),s=n[n.length-1],i=nt+s,e.setState({showProgress:!0}),!e.state.isEncrypt){t.next=20;break}return r={method:"get",url:i,onDownloadProgress:function(e){var t=Math.round(e.loaded/e.total*100);a.setState({percentage:t})}},t.next=9,Te()(r);case 9:return o=t.sent,c=o.data,t.next=13,window.ethereum.request({method:"eth_requestAccounts"});case 13:return l=t.sent,d=l[0],e.setState({showProgress:!1}),t.next=18,e.signDataAndDecrypt(d,c);case 18:t.next=44;break;case 20:return m={url:i,method:"GET",responseType:"blob",onDownloadProgress:function(e){var t=Math.round(e.loaded/e.total*100);a.setState({percentage:t})}},t.prev=21,t.next=24,Te()(m);case 24:b=t.sent,p=window.URL.createObjectURL(new Blob([b.data])),(h=document.createElement("a")).href=p,h.style.display="none",u="."+a.state.fileType,g=e.state.Name+u,h.download=g,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(p),t.next=41;break;case 38:t.prev=38,t.t0=t.catch(21),ge.b.error({content:"Error: ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 41:return t.prev=41,e.setState({showProgress:!1}),t.finish(41);case 44:case"end":return t.stop()}}),t,null,[[21,38,41,44]])}))),e.signDataAndDecrypt=function(){var t=Object(v.a)(w.a.mark((function t(a,n){var s,i,r,o,c,l,d,m,b,p,h,u,g,f,j;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={account:a,nft_id:e.props.match.params.id},i=JSON.stringify(s),t.next=4,se.eth.personal.sign(i,a);case 4:return r=t.sent,e.setState({showDecryptProgress:!0}),o={account:a,nft_id:e.props.match.params.id,signature:r},c=JSON.stringify(o),l=st+"/api/v1/key/claim",t.prev=9,t.next=12,Te.a.post(l,c,{headers:{"Content-Type":"application/json"}});case 12:200==(d=t.sent).status?(m=d.data.key,b=ct.AES.decrypt(n,m),p=b.toString(ct.enc.Utf8),h=ct.enc.Hex.parse(p),u=e.wordArrayToByteArray(h,h.length),g=new Blob([u]),f="."+e.state.fileType,ot.saveAs(g,e.state.Name+f)):(j=d.data.message,ge.b.error({content:"Error: ".concat(j),className:"custom-class",style:{marginTop:"10vh"}})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),ge.b.error({content:"Error: ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 19:case"end":return t.stop()}}),t,null,[[9,16]])})));return function(e,a){return t.apply(this,arguments)}}(),e.wordToByteArray=function(e,t,a){var n=e.length;return a>0&&e.push(t>>>24),a>1&&e.push(t>>>16&255),a>2&&e.push(t>>>8&255),a>3&&e.push(255&t),{result:e,addedLength:e.length-n}},e.wordArrayToByteArray=function(t,a){console.debug("enter in wordArrayToByte"),Object.prototype.hasOwnProperty.call(t,"sigBytes")&&Object.prototype.hasOwnProperty.call(t,"words")&&(a=t.sigBytes,t=t.words);for(var n,s=[],i=0,r=a,o=0;a>0;){var c=e.wordToByteArray(s,t[o],Math.min(4,a));s=c.result,i+=n=c.addedLength;var l=Math.round(i/r*100);l!==e.state.decryptPercentage&&e.setState({decryptPercentage:l}),a-=n,o++}return new Uint8Array(s)},e.spark=function(){var t=e.state.spark;e.setState({spark:!t})},e.downloadPoster=function(e){console.log(e)},e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t,a,n,s,i,r,o,c,l,d,m,b,p,h,u,g,f,j,x,y,O,k,v,S,T,F,I,C,N,A,B,z,E=this;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=4;break}return alert("\u8bf7\u5148\u5b89\u88c5metamask"),window.location.href="/#/collections",e.abrupt("return");case 4:return e.next=6,window.ethereum.request({method:"eth_chainId"});case 6:if("0x89"===e.sent){e.next=11;break}return alert("\u8bf7\u5207\u6362\u81f3Polygon \u4e3b\u7f51\u7edc"),e.next=11,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 11:return e.next=13,Fe.methods.getShillPriceByNFTId(this.props.match.params.id).call();case 13:return t=e.sent,e.next=16,Fe.methods.ownerOf(this.props.match.params.id).call();case 16:a=e.sent,n=null,r=localStorage.getItem(ae),e.t0=r,e.next=e.t0===ee?22:e.t0===ne?27:e.t0===te?32:37;break;case 22:return e.next=24,rt.getCurrentWallet();case 24:return s=e.sent,n=s.data.address,e.abrupt("break",38);case 27:return e.next=29,it.getCurrentWallet();case 29:return s=e.sent,n=s.address,e.abrupt("break",38);case 32:return e.next=34,window.ethereum.request({method:"eth_requestAccounts"});case 34:return i=e.sent,n=i[0],e.abrupt("break",38);case 37:return e.abrupt("break",38);case 38:if(null!==n){e.next=42;break}return alert("\u8bf7\u5148\u8fde\u63a5\u94b1\u5305"),window.location.href="/#/",e.abrupt("return");case 42:return this.setState({account:n}),se.utils.toChecksumAddress(n)!==a&&(ge.b.warning({content:"\u8fd9\u679anft\u4e0d\u5c5e\u4e8e\u4f60",className:"custom-class",style:{marginTop:"10vh"}}),window.location.href="/#/"),e.next=46,Fe.methods.getTokenAddrByNFTId(this.props.match.params.id).call();case 46:return o=e.sent,e.next=49,Fe.methods.getProfitByNFTId(this.props.match.params.id).call();case 49:if(c=e.sent,"0x0000000000000000000000000000000000000000"!=o){e.next=58;break}l=c/Math.pow(10,18),d=l+" MATIC",m=t/Math.pow(10,18),m+="MATIC",this.setState({price:m,tokenAddr:"0x0000000000000000000000000000000000000000",tokenSymbol:"MATIC",Profit:d}),e.next=70;break;case 58:return b=new se.eth.Contract(lt,o),e.next=61,b.methods.symbol().call();case 61:return p=e.sent,e.next=64,b.methods.decimals().call();case 64:h=e.sent,u=c/Math.pow(10,h),g=(g=t/Math.pow(10,h))+" "+p,f=u+" ".concat(p),this.setState({price:g,tokenAddr:o,tokenSymbol:p,Profit:f});case 70:return e.next=72,Fe.methods.tokenURI(this.props.match.params.id).call();case 72:return j=e.sent,x=j.split("/"),e.next=76,Fe.methods.getIssueIdByNFTId(this.props.match.params.id).call();case 76:return y=e.sent,e.next=79,Fe.methods.getRoyaltyFeeByIssueId(y).call();case 79:return O=e.sent,k=x[x.length-1],v="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+k,e.prev=82,e.next=85,Te()({method:"get",url:v,timeout:5e3});case 85:for(S=e.sent,T=S.data,F=0,I="",C=!1,N=T.attributes[2].value,A="\u672a\u77e5",B=0;B<T.attributes.length;B++)"Bonuse Percentage"===T.attributes[B].trait_type&&(F=T.attributes[B].value,console.log(F)),"File Address"===T.attributes[B].trait_type&&(I=T.attributes[B].value),"Encrypted"===T.attributes[B].trait_type&&("FALSE"===T.attributes[B].value?(C=!1,A="\u5426"):(C=!0,A="\u662f"));this.setState({Name:T.name,Description:T.description,BonusFee:O,Cover:T.image,dataUrl:I,isEncrypt:C,encrypted:A,fileType:N,loadItem:!1}),e.next=103;break;case 96:e.prev=96,e.t1=e.catch(82),this.setState({Name:"SparkNFT"}),this.setState({Description:"\u6682\u65f6\u65e0\u6cd5\u83b7\u53d6\u5230\u8be5nft\u7684\u76f8\u5173\u63cf\u8ff0"}),this.setState({BonusFee:O}),this.setState({Cover:"https://via.placeholder.com/100x140.png?text=SparkNFT"}),this.setState({dataUrl:"fileAddr_PlaceHolder",loadItem:!1});case 103:z=st+"/api/v1/nft/info?nft_id="+this.props.match.params.id,Te.a.get(z).then((function(e){var t=e.data.children_count;E.setState({childrenNum:t})})).catch((function(e){void 0!==e.response?400===e.response.status&&e.response.data.message.includes("children not found")?console.debug("no children"):ge.b.error({content:"\u83b7\u53d6nft\u5b50\u8282\u70b9\u60c5\u51b5\u9875\u9762\u5931\u8d25\uff1a ".concat(e),className:"custom-class",style:{marginTop:"10vh"}}):ge.b.error({content:"\u9519\u8bef\uff1a\u670d\u52a1\u5668\u672a\u54cd\u5e94",className:"custom-class",style:{marginTop:"10vh"}})}));case 105:case"end":return e.stop()}}),e,this,[[82,96]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.classes;return this.state.showDecryptProgress?Object(Q.jsx)(we.a,{spinning:this.state.loading,size:"large",children:Object(Q.jsxs)(j.a,{theme:dt,children:[Object(Q.jsx)(ce,{}),Object(Q.jsx)("div",{style:{textAlign:"center",marginTop:"2%",marginLeft:40},children:Object(Q.jsx)(y.a,{color:"textPrimary",gutterBottom:!0,style:{marginRight:50,marginTop:20,fontSize:24},children:Object(Q.jsx)("b",{children:"\u6b63\u5728\u89e3\u5bc6\u6587\u4ef6"})})}),Object(Q.jsx)("div",{style:{textAlign:"center",marginTop:"10%"},children:Object(Q.jsx)(tt.a,{type:"circle",percent:this.state.decryptPercentage,width:200})}),Object(Q.jsx)("div",{style:{textAlign:"center"},children:Object(Q.jsx)(u.a,{variant:"contained",className:a.button,style:{marginTop:50,width:200,height:50,marginBottom:50},onClick:this.return,children:"\u8fd4\u56de\u4fe1\u606f\u9875\u9762"})})]})}):this.state.showProgress?Object(Q.jsx)(we.a,{spinning:this.state.loading,size:"large",children:Object(Q.jsxs)(j.a,{theme:dt,children:[Object(Q.jsx)(ce,{}),Object(Q.jsx)("div",{style:{textAlign:"center",marginTop:"2%",marginLeft:40},children:Object(Q.jsx)(y.a,{color:"textPrimary",gutterBottom:!0,style:{marginRight:50,marginTop:20,fontSize:24},children:Object(Q.jsx)("b",{children:"\u6b63\u5728\u4e0b\u8f7d\u6587\u4ef6"})})}),Object(Q.jsx)("div",{style:{textAlign:"center",marginTop:"10%"},children:Object(Q.jsx)(tt.a,{type:"circle",percent:this.state.percentage,width:200})})]})}):Object(Q.jsx)(we.a,{spinning:this.state.loading,size:"large",children:Object(Q.jsxs)(j.a,{theme:dt,children:[Object(Q.jsx)(ce,{}),Object(Q.jsxs)(O.a,{component:"main",className:a.container,children:[Object(Q.jsx)(u.a,{startIcon:Object(Q.jsx)(Ke.a,{style:{fontSize:"2rem"}}),href:"/#/collections",style:{marginTop:20,marginBottom:10,fontSize:"2rem"},children:"\u56de\u5230\u6211\u7684\u6536\u85cf\u9986"}),Object(Q.jsx)(g.a,{container:!0,direction:"row",justifyContent:"center",alignContent:"flex-start",children:Object(Q.jsxs)(g.a,{container:!0,direction:"row",className:a.cbutton,children:[Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(y.a,{color:"textPrimary",gutterBottom:!0,style:{marginRight:50,marginTop:20,fontSize:14},children:Object(Q.jsxs)("b",{children:["\u76ee\u524d\u6536\u76ca: ",this.state.Profit]})})}),Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{style:{marginTop:10,marginRight:30,marginBottom:20},size:"large",variant:"contained",color:"primary",className:a.btnMain,startIcon:Object(Q.jsx)(Je.a,{}),onClick:this.claim,children:Object(Q.jsx)(y.a,{id:"isSpark",variant:"button",component:"h3",gutterBottom:!0,children:Object(Q.jsx)("font",{size:"3",color:"white",children:"\u9886\u6536\u76ca"})})})}),Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{style:{marginTop:10,marginBottom:20},size:"large",variant:"outlined",color:"secondary",className:a.btnSecond,startIcon:Object(Q.jsx)(Ye.a,{}),href:"/#/sellSingle/"+this.props.match.params.id,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(Q.jsx)("font",{size:"3",children:"\u552e\u5356"})})})})]})}),Object(Q.jsx)("div",{className:a.paper,children:this.state.loadItem?Object(Q.jsxs)(g.a,{container:!0,className:a.content,spacing:5,children:[Object(Q.jsx)(g.a,{item:!0,xs:4,children:Object(Q.jsx)(We.a,{variant:"rect",width:300,height:500,style:{width:370,marginLeft:50,marginBottom:50}})}),Object(Q.jsxs)(g.a,{item:!0,xs:!0,style:{marginLeft:"5%"},children:[Object(Q.jsx)(We.a,{animation:"wave",variant:"text",width:200,height:30}),Object(Q.jsx)(We.a,{animation:"wave",variant:"text",width:400,height:70}),Object(Q.jsx)(We.a,{animation:"wave",variant:"rect",width:500,height:300,style:{marginBottom:50}})]})]}):Object(Q.jsxs)(g.a,{container:!0,direction:"row",justifyContent:"space-between",spacing:5,className:a.content,children:[Object(Q.jsx)(g.a,{style:{maxWidth:200},children:Object(Q.jsx)(Ie.a,{className:a.imagePapaer,children:Object(Q.jsx)("img",{className:a.imageStyle,src:this.state.Cover,id:"cover"})})}),Object(Q.jsx)(g.a,{item:!0,xs:2}),Object(Q.jsxs)(g.a,{item:!0,className:a.content2,children:[Object(Q.jsxs)(y.a,(e={color:"inherit",align:"left"},Object(p.a)(e,"color","textSecondary"),Object(p.a)(e,"noWrap",!0),Object(p.a)(e,"style",{fontFamily:"Teko",fontSize:16,marginTop:"2%"}),Object(p.a)(e,"children",["#",this.props.match.params.id]),e)),Object(Q.jsx)(y.a,{color:"inherit",align:"left",noWrap:!0,style:{fontFamily:"Teko",fontSize:34,marginTop:"2%"},children:Object(Q.jsx)("b",{children:this.state.Name})}),Object(Q.jsx)(y.a,{align:"justify",color:"textSecondary",paragraph:!0,style:{marginTop:"2%",maxWidth:"100%",fontSize:16},children:this.state.Description}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"6%",maxWidth:"100%",fontSize:24},children:["\u5206\u7ea2\u6bd4\u4f8b: ",this.state.BonusFee," %"]}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"65%",fontSize:12},children:["\u5f53\u524d\u62e5\u6709\u7684\u5b50\u8282\u70b9\u6570\u91cf: ",this.state.childrenNum]}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"65%",fontSize:12},children:["NFT\u4f5c\u54c1\u662f\u5426\u52a0\u5bc6: ",this.state.encrypted]}),Object(Q.jsxs)(g.a,{container:!0,direction:"row",className:a.cbutton2,children:[Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"small",variant:"contained",color:"primary",target:"_blank",className:a.btnMain,startIcon:Object(Q.jsx)($e.a,{}),onClick:this.downloadIPFS,children:Object(Q.jsx)("font",{size:"3",color:"white",children:"\u4e0b\u8f7d"})})}),Object(Q.jsx)(g.a,{children:Object(Q.jsx)(u.a,{size:"small",variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,startIcon:Object(Q.jsx)(et.a,{}),onClick:this.spark,children:Object(Q.jsx)("font",{size:"3",children:"\u70b9\u706b\u5206\u4eab"})})})]})]})]})}),function(){var e="https://"+window.location.host+"/#/NFT/Spark/"+t.props.match.params.id;if(t.state.spark){var a=document.getElementById("cover"),n=a.height,s=a.width;return Object(Q.jsx)("div",{children:t.state.spark?Object(Q.jsx)(Xe,{onClose:t.spark,children:Object(Q.jsx)(Ze,{str:t.state.price,share:e,coverImg:a,coverWidth:s,coverHeight:n})}):null})}}()]})]})})}}]),a}(n.Component),bt=Object(x.a)((function(e){var t,a,n,s,i,r,o;return{container:{maxWidth:1500},cbutton:(t={fontFamily:"Teko"},Object(p.a)(t,e.breakpoints.between("xs","sm"),{justifyContent:"center",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("sm","md"),{justifyContent:"center",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("md","lg"),{justifyContent:"flex-end",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("lg","xl"),{justifyContent:"flex-end",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.up("xl"),{justifyContent:"flex-end",alignItems:"flex-start"}),t),content:(a={fontFamily:"Teko"},Object(p.a)(a,e.breakpoints.between("xs","sm"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(a,e.breakpoints.between("sm","md"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(a,e.breakpoints.between("md","lg"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(a,e.breakpoints.between("lg","xl"),{justifyContent:"center",alignItems:"flex-start"}),Object(p.a)(a,e.breakpoints.up("xl"),{justifyContent:"center",alignItems:"flex-start"}),a),btnMain:{marginTop:e.spacing(3),color:"#FFFFFF",borderWidth:2,borderColor:"#e3f2fd",fontSize:16,borderRadius:25,width:120,maxWidth:"20rem",minWidth:"10rem"},btnSecond:{marginTop:e.spacing(3),color:"#03A9F4",borderWidth:3,borderColor:"#03A9F4",fontSize:16,borderRadius:25,width:120,maxWidth:"20rem",minWidth:"10rem"},paper:{marginTop:e.spacing(1),textAlign:"center",maxWidth:1370},imagePapaer:(n={},Object(p.a)(n,e.breakpoints.between("xs","sm"),{backgroundColor:"#EFEBE9",width:330,marginLeft:25}),Object(p.a)(n,e.breakpoints.between("sm","md"),{backgroundColor:"#EFEBE9",width:340,marginLeft:25}),Object(p.a)(n,e.breakpoints.between("md","lg"),{backgroundColor:"#EFEBE9",width:350,marginLeft:25}),Object(p.a)(n,e.breakpoints.between("lg","xl"),{backgroundColor:"#EFEBE9",width:350,marginLeft:10}),Object(p.a)(n,e.breakpoints.up("xl"),{backgroundColor:"#EFEBE9",width:350,marginLeft:10}),n),imageStyle:(s={objectFit:"contain"},Object(p.a)(s,e.breakpoints.between("xs","sm"),{width:280,height:365,marginTop:20,marginBottom:50}),Object(p.a)(s,e.breakpoints.between("sm","md"),{width:290,height:385,marginTop:20,marginBottom:50}),Object(p.a)(s,e.breakpoints.between("md","lg"),{width:300,height:420,marginTop:20,marginBottom:50}),Object(p.a)(s,e.breakpoints.between("lg","xl"),{width:300,marginTop:20,marginBottom:50}),Object(p.a)(s,e.breakpoints.up("xl"),{width:300,marginTop:20,marginBottom:50}),s),content2:(i={fontFamily:"Teko"},Object(p.a)(i,e.breakpoints.between("xs","sm"),{marginLeft:10,maxWidth:500}),Object(p.a)(i,e.breakpoints.between("sm","md"),{marginLeft:90,maxWidth:500}),Object(p.a)(i,e.breakpoints.between("md","lg"),{marginLeft:80,maxWidth:500}),Object(p.a)(i,e.breakpoints.between("lg","xl"),{marginLeft:50,maxWidth:500}),Object(p.a)(i,e.breakpoints.up("xl"),{marginLeft:60,maxWidth:500}),i),cbutton2:(r={fontFamily:"Teko"},Object(p.a)(r,e.breakpoints.between("xs","sm"),{justifyContent:"center",alignItems:"flex-start"}),Object(p.a)(r,e.breakpoints.between("sm","md"),{justifyContent:"center",alignItems:"flex-start"}),Object(p.a)(r,e.breakpoints.between("md","lg"),{justifyContent:"flex-end",alignItems:"flex-start"}),Object(p.a)(r,e.breakpoints.between("lg","xl"),{justifyContent:"space-evenly",alignItems:"flex-start"}),Object(p.a)(r,e.breakpoints.up("xl"),{justifyContent:"space-evenly",alignItems:"flex-start"}),r),share:(o={fontFamily:"Teko",marginBottom:"10%"},Object(p.a)(o,e.breakpoints.between("xs","sm"),{fontSize:14}),Object(p.a)(o,e.breakpoints.between("sm","md"),{fontSize:16}),Object(p.a)(o,e.breakpoints.between("md","lg"),{fontSize:18}),Object(p.a)(o,e.breakpoints.between("lg","xl"),{fontSize:20}),Object(p.a)(o,e.breakpoints.up("xl"),{fontSize:20}),o)}}),{withTheme:!0})(mt),pt=a(1075),ht=a(1076),ut=a(1077),gt=a(1100),ft=a(462),jt=at.gateway,xt=at.backend,yt=a(156),Ot=Object(f.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),kt=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:"",bonusFee:0,coverURL:"",description:"",price:0,ipfsHashMeta:"",open:!1,toAddress:"",NFTId:"",onSale:!1,copied:!1,onLoading:!1,owner:"",currentAcc:"",childrenNum:0,loadItem:!0,tokenAddr:null,tokenSymbol:"",decimal:0},e.handleClickOpen=function(){e.setState({open:!0})},e.handleClose=function(){e.setState({open:!1})},e.handleGetPrice=function(t){e.setState({price:t})},e.handleGetAddr=function(t){e.setState({toAddress:t.target.value})},e.handleClickLink=function(){var t="/#/NFT/"+e.state.NFTId;window.open(t,"_self")},e.sell=Object(v.a)(w.a.mark((function t(){var a,n,s,i,r,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({open:!1}),t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return a=t.sent,n=a[0],s=(s=e.state.price*Math.pow(10,e.state.decimal)).toString(),i=Object(he.a)(e),e.setState({onLoading:!0}),t.next=11,se.eth.getGasPrice();case 11:r=t.sent,o=Math.floor(1.5*parseInt(r)).toString(),Fe.methods.determinePriceAndApprove(e.state.NFTId,s,e.state.toAddress).send({from:n,gasPrice:o}).on("receipt",(function(){i.setState({onSale:!0,onLoading:!1}),ge.b.success({content:"\u5df2\u7ecf\u6210\u529f\u6388\u6743\u4e70\u65b9",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){i.setState({onLoading:!1}),ge.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})}));case 14:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t,a,n,s,i,r,o,c,l,d,m,b,p,h,u,g,f,j,x,y,O;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_chainId"});case 2:if("0x89"===e.sent){e.next=7;break}return alert("\u8bf7\u5207\u6362\u81f3Polygon \u4e3b\u7f51\u7edc"),e.next=7,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 7:return e.next=9,window.ethereum.request({method:"eth_requestAccounts"});case 9:return t=e.sent,a=t[0],n=this,this.setState({currentAcc:a,NFTId:this.props.match.params.NFTId}),e.next=15,Fe.methods.getIssueIdByNFTId(this.state.NFTId).call();case 15:return s=e.sent,e.next=18,Fe.methods.getRoyaltyFeeByIssueId(s).call();case 18:return i=e.sent,e.next=21,Fe.methods.tokenURI(this.props.match.params.NFTId).call();case 21:return r=e.sent,o=r.split("/"),this.setState({ipfsHashMeta:o[o.length-1]}),c=jt+this.state.ipfsHashMeta,e.prev=25,e.next=28,Te()({method:"get",url:c,timeout:2e3});case 28:l=e.sent,d=l.data,m=d.attributes[0].value,this.setState({loadItem:!1,name:d.name,description:d.description,bonusFee:m,coverURL:d.image}),e.next=39;break;case 34:e.prev=34,e.t0=e.catch(25),b="SparkNFT#"+this.props.match.params.NFTId,n.setState({loadItem:!1,name:b,description:"\u6682\u65f6\u65e0\u6cd5\u83b7\u53d6\u5230\u8be5nft\u7684\u76f8\u5173\u63cf\u8ff0",bonusFee:i,coverURL:"https://via.placeholder.com/100x140.png?text=SparkNFT"}),console.debug(e.t0);case 39:return e.next=41,Fe.methods.ownerOf(this.props.match.params.NFTId).call();case 41:return p=e.sent,e.next=44,Fe.methods.getTransferPriceByNFTId(this.props.match.params.NFTId).call();case 44:return h=e.sent,e.next=47,Fe.methods.getTokenAddrByNFTId(this.props.match.params.NFTId).call();case 47:if(u=e.sent,"0"==h?this.setState({owner:p.toLowerCase(),onSale:!1}):this.setState({owner:p.toLowerCase(),onSale:!0}),"0x0000000000000000000000000000000000000000"!=u){e.next=53;break}this.setState({tokenAddr:u,tokenSymbol:"MATIC",decimal:18}),e.next=67;break;case 53:return e.prev=53,g=new se.eth.Contract(yt,u),e.next=57,g.methods.symbol().call();case 57:return f=e.sent,e.next=60,g.methods.decimals().call();case 60:j=e.sent,this.setState({tokenAddr:u,tokenSymbol:f,decimal:j}),e.next=67;break;case 64:e.prev=64,e.t1=e.catch(53),ge.b.error({content:"Error: ".concat(e.t1),className:"custom-class",style:{marginTop:"10vh"}});case 67:return x=xt+"/api/v1/nft/info?nft_id="+this.state.NFTId,e.prev=68,e.next=71,Te.a.get(x);case 71:y=e.sent,O=y.data.children_count,this.setState({childrenNum:O}),e.next=82;break;case 76:if(e.prev=76,e.t2=e.catch(68),void 0!==e.t2.response){e.next=81;break}return ge.b.error({content:"\u9519\u8bef\uff1a\u670d\u52a1\u5668\u672a\u54cd\u5e94",className:"custom-class",style:{marginTop:"10vh"}}),e.abrupt("return");case 81:400===e.t2.response.status&&e.t2.response.data.message.includes("children not found")?console.debug("no children"):ge.b.error({content:"\u83b7\u53d6nft\u5b50\u8282\u70b9\u60c5\u51b5\u9875\u9762\u5931\u8d25\uff1a ".concat(e.t2),className:"custom-class",style:{marginTop:"10vh"}});case 82:case"end":return e.stop()}}),e,this,[[25,34],[53,64],[68,76]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.classes,n=function(){return t.state.currentAcc==t.state.owner?Object(Q.jsx)(u.a,{variant:"outlined",color:"primary",startIcon:Object(Q.jsx)(Ye.a,{style:{fontSize:22}}),className:a.btnSell,onClick:t.handleClickOpen,children:"\u552e\u5356"}):Object(Q.jsx)(u.a,{variant:"outlined",startIcon:Object(Q.jsx)(Ye.a,{style:{fontSize:22}}),className:a.btnSell,disabled:!0,children:"\u552e\u5356"})};return Object(Q.jsx)(we.a,{spinning:this.state.onLoading,size:"large",children:Object(Q.jsxs)(j.a,{theme:Ot,children:[Object(Q.jsx)(ce,{}),Object(Q.jsxs)(O.a,{component:"main",className:a.container,children:[Object(Q.jsx)(u.a,{startIcon:Object(Q.jsx)(Ke.a,{style:{fontSize:22}}),onClick:this.handleClickLink,style:{marginTop:50,marginBottom:100,fontSize:22},children:"\u8fd4\u56de"}),Object(Q.jsx)("div",{className:a.paper,children:this.state.loadItem?Object(Q.jsxs)(g.a,{container:!0,spacing:5,className:a.content,children:[Object(Q.jsx)(g.a,{item:!0,xs:4,children:Object(Q.jsx)(We.a,{variant:"rect",width:300,height:500,className:a.img})}),Object(Q.jsxs)(g.a,{item:!0,xs:!0,style:{marginLeft:"5%",maxWidth:500,minWidth:350},children:[Object(Q.jsx)(We.a,{animation:"wave",variant:"text",width:"70%",height:30}),Object(Q.jsx)(We.a,{animation:"wave",variant:"text",width:"100%",height:70}),Object(Q.jsx)(We.a,{animation:"wave",variant:"rect",width:"100%",height:300,style:{marginBottom:50}}),n()]})]}):Object(Q.jsxs)(g.a,{container:!0,className:a.content,spacing:5,children:[Object(Q.jsx)(g.a,{item:!0,xs:4,style:{maxWidth:600},children:Object(Q.jsx)(Ie.a,{className:a.imgPaper,children:Object(Q.jsx)("img",{style:{width:300,marginTop:20,marginBottom:50,objectFit:"contain"},src:this.state.coverURL})})}),Object(Q.jsxs)(g.a,{item:!0,xs:!0,className:a.content2,children:[Object(Q.jsxs)(y.a,(e={color:"inherit",align:"left"},Object(p.a)(e,"color","textSecondary"),Object(p.a)(e,"noWrap",!0),Object(p.a)(e,"style",{fontFamily:"Teko",fontSize:16,marginTop:"2%"}),Object(p.a)(e,"children",["#",this.state.NFTId]),e)),Object(Q.jsx)(y.a,{color:"inherit",align:"left",noWrap:!0,style:{fontFamily:"Teko",fontSize:30,marginTop:"2%"},children:Object(Q.jsx)("b",{children:this.state.name})}),Object(Q.jsx)(y.a,{align:"justify",color:"textSecondary",paragraph:!0,style:{marginTop:"2%",maxWidth:"100%",fontSize:16},children:this.state.description}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"6%",maxWidth:"65%",fontSize:20},children:["\u521b\u4f5c\u8005\u5206\u7ea2\u6bd4\u4f8b: ",this.state.bonusFee," %"]}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"65%",fontSize:12},children:["\u5f53\u524d\u62e5\u6709\u7684\u5b50\u8282\u70b9\u6570\u91cf: ",this.state.childrenNum]}),n(),Object(Q.jsxs)(N.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(Q.jsx)(A.a,{id:"form-dialog-title",children:"\u586b\u5199\u552e\u5356\u4fe1\u606f"}),Object(Q.jsxs)(B.a,{children:[Object(Q.jsx)(ht.a,{children:"\u8bf7\u5728\u4e0b\u65b9\u533a\u57df\u586b\u5199\u4f60\u5e0c\u671b\u552e\u5356\u7684\u4ef7\u683c\uff0c\u4ee5\u53ca\u552e\u5356\u5bf9\u8c61\u7684\u94b1\u5305\u5730\u5740\u3002"}),Object(Q.jsxs)("label",{style:{fontSize:14,marginBottom:10},children:["\u552e\u5356\u4ef7\u683c (",this.state.tokenSymbol,")*"]}),Object(Q.jsx)(ve.a,{defaultValue:0,min:0,onChange:this.handleGetPrice,className:a.inputNum}),Object(Q.jsx)("label",{style:{fontSize:14,marginBottom:10,marginTop:10},children:"\u4e70\u65b9\u94b1\u5305\u5730\u5740 *"}),Object(Q.jsx)(ke.a,{placeholder:"\u4e70\u65b9\u94b1\u5305\u5730\u5740",allowClear:!0,id:"pubName",onChange:this.handleGetAddr,className:a.input})]}),Object(Q.jsxs)(ut.a,{children:[Object(Q.jsx)(u.a,{onClick:this.handleClose,color:"primary",children:"\u53d6\u6d88"}),Object(Q.jsx)(u.a,{variant:"contained",onClick:this.sell,color:"primary",children:"\u5356\u51fa"})]})]})]})]})}),Object(Q.jsx)("div",{style:{marginTop:50},children:function(){var e="https://"+window.location.host+"/#/buySingle/"+t.state.NFTId;if(t.state.onSale)return Object(Q.jsx)(g.a,{container:!0,children:Object(Q.jsx)(g.a,{item:!0,xs:!0,children:Object(Q.jsxs)(y.a,{color:"inherit",align:"center",noWrap:!0,className:a.share,children:["\u8bf7\u5c06\u4e0b\u65b9\u94fe\u63a5\u5206\u4eab\u7ed9\u4e70\u65b9\uff0c",Object(Q.jsx)("br",{})," \u4e70\u65b9\u4f1a\u8fdb\u5165\u6b64\u94fe\u63a5\u6765\u8d2d\u4e70\u8fd9\u4e2aNFT ",Object(Q.jsx)("br",{}),e,Object(Q.jsx)(ft.CopyToClipboard,{text:e,onCopy:function(){return t.setState({copied:!0})},children:Object(Q.jsx)(pt.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(Q.jsx)(gt.a,{})})})]})})})}()})]})]})})}}]),a}(n.Component),wt=Object(x.a)((function(e){var t,a,n,s,i;return{container:{maxWidth:1500},paper:{marginTop:e.spacing(1),textAlign:"center",maxWidth:1500},btnSell:{margin:e.spacing(1),fontSize:16,borderRadius:10,borderWidth:2,borderColor:"#2196f3",color:"#2196f3",marginLeft:"10%",width:100},content:(t={fontFamily:"Teko"},Object(p.a)(t,e.breakpoints.between("xs","sm"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("sm","md"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("md","lg"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("lg","xl"),{justifyContent:"center",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.up("xl"),{justifyContent:"center",alignItems:"flex-start"}),t),img:(a={width:300,marginBottom:50},Object(p.a)(a,e.breakpoints.between("xs","sm"),{marginLeft:"20%"}),Object(p.a)(a,e.breakpoints.between("sm","md"),{marginLeft:"20%"}),Object(p.a)(a,e.breakpoints.between("md","lg"),{marginLeft:"20%"}),Object(p.a)(a,e.breakpoints.between("lg","xl"),{marginLeft:"30%"}),Object(p.a)(a,e.breakpoints.up("xl"),{marginLeft:"40%"}),a),content2:(n={fontFamily:"Teko",textAlign:"center"},Object(p.a)(n,e.breakpoints.between("xs","sm"),{maxWidth:500}),Object(p.a)(n,e.breakpoints.between("sm","md"),{marginLeft:90,maxWidth:500}),Object(p.a)(n,e.breakpoints.between("md","lg"),{marginLeft:80,maxWidth:500}),Object(p.a)(n,e.breakpoints.between("lg","xl"),{marginLeft:50,maxWidth:500}),Object(p.a)(n,e.breakpoints.up("xl"),{marginLeft:60,maxWidth:500}),n),share:(s={fontFamily:"Teko",marginBottom:"10%"},Object(p.a)(s,e.breakpoints.between("xs","sm"),{fontSize:14}),Object(p.a)(s,e.breakpoints.between("sm","md"),{fontSize:16}),Object(p.a)(s,e.breakpoints.between("md","lg"),{fontSize:18}),Object(p.a)(s,e.breakpoints.between("lg","xl"),{fontSize:20}),Object(p.a)(s,e.breakpoints.up("xl"),{fontSize:20}),s),imgPaper:(i={width:350,marginBottom:50,backgroundColor:"#EFEBE9"},Object(p.a)(i,e.breakpoints.between("sm","md"),{marginLeft:"20%"}),Object(p.a)(i,e.breakpoints.between("md","lg"),{marginLeft:"20%"}),Object(p.a)(i,e.breakpoints.between("lg","xl"),{marginLeft:"30%"}),Object(p.a)(i,e.breakpoints.up("xl"),{marginLeft:"35%"}),i),inputNum:{height:40,borderRadius:5,width:550,fontSize:20},input:{height:40,borderRadius:5}}}),{withTheme:!0})(kt),vt=at.gateway,St=at.backend,Tt=at.sparkAddr,Ft=a(156),It=Object(f.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),Ct=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleBuy=Object(v.a)(w.a.mark((function e(){var t,a,s,i,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,a=t[0],e.next=6,se.eth.getGasPrice();case 6:s=e.sent,i=Math.floor(1.5*parseInt(s)).toString(),r=Object(he.a)(n),"0x0000000000000000000000000000000000000000"==n.state.tokenAddr?(n.setState({onLoading:!0}),Fe.methods.safeTransferFrom(n.state.owner,a,n.state.NFTId).send({from:a,value:n.state.price,gasPrice:i}).on("receipt",(function(){r.setState({onLoading:!1}),ge.b.success({content:"\u4ea4\u6613\u5df2\u7ecf\u4e0a\u94fe",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){r.setState({onLoading:!1}),ge.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})}))):(n.setState({onLoading:!0}),Fe.methods.safeTransferFrom(n.state.owner,a,n.state.NFTId).send({from:a,gasPrice:i}).on("receipt",(function(){r.setState({onLoading:!1}),ge.b.success({content:"\u4ea4\u6613\u5df2\u7ecf\u4e0a\u94fe",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){r.setState({onLoading:!1}),ge.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})})));case 10:case"end":return e.stop()}}),e)}))),n.handleApprove=Object(v.a)(w.a.mark((function e(){var t,a,s,i,r,o,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,a=t[0],n.setState({onLoading:!0}),s=Object(he.a)(n),e.prev=6,i=new se.eth.Contract(Ft,n.state.tokenAddr),e.next=10,se.eth.getGasPrice();case 10:r=e.sent,o=Math.floor(1.5*parseInt(r)).toString(),c=n.state.price.toString(),i.methods.approve(n.sparkAddr,c).send({from:a,gasPrice:o}).on("receipt",(function(){s.setState({onLoading:!1,approved:!0}),ge.b.success({content:"\u5df2\u7ecf\u6210\u529f\u6388\u6743\u5408\u7ea6",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){s.setState({onLoading:!1}),ge.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),ge.b.error({content:"Error: ".concat(e.t0),className:"custom-class",style:{marginTop:"10vh"}});case 19:case"end":return e.stop()}}),e,null,[[6,16]])}))),n.handleGetPrice=function(e){n.setState({price:e})},n.handleGetAddr=function(e){n.setState({address:e.target.value})},n.state={name:"",bonusFee:0,coverURL:"",description:"",price:0,priceString:"",ipfsHashMeta:"",open:!1,address:"",NFTId:"",onSale:!1,owner:"",approvedAddr:"",currentAcc:"",onLoading:!1,childrenNum:0,loadItem:!0,encrypted:"\u672a\u77e5",tokenAddr:null,tokenSymbol:"",decimal:0,approved:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t,a,n,s,i,r,o,c,l,d,m,b,p,h,u,g,f,j,x,y,O,k,v;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,a=t[0],this.setState({currentAcc:a,NFTId:this.props.match.params.NFTId}),e.next=7,Fe.methods.getIssueIdByNFTId(this.state.NFTId).call();case 7:return n=e.sent,e.next=10,Fe.methods.getRoyaltyFeeByIssueId(n).call();case 10:return s=e.sent,e.next=13,Fe.methods.tokenURI(this.props.match.params.NFTId).call();case 13:return i=e.sent,r=i.split("/"),this.setState({ipfsHashMeta:r[r.length-1]}),o=vt+this.state.ipfsHashMeta,e.prev=17,e.next=20,Te()({method:"get",url:o,timeout:3e3});case 20:c=e.sent,l=c.data,d=l.attributes[0].value,m="TRUE"===l.attributes[3].value.toUpperCase()?"\u662f":"\u5426",this.setState({loadItem:!1,name:l.name,description:l.description,bonusFee:d,coverURL:l.image,encrypted:m}),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(17),b="SparkNFT#"+this.props.match.params.NFTId,this.setState({loadItem:!1,name:b,description:"\u6682\u65f6\u65e0\u6cd5\u83b7\u53d6\u5230\u8be5nft\u7684\u76f8\u5173\u63cf\u8ff0",bonusFee:s,coverURL:"https://via.placeholder.com/100x140.png?text=SparkNFT"});case 31:return e.next=33,Fe.methods.ownerOf(this.props.match.params.NFTId).call();case 33:return p=e.sent,e.next=36,Fe.methods.getApproved(this.props.match.params.NFTId).call();case 36:return h=e.sent,e.next=39,Fe.methods.getTransferPriceByNFTId(this.props.match.params.NFTId).call();case 39:return u=e.sent,e.next=42,Fe.methods.getTokenAddrByNFTId(this.props.match.params.NFTId).call();case 42:if(g=e.sent,this.setState({owner:p,approvedAddr:h,price:u}),"0x0000000000000000000000000000000000000000"!=g){e.next=48;break}this.setState({tokenAddr:g,tokenSymbol:"MATIC",decimal:18,approved:!0}),e.next=66;break;case 48:return e.prev=48,f=new se.eth.Contract(Ft,g),e.next=52,f.methods.symbol().call();case 52:return j=e.sent,e.next=55,f.methods.decimals().call();case 55:return x=e.sent,e.next=58,f.methods.allowance(a,Tt).call();case 58:e.sent>=u?this.setState({approved:!0}):this.setState({approved:!1}),this.setState({tokenAddr:g,tokenSymbol:j,decimal:x}),e.next=66;break;case 63:e.prev=63,e.t1=e.catch(48),ge.b.error({content:"Error: ".concat(e.t1),className:"custom-class",style:{marginTop:"10vh"}});case 66:return y=(y=u/Math.pow(10,this.state.decimal))+" "+this.state.tokenSymbol,this.setState({priceString:y}),O=St+"/api/v1/nft/info?nft_id="+this.state.NFTId,e.prev=70,e.next=73,Te.a.get(O);case 73:k=e.sent,v=k.data.children_count,this.setState({childrenNum:v}),e.next=81;break;case 78:e.prev=78,e.t2=e.catch(70),ge.b.error({content:"Error: ".concat(e.t2),className:"custom-class",style:{marginTop:"10vh"}});case 81:case"end":return e.stop()}}),e,this,[[17,27],[48,63],[70,78]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.classes,n=function(){return t.state.approvedAddr.toLowerCase()!==t.state.currentAcc.toLowerCase()?Object(Q.jsx)(u.a,{variant:"outlined",startIcon:Object(Q.jsx)(Ye.a,{style:{fontSize:22}}),className:a.btnDisable,disabled:!0,children:"\u8d2d\u4e70"}):t.state.approved?Object(Q.jsx)(u.a,{variant:"outlined",startIcon:Object(Q.jsx)(Ye.a,{style:{fontSize:22}}),className:a.btnSell,onClick:t.handleBuy,children:"\u8d2d\u4e70"}):Object(Q.jsx)(u.a,{variant:"outlined",color:"primary",className:a.btnSell,onClick:t.handleApprove,children:"\u6388\u6743\u5408\u7ea6"})};return Object(Q.jsx)(we.a,{spinning:this.state.onLoading,size:"large",children:Object(Q.jsxs)(j.a,{theme:It,children:[Object(Q.jsx)(ce,{}),Object(Q.jsxs)(O.a,{component:"main",className:a.container,children:[Object(Q.jsx)(u.a,{startIcon:Object(Q.jsx)(Ke.a,{style:{fontSize:"2rem"}}),href:"/",style:{marginTop:20,marginBottom:10,fontSize:"2rem"},children:"\u56de\u5230\u9996\u9875"}),Object(Q.jsx)("div",{className:a.paper,children:this.state.loadItem?Object(Q.jsxs)(g.a,{container:!0,spacing:5,className:a.content,children:[Object(Q.jsx)(g.a,{item:!0,xs:4,children:Object(Q.jsx)(We.a,{variant:"rect",width:300,height:500,className:a.img})}),Object(Q.jsxs)(g.a,{item:!0,xs:!0,style:{marginLeft:"5%",maxWidth:500,minWidth:350},children:[Object(Q.jsx)(We.a,{animation:"wave",variant:"text",width:"70%",height:30}),Object(Q.jsx)(We.a,{animation:"wave",variant:"text",width:"100%",height:70}),Object(Q.jsx)(We.a,{animation:"wave",variant:"rect",width:"100%",height:300,style:{marginBottom:50}}),n()]})]}):Object(Q.jsxs)(g.a,{container:!0,className:a.content,spacing:5,children:[Object(Q.jsx)(g.a,{item:!0,xs:4,style:{maxWidth:600},children:Object(Q.jsx)(Ie.a,{className:a.imgPaper,children:Object(Q.jsx)("img",{style:{width:300,marginTop:20,marginBottom:50,objectFit:"contain"},src:this.state.coverURL})})}),Object(Q.jsxs)(g.a,{item:!0,xs:!0,className:a.content2,children:[Object(Q.jsxs)(y.a,(e={color:"inherit",align:"left"},Object(p.a)(e,"color","textSecondary"),Object(p.a)(e,"noWrap",!0),Object(p.a)(e,"style",{fontFamily:"Teko",fontSize:16,marginTop:"2%"}),Object(p.a)(e,"children",["#",this.state.NFTId]),e)),Object(Q.jsx)(y.a,{color:"inherit",align:"left",noWrap:!0,style:{fontFamily:"Teko",fontSize:34},children:Object(Q.jsx)("b",{children:this.state.name})}),Object(Q.jsx)(y.a,{align:"justify",color:"textSecondary",paragraph:!0,style:{marginTop:"2%",maxWidth:"100%",fontSize:16},children:this.state.description}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"2%",maxWidth:"65%",fontSize:20},children:["\u521b\u4f5c\u8005\u5206\u7ea2\u6bd4\u4f8b: ",this.state.bonusFee," %"]}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"2%",maxWidth:"100%",fontSize:18},children:["\u552e\u4ef7: ",this.state.priceString]}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"1%",maxWidth:"65%",fontSize:12},children:["\u5f53\u524d\u62e5\u6709\u8005: ",this.state.owner]}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"65%",fontSize:12},children:["\u5f53\u524d\u62e5\u6709\u7684\u5b50\u8282\u70b9\u6570\u91cf: ",this.state.childrenNum]}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"65%",fontSize:12},children:["NFT\u4f5c\u54c1\u662f\u5426\u52a0\u5bc6: ",this.state.encrypted]}),n()]})]})})]})]})})}}]),a}(n.Component),Nt=Object(x.a)((function(e){var t,a,n,s;return{container:{maxWidth:1500},paper:{marginTop:e.spacing(1),textAlign:"center",maxWidth:1500},btnDisable:{margin:e.spacing(1),fontSize:16,borderRadius:10,borderWidth:3,borderColor:"#909497",color:"#909497",marginLeft:"10%",width:100},btnSell:{margin:e.spacing(1),fontSize:16,borderRadius:10,borderWidth:2,borderColor:"#2196f3",color:"#2196f3",marginLeft:"10%",width:100},content:(t={fontFamily:"Teko"},Object(p.a)(t,e.breakpoints.between("xs","sm"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("sm","md"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("md","lg"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("lg","xl"),{justifyContent:"center",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.up("xl"),{justifyContent:"center",alignItems:"flex-start"}),t),img:(a={width:300,marginBottom:50},Object(p.a)(a,e.breakpoints.between("xs","sm"),{marginLeft:"20%"}),Object(p.a)(a,e.breakpoints.between("sm","md"),{marginLeft:"20%"}),Object(p.a)(a,e.breakpoints.between("md","lg"),{marginLeft:"20%"}),Object(p.a)(a,e.breakpoints.between("lg","xl"),{marginLeft:"30%"}),Object(p.a)(a,e.breakpoints.up("xl"),{marginLeft:"40%"}),a),imgPaper:(n={width:350,marginBottom:50,backgroundColor:"#EFEBE9"},Object(p.a)(n,e.breakpoints.between("sm","md"),{marginLeft:"20%"}),Object(p.a)(n,e.breakpoints.between("md","lg"),{marginLeft:"20%"}),Object(p.a)(n,e.breakpoints.between("lg","xl"),{marginLeft:"30%"}),Object(p.a)(n,e.breakpoints.up("xl"),{marginLeft:"35%"}),n),content2:(s={fontFamily:"Teko",textAlign:"center"},Object(p.a)(s,e.breakpoints.between("xs","sm"),{maxWidth:500}),Object(p.a)(s,e.breakpoints.between("sm","md"),{marginLeft:90,maxWidth:500}),Object(p.a)(s,e.breakpoints.between("md","lg"),{marginLeft:80,maxWidth:500}),Object(p.a)(s,e.breakpoints.between("lg","xl"),{marginLeft:50,maxWidth:500}),Object(p.a)(s,e.breakpoints.up("xl"),{marginLeft:60,maxWidth:500}),s)}}),{withTheme:!0})(Ct),At=a(1078),Bt=a(1081),zt=a(1080),Et=a(1079),_t=a(176),Rt=a(188),Dt=a(189),Ut=at.backend,Lt=Object(f.a)({palette:{primary:{main:"#FDFEFE"},secondary:{main:"#2196f3"}}}),Pt=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).getMetadata=function(){var e=Object(v.a)(w.a.mark((function e(t,a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(a.map(function(){var e=Object(v.a)(w.a.mark((function e(a){var n,s,i,r,o;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.tokenURI(a).call();case 2:return n=e.sent,s=n.split("/"),i=s[s.length-1],r="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+i,e.prev=6,e.next=9,Te()({method:"get",url:r,timeout:2e3});case 9:return e.abrupt("return",e.sent.data);case 12:return e.prev=12,e.t0=e.catch(6),o={name:"SparkNFT#"+a,description:"\u6682\u65f6\u65e0\u6cd5\u83b7\u53d6\u5230\u8be5nft\u7684\u76f8\u5173\u63cf\u8ff0",image:"https://testnets.opensea.io/static/images/placeholder.png",attributes:[{display_type:"boost_percentage",trait_type:"Bonuse Percentage",value:0},{trait_type:"File Address",value:"file_url"}]},e.abrupt("return",o);case 17:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(t){return e.apply(this,arguments)}}())));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.getNft=function(){var e=Object(v.a)(w.a.mark((function e(t,a){var s,i,r;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=se.utils.toChecksumAddress(a),i=Ut+"/api/v1/nft/list?owner="+s,console.debug("owner: ",s),e.prev=3,e.next=6,Te.a.get(i);case 6:return r=e.sent,n.setState({onloading:!0,SkeletoNumber:r.data.nft.length}),e.abrupt("return",r.data.nft);case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",[]);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,a){return e.apply(this,arguments)}}(),n.renderDescription=function(e){return e.length<=150?e:e.substring(0,150)+".........."},n.state={isLogin:!1,user_address:null,name:"",viewable:!1,cards:[],onloading:!1,SkeletoNumber:0,noNFT:!0},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t,a,n,s,i,r,o,c,l,d,m;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:se.setProvider(new _.a.providers.HttpProvider("https://matic-mainnet--jsonrpc.datahub.figment.io/apikey/e84b63fff0e37deb30837101f20eb793/")),t=null,s=localStorage.getItem(ae),e.t0=s,e.next=e.t0===ee?6:e.t0===ne?11:e.t0===te?16:21;break;case 6:return e.next=8,Rt.getCurrentWallet();case 8:return a=e.sent,t=a.data.address,e.abrupt("break",22);case 11:return e.next=13,Dt.getCurrentWallet();case 13:return a=e.sent,t=a.address,e.abrupt("break",22);case 16:return e.next=18,window.ethereum.request({method:"eth_requestAccounts"});case 18:return n=e.sent,t=n[0],e.abrupt("break",22);case 21:return e.abrupt("break",22);case 22:if(null!==t){e.next=26;break}return alert("\u8bf7\u5148\u8fde\u63a5\u94b1\u5305"),window.location.href="/#/",e.abrupt("return");case 26:return e.next=28,window.ethereum.request({method:"eth_chainId"});case 28:if("0x89"===e.sent){e.next=33;break}return alert("\u8bf7\u5207\u6362\u81f3Polygon \u4e3b\u7f51\u7edc"),e.next=33,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 33:return i=[],e.next=36,Fe.methods.balanceOf(t).call();case 36:if(r=e.sent,console.log("nft_number: ",r),0!==r){e.next=40;break}return e.abrupt("return");case 40:return e.next=42,this.getNft(Fe,t);case 42:if(0!==(o=e.sent).length){e.next=45;break}return e.abrupt("return");case 45:return this.setState({noNFT:!1}),e.next=48,this.getMetadata(Fe,o);case 48:for(c=e.sent,l=0;l<o.length;l++)d={id:o[l],title:c[l].name,description:c[l].description,bonusFee:c[l].attributes.value,image:c[l].image},i.push(d);m=i.reverse(),this.setState({viewable:!0}),this.setState({cards:m}),this.setState({onloading:!1,SkeletoNumber:0});case 54:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){se.setProvider(window.ethereum)}},{key:"render",value:function(){var e=this.props.classes,t=this;return window.ethereum.on("chainChanged",(function(e){console.log(e),window.location.reload()})),Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(j.a,{theme:Lt,children:[Object(Q.jsx)(ce,{}),Object(Q.jsx)(O.a,{component:"main",className:e.container,children:Object(Q.jsx)("div",{className:e.paper,children:Object(Q.jsx)(g.a,{container:!0,justifyContent:"center",children:Object(Q.jsxs)(g.a,{item:!0,xs:10,children:[Object(Q.jsx)(y.a,{color:"inherit",noWrap:!0,className:e.title,children:Object(Q.jsx)("b",{children:"\u6211\u7684\u6536\u85cf\u9986"})}),Object(Q.jsx)(y.a,{color:"inherit",noWrap:!0,className:e.title2,children:Object(Q.jsx)("b",{children:"An ERC721 Token Trying to Solve Existing Publishing Dilemma"})})]})})})})]}),this.state.noNFT?Object(Q.jsx)(_t.a,{description:Object(Q.jsx)("span",{style:{fontFamily:"Teko"},children:Object(Q.jsx)("b",{children:"\u6682\u65e0\u53ef\u5c55\u793aNFT"})}),style:{marginTop:100}}):Object(Q.jsx)("main",{children:Object(Q.jsx)(O.a,{className:e.cardGrid,maxWidth:"md",children:Object(Q.jsx)(g.a,{container:!0,spacing:4,children:(this.state.onloading?Array.from(new Array(this.state.SkeletoNumber)):this.state.cards).map((function(a,n){return function(a,n){return Object(Q.jsx)(g.a,{item:!0,xs:12,sm:6,md:4,children:a?Object(Q.jsxs)(At.a,{className:e.card,children:[Object(Q.jsx)(Et.a,{className:e.cardMedia,image:a.image,title:"Image title"}),Object(Q.jsxs)(zt.a,{className:e.cardContent,children:[Object(Q.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(Q.jsx)("b",{children:a.title})}),Object(Q.jsx)(y.a,{children:t.renderDescription(a.description)})]}),Object(Q.jsxs)(Bt.a,{children:[Object(Q.jsx)(u.a,{size:"small",variant:"contained",color:"primary",href:"/#/NFT/"+a.id,children:Object(Q.jsx)("b",{children:"\u67e5\u770b "})}),Object(Q.jsx)(y.a,{variant:"body2",gutterBottom:!0,children:Object(Q.jsxs)("b",{children:["NFT id: ",a.id," "]})})]})]}):Object(Q.jsxs)(At.a,{className:e.card,children:[Object(Q.jsx)(We.a,{variant:"rect",style:{marginLeft:70},width:260,height:288}),Object(Q.jsx)(We.a,{width:"60%",style:{marginTop:40},height:33}),Object(Q.jsx)(We.a,{height:33}),Object(Q.jsx)(We.a,{height:33}),Object(Q.jsx)(We.a,{height:33})]})},n)}(a,n)}))})})})]})}}]),a}(n.Component),Mt=Object(x.a)((function(e){var t,a;return{icon:{marginRight:e.spacing(2)},titleFont:{fontFamily:"Teko"},btn:{color:"#424949",borderWidth:8,borderColor:"#e3f2fd",fontSize:16},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(36,0,6)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{objectFit:"contain",paddingTop:"100%"},cardContent:{flexGrow:2},paper:{marginTop:e.spacing(7),textAlign:"center"},container:{maxWidth:"100%"},btnMain:{marginTop:e.spacing(3),color:"#FFFFFF",borderWidth:2,borderColor:"#e3f2fd",fontSize:16,borderRadius:25,width:150},btnSecond:{marginTop:e.spacing(3),color:"#03A9F4",borderWidth:3,borderColor:"#03A9F4",fontSize:16,borderRadius:25,width:150},title:(t={fontFamily:"Teko",marginTop:"5%"},Object(p.a)(t,e.breakpoints.between("xs","sm"),{fontSize:35}),Object(p.a)(t,e.breakpoints.between("sm","md"),{fontSize:40}),Object(p.a)(t,e.breakpoints.between("md","lg"),{fontSize:55}),Object(p.a)(t,e.breakpoints.between("lg","xl"),{fontSize:90}),Object(p.a)(t,e.breakpoints.up("xl"),{fontSize:110}),t),title2:(a={fontFamily:"Teko"},Object(p.a)(a,e.breakpoints.between("xs","sm"),{fontSize:16}),Object(p.a)(a,e.breakpoints.between("sm","md"),{fontSize:25}),Object(p.a)(a,e.breakpoints.between("md","lg"),{fontSize:35}),Object(p.a)(a,e.breakpoints.between("lg","xl"),{fontSize:45}),Object(p.a)(a,e.breakpoints.up("xl"),{fontSize:55}),a)}}),{withTheme:!0})(Pt),Wt=a(1082),Gt=at.gateway,qt=at.backend,Vt=at.sparkAddr,Ht=a(189),Qt=a(188),Zt=a(156),Xt=Object(f.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),Kt=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={Name:"",Description:"",BonusFee:0,Cover:"",price:"",priceString:"",onLoading:!1,loadItem:!0,open:!1,approved:!1,tokenAddr:"",tokenSymbol:"",isEncrypt:!0,percentage:0,showProgress:!1,fileType:"",remainShillTimes:0,maxShillTimes:0},e.handleClickLink=function(){var t="/#/NFT/Spark/"+e.state.recommendNFT;window.open(t)},e.downloadIPFS=Object(v.a)(w.a.mark((function t(){var a,n,s,i,r,o,c,l,d,m;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(he.a)(e),n=e.state.dataUrl.split("/"),s=n[n.length-1],i=Gt+s,e.setState({showProgress:!0}),r={url:i,method:"GET",responseType:"blob",onDownloadProgress:function(e){var t=Math.round(e.loaded/e.total*100);a.setState({percentage:t})}},t.prev=6,t.next=9,Te()(r);case 9:o=t.sent,c=window.URL.createObjectURL(new Blob([o.data])),(l=document.createElement("a")).href=c,l.style.display="none",d="."+e.state.fileType,m=e.state.Name+d,l.download=m,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(6),ge.b.error({content:"Error: ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 26:return t.prev=26,e.setState({showProgress:!1}),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[6,23,26,29]])}))),e.approve=Object(v.a)(w.a.mark((function t(){var a,n,s,i,r,o,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return a=t.sent,n=a[0],e.setState({onLoading:!0}),s=Object(he.a)(e),t.prev=6,i=e.state.price.toString(),r=new se.eth.Contract(Zt,e.state.tokenAddr),t.next=11,se.eth.getGasPrice();case 11:o=t.sent,c=Math.floor(1.5*parseInt(o)).toString(),r.methods.approve(Vt,i).send({from:n,gasPrice:c}).on("receipt",(function(){ge.b.success({content:"\u5df2\u7ecf\u6210\u529f\u6388\u6743\u5408\u7ea6",className:"custom-class",style:{marginTop:"10vh"}}),s.setState({onLoading:!1,approved:!0})})).on("error",(function(e){s.setState({onLoading:!1}),ge.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),ge.b.error({content:"Error: ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 19:case"end":return t.stop()}}),t,null,[[6,16]])}))),e.shill=Object(v.a)(w.a.mark((function t(){var a,n,s,i,r,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=localStorage.getItem(ae))!==te){t.next=8;break}return t.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:s=t.sent,a=s[0],t.next=11;break;case 8:if(n!==ee){t.next=11;break}return t.next=11,Qt.getWallet({walletTypes:["matic"],switch:!1}).then((function(e){a=e.data.address}));case 11:return t.next=13,se.eth.getGasPrice();case 13:i=t.sent,r=Math.floor(1.5*parseInt(i)).toString(),o=Object(he.a)(e),e.setState({onLoading:!0}),"0x0000000000000000000000000000000000000000"==e.state.tokenAddr?Fe.methods.acceptShill(e.props.match.params.id).send({from:a,value:e.state.price,gasPrice:r}).on("receipt",(function(){ge.b.success({content:"\u4ea4\u6613\u5df2\u7ecf\u4e0a\u94fe",className:"custom-class",style:{marginTop:"10vh"}}),o.setState({onLoading:!1,onSale:!0})})).on("error",(function(e){o.setState({onLoading:!1}),ge.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})})):Fe.methods.acceptShill(e.props.match.params.id).send({from:a,gasPrice:r}).on("receipt",(function(){ge.b.success({content:"\u4ea4\u6613\u5df2\u7ecf\u4e0a\u94fe",className:"custom-class",style:{marginTop:"10vh"}}),o.setState({onLoading:!1,onSale:!0})})).on("error",(function(e){o.setState({onLoading:!1}),ge.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})}));case 18:case"end":return t.stop()}}),t)}))),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t,a,n,s,i,r,o,c,l,d,m,b,p,h,u,g,f,j,x,y,O,k,v,S,T;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_chainId"});case 2:if("0x89"===e.sent){e.next=7;break}return alert("\u8bf7\u5207\u6362\u81f3Polygon \u4e3b\u7f51\u7edc"),e.next=7,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 7:t=null,s=localStorage.getItem(ae),e.t0=s,e.next=e.t0===ee?12:e.t0===ne?17:e.t0===te?22:27;break;case 12:return e.next=14,Qt.getCurrentWallet();case 14:return a=e.sent,t=a.data.address,e.abrupt("break",28);case 17:return e.next=19,Ht.getCurrentWallet();case 19:return a=e.sent,t=a.address,e.abrupt("break",28);case 22:return e.next=24,window.ethereum.request({method:"eth_requestAccounts"});case 24:return n=e.sent,t=n[0],e.abrupt("break",28);case 27:return e.abrupt("break",28);case 28:if(null!==t){e.next=32;break}return alert("\u8bf7\u5148\u8fde\u63a5\u94b1\u5305"),window.location.href="/#/",e.abrupt("return");case 32:return e.next=34,Fe.methods.tokenURI(this.props.match.params.id).call();case 34:return i=e.sent,r=i.split("/"),this.setState({hash:r[r.length-1]}),e.prev=37,c=Gt+this.state.hash,e.next=41,Te.a.get(c);case 41:l=e.sent,d=l.data,m=d.attributes[0].value,b=d.attributes[1].value,p=d.attributes[2].value,o="FALSE"!==d.attributes[3].value,this.setState({Name:d.name,Description:d.description,BonusFee:m,Cover:d.image,fileType:p,dataUrl:b,isEncrypt:o}),e.next=53;break;case 50:e.prev=50,e.t1=e.catch(37),ge.b.error({content:"Error: ".concat(e.t1),className:"custom-class",style:{marginTop:"10vh"}});case 53:return e.next=55,Fe.methods.getShillPriceByNFTId(this.props.match.params.id).call();case 55:return h=e.sent,e.next=58,Fe.methods.getTokenAddrByNFTId(this.props.match.params.id).call();case 58:if(u=e.sent,this.setState({price:h,tokenAddr:u}),"0x0000000000000000000000000000000000000000"!=u){e.next=66;break}g=h/Math.pow(10,18),g+=" MATIC",this.setState({priceString:g,approved:!0}),e.next=86;break;case 66:return e.prev=66,f=new se.eth.Contract(Zt,u),e.next=70,f.methods.decimals().call();case 70:return j=e.sent,e.next=73,f.methods.symbol().call();case 73:return x=e.sent,y=(y=h/Math.pow(10,j))+" "+x,this.setState({priceString:y}),e.next=79,f.methods.allowance(t,Vt).call();case 79:e.sent>=h?this.setState({approved:!0}):this.setState({approved:!1}),e.next=86;break;case 83:e.prev=83,e.t2=e.catch(66),ge.b.error({content:"Error: ".concat(e.t2),className:"custom-class",style:{marginTop:"10vh"}});case 86:return O=qt+"/api/v1/nft/info?nft_id="+this.props.match.params.id,e.prev=87,e.next=90,Te.a.get(O);case 90:k=e.sent,v=k.data.children_count,S=k.data.max_shill_times-k.data.shill_times,T=k.data.max_shill_times,this.setState({remainShillTimes:S,maxShillTimes:T}),k.data.suggest_next_nft===this.props.match.params.id||"0"===k.data.suggest_next_nft?this.setState({childrenNum:v,recommendNFT:k.data.suggest_next_nft,showRecommend:!1}):this.setState({childrenNum:v,recommendNFT:k.data.suggest_next_nft,showRecommend:!0}),e.next=104;break;case 98:if(e.prev=98,e.t3=e.catch(87),void 0!==e.t3.response){e.next=103;break}return ge.b.error({content:"\u9519\u8bef\uff1a\u670d\u52a1\u5668\u672a\u54cd\u5e94",className:"custom-class",style:{marginTop:"10vh"}}),e.abrupt("return");case 103:400===e.t3.response.status&&e.t3.response.data.message.includes("children not found")?console.debug("no children"):ge.b.error({content:"\u83b7\u53d6nft\u5b50\u8282\u70b9\u60c5\u51b5\u9875\u9762\u5931\u8d25\uff1a ".concat(e.t3),className:"custom-class",style:{marginTop:"10vh"}});case 104:return e.prev=104,this.setState({loadItem:!1}),e.finish(104);case 107:case"end":return e.stop()}}),e,this,[[37,50],[66,83],[87,98,104,107]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.classes;return this.state.showProgress?Object(Q.jsx)(we.a,{spinning:this.state.onLoading,size:"large",children:Object(Q.jsxs)(j.a,{theme:Xt,children:[Object(Q.jsx)(ce,{}),Object(Q.jsx)("div",{style:{textAlign:"center",marginTop:"2%",marginLeft:40},children:Object(Q.jsx)(y.a,{color:"textPrimary",gutterBottom:!0,style:{marginRight:50,marginTop:20,fontSize:24},children:Object(Q.jsx)("b",{children:"\u6b63\u5728\u4e0b\u8f7d\u6587\u4ef6"})})}),Object(Q.jsx)("div",{style:{textAlign:"center",marginTop:"10%"},children:Object(Q.jsx)(tt.a,{type:"circle",percent:this.state.percentage,width:200})})]})}):Object(Q.jsx)(we.a,{spinning:this.state.onLoading,size:"large",children:Object(Q.jsxs)(j.a,{theme:Xt,children:[Object(Q.jsx)(ce,{}),Object(Q.jsxs)(O.a,{component:"main",className:a.container,children:[Object(Q.jsx)(u.a,{startIcon:Object(Q.jsx)(Ke.a,{style:{fontSize:"2rem"}}),href:"/#/collections",style:{marginTop:20,marginBottom:10,fontSize:"2rem"},children:"\u56de\u5230\u6211\u7684\u6536\u85cf\u9986"}),Object(Q.jsx)(g.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",xs:12,children:Object(Q.jsx)(y.a,{color:"inherit",noWrap:!0,className:a.title,children:"\ud83d\udd25 NFT \ud83d\udd25"})}),Object(Q.jsxs)("div",{className:a.paper,children:[this.state.loadItem?Object(Q.jsxs)(g.a,{container:!0,spacing:5,className:a.content,children:[Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(We.a,{variant:"rect",width:300,height:500,style:{width:370,marginLeft:50,marginBottom:50}})}),Object(Q.jsxs)(g.a,{item:!0,style:{marginLeft:"5%"},children:[Object(Q.jsx)(We.a,{animation:"wave",variant:"text",width:200,height:30}),Object(Q.jsx)(We.a,{animation:"wave",variant:"text",width:400,height:70}),Object(Q.jsx)(We.a,{animation:"wave",variant:"rect",width:500,height:300,style:{marginBottom:50}})]})]}):Object(Q.jsxs)(g.a,{container:!0,direction:"row",justifyContent:"space-between",className:a.content,children:[Object(Q.jsx)(g.a,{item:!0,style:{maxWidth:200},children:Object(Q.jsx)(Ie.a,{className:a.imagePaper,children:Object(Q.jsx)("img",{className:a.imageStyle,src:this.state.Cover})})}),Object(Q.jsx)(g.a,{xs:2}),Object(Q.jsxs)(g.a,{item:!0,xs:!0,className:a.content2,children:[Object(Q.jsxs)(y.a,(e={color:"inherit",align:"left"},Object(p.a)(e,"color","textSecondary"),Object(p.a)(e,"noWrap",!0),Object(p.a)(e,"style",{fontFamily:"Teko",fontSize:16,marginTop:"2%"}),Object(p.a)(e,"children",["#",this.props.match.params.id]),e)),Object(Q.jsx)(y.a,{color:"inherit",align:"left",noWrap:!0,style:{fontFamily:"Teko",fontSize:34,marginTop:"2%"},children:Object(Q.jsx)("b",{children:this.state.Name})}),Object(Q.jsx)(y.a,{align:"justify",color:"textSecondary",paragraph:!0,style:{marginTop:"2%",maxWidth:"100%",fontSize:16},children:this.state.Description}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"6%",maxWidth:"100%",fontSize:24},children:["\u70b9\u706b\u4ef7\u683c: ",this.state.priceString]}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"100%",fontSize:18},children:["\u6700\u5927\u5206\u4eab\u6b21\u6570: ",this.state.maxShillTimes," \u6b21"]}),Object(Q.jsxs)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"100%",fontSize:18},children:["\u5269\u4f59\u5206\u4eab\u6b21\u6570: ",this.state.remainShillTimes," \u6b21"]}),this.state.isEncrypt?Object(Q.jsx)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"100%",fontSize:16},children:"\u52a0\u5bc6\u4f5c\u54c1"}):Object(Q.jsx)(y.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"100%",fontSize:16},children:"\u5f00\u6e90\u4f5c\u54c1"}),t.state.showRecommend?Object(Q.jsx)("div",{children:t.state.isEncrypt?Object(Q.jsxs)(g.a,{container:!0,justifyContent:"space-around",children:[Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",className:a.btnMain,disabled:!0,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(Q.jsx)("font",{size:"4",children:" \u4e0b \u8f7d "})})}),Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"2rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,startIcon:Object(Q.jsx)(et.a,{}),disabled:!0,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(Q.jsx)("font",{size:"4",children:" \u94f8\u9020 "})})})})]}):Object(Q.jsxs)(g.a,{container:!0,direction:"row",justifyContent:"space-around",children:[Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",className:a.btnMain,onClick:t.downloadIPFS,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(Q.jsx)("font",{size:"4",children:" \u4e0b \u8f7d "})})})}),Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"2rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,startIcon:Object(Q.jsx)(et.a,{}),disabled:!0,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(Q.jsx)("font",{size:"4",children:" \u94f8\u9020 "})})})})]})}):t.state.approved?Object(Q.jsx)("div",{children:t.state.isEncrypt?Object(Q.jsxs)(g.a,{container:!0,justifyContent:"space-around",children:[Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",color:"primary",className:a.btnMain,disabled:!0,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(Q.jsx)("font",{size:"4",children:" \u4e0b \u8f7d "})})}),Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"3rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,startIcon:Object(Q.jsx)(et.a,{}),onClick:t.shill,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(Q.jsx)("font",{size:"4",children:" \u94f8\u9020 "})})})})]}):Object(Q.jsxs)(g.a,{container:!0,direction:"row",justifyContent:"space-around",children:[Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",color:"primary",className:a.btnMain,onClick:t.downloadIPFS,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(Q.jsx)("font",{size:"4",children:" \u4e0b \u8f7d "})})})}),Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"3rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,startIcon:Object(Q.jsx)(et.a,{}),onClick:t.shill,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(Q.jsx)("font",{size:"4",children:" \u94f8\u9020 "})})})})]})}):Object(Q.jsx)("div",{children:t.state.isEncrypt?Object(Q.jsxs)(g.a,{container:!0,justifyContent:"space-around",children:[Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",color:"primary",className:a.btnMain,disabled:!0,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(Q.jsx)("font",{size:"4",children:" \u4e0b \u8f7d "})})}),Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"3rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,onClick:t.approve,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(Q.jsx)("font",{size:"4",children:" \u6388\u6743\u5408\u7ea6 "})})})})]}):Object(Q.jsxs)(g.a,{container:!0,direction:"row",justifyContent:"space-around",children:[Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",color:"primary",className:a.btnMain,onClick:t.downloadIPFS,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(Q.jsx)("font",{size:"4",children:" \u4e0b\u8f7d "})})})}),Object(Q.jsx)(g.a,{item:!0,children:Object(Q.jsx)(u.a,{size:"large",style:{fontSize:"3rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,onClick:t.approve,children:Object(Q.jsx)(y.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(Q.jsx)("font",{size:"4",children:" \u6388\u6743\u5408\u7ea6 "})})})})]})})]})]}),this.state.showRecommend?Object(Q.jsxs)(g.a,{style:{marginTop:50},children:[Object(Q.jsx)(y.a,{variant:"h4",gutterBottom:!0,children:"\u6b64NFT\u7684\u5b50\u8282\u70b9\u5df2\u7ecf\u552e\u5b8c\uff0c\u6211\u4eec\u7ed9\u60a8\u63a8\u8350\u4e86\u5176\u4ed6\u8fd8\u80fd\u8d2d\u4e70\u7684\u8282\u70b9\uff1a"}),Object(Q.jsx)(Wt.a,{onClick:this.handleClickLink,style:{fontSize:20,textDecoration:"underline"},children:window.location.host+"/#/NFT/Spark/"+this.state.recommendNFT})]}):Object(Q.jsx)("div",{})]})]})]})})}}]),a}(n.Component),Jt=Object(x.a)((function(e){var t,a,n,s,i;return{container:{maxWidth:1500},btnMain:{marginTop:e.spacing(3),color:"#FFFFFF",backgroundColor:"#03A9F4",borderWidth:3,fontSize:16,borderRadius:25,width:150,maxWidth:"20rem",minWidth:"10rem"},btnSecond:{marginTop:e.spacing(3),color:"#03A9F4",borderWidth:3,borderColor:"#03A9F4",fontSize:16,borderRadius:25,width:150,maxWidth:"20rem",minWidth:"10rem"},paper:{marginTop:e.spacing(1),textAlign:"center",maxWidth:1400},content:(t={fontFamily:"Teko"},Object(p.a)(t,e.breakpoints.between("xs","sm"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("sm","md"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("md","lg"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.between("lg","xl"),{justifyContent:"center",alignItems:"flex-start"}),Object(p.a)(t,e.breakpoints.up("xl"),{justifyContent:"center",alignItems:"flex-start"}),t),imagePaper:(a={},Object(p.a)(a,e.breakpoints.between("xs","sm"),{backgroundColor:"#EFEBE9",width:330,height:420,marginLeft:10}),Object(p.a)(a,e.breakpoints.between("sm","md"),{backgroundColor:"#EFEBE9",width:340,height:440,marginLeft:10}),Object(p.a)(a,e.breakpoints.between("md","lg"),{backgroundColor:"#EFEBE9",width:350,height:465,marginLeft:10}),Object(p.a)(a,e.breakpoints.between("lg","xl"),{backgroundColor:"#EFEBE9",width:350,marginLeft:10}),Object(p.a)(a,e.breakpoints.up("xl"),{backgroundColor:"#EFEBE9",width:350,marginLeft:10}),a),imageStyle:(n={objectFit:"contain"},Object(p.a)(n,e.breakpoints.between("xs","sm"),{width:280,height:365,marginTop:20,marginBottom:50}),Object(p.a)(n,e.breakpoints.between("sm","md"),{width:290,height:385,marginTop:20,marginBottom:50}),Object(p.a)(n,e.breakpoints.between("md","lg"),{width:300,height:420,marginTop:20,marginBottom:50}),Object(p.a)(n,e.breakpoints.between("lg","xl"),{width:300,marginTop:20,marginBottom:50}),Object(p.a)(n,e.breakpoints.up("xl"),{width:300,marginTop:20,marginBottom:50}),n),content2:(s={fontFamily:"Teko"},Object(p.a)(s,e.breakpoints.between("xs","sm"),{marginLeft:10,maxWidth:500}),Object(p.a)(s,e.breakpoints.between("sm","md"),{marginLeft:90,maxWidth:500}),Object(p.a)(s,e.breakpoints.between("md","lg"),{marginLeft:80,maxWidth:500}),Object(p.a)(s,e.breakpoints.between("lg","xl"),{marginLeft:50,maxWidth:500}),Object(p.a)(s,e.breakpoints.up("xl"),{marginLeft:60,maxWidth:500}),s),title:(i={fontFamily:"Teko"},Object(p.a)(i,e.breakpoints.between("xs","sm"),{fontSize:48}),Object(p.a)(i,e.breakpoints.between("sm","md"),{fontSize:60}),Object(p.a)(i,e.breakpoints.between("md","lg"),{fontSize:70}),Object(p.a)(i,e.breakpoints.between("lg","xl"),{fontSize:75}),Object(p.a)(i,e.breakpoints.up("xl"),{fontSize:80}),i)}}),{withTheme:!0})(Kt),Yt=Object(f.a)({palette:{primary:{main:"#FDFEFE"},secondary:{main:"#2196f3"}}}),$t=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.t,a=e.classes;return Object(Q.jsx)("div",{children:Object(Q.jsxs)(j.a,{theme:Yt,children:[Object(Q.jsx)(ce,{}),Object(Q.jsx)(O.a,{component:"main",className:a.container,children:Object(Q.jsxs)("div",{className:a.paper,children:[Object(Q.jsx)(y.a,{color:"inherit",noWrap:!0,className:a.shouldKnow,children:Object(Q.jsx)("b",{children:"\u53d1\u5e03\u987b\u77e5"})}),Object(Q.jsx)(y.a,{variant:"h4",paragraph:!0,className:a.content,children:"\u5728\u53bb\u53d1\u5e03\u60a8\u7684\u4f5c\u54c1\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u4e86\u89e3\u4ee5\u4e0b\u4fe1\u606f\uff0c\u5b83\u4eec\u5c06\u6709\u52a9\u4e8e\u60a8\u4e86\u89e3\u5b8c\u6574\u7684\u53d1\u5e03\u6d41\u7a0b\uff1a"}),Object(Q.jsxs)(y.a,{color:"textSecondary",paragraph:!0,className:a.content,children:[Object(Q.jsx)("b",{children:"1."})," \u60a8\u7684\u4f5c\u54c1\u5c06\u88ab\u5b58\u50a8\u5728IPFS\uff08InterPlanetary File System\uff09\u4e2d\uff0c\u800c\u5b58\u50a8\u5730\u5740\u5c06\u88ab\u8bb0\u5f55\u5728\u4ee5\u592a\u574a\u4e0a\uff0c\u4e0e\u60a8\u7684NFT\u7ed1\u5b9a\u5728\u4e00\u8d77"]}),Object(Q.jsxs)(y.a,{color:"textSecondary",paragraph:!0,className:a.content,children:[Object(Q.jsx)("b",{children:"2."})," ","\u60a8\u53ef\u4ee5\u9009\u62e9\u662f\u5c06\u60a8\u7684\u4f5c\u54c1\u5f00\u6e90\u5f97\u4fdd\u5b58\u5728IPFS\u4e0a\uff0c\u6216\u8005\u52a0\u5bc6\u4fdd\u5b58\u5728IPFS\u4e0a\u3002\u9488\u5bf9\u52a0\u5bc6\u7684\u4f5c\u54c1\uff0c\u53ea\u6709\u6301\u6709\u60a8\u53d1\u884c\u7684NFT\u7684\u8bfb\u8005\u624d\u80fd\u8bbf\u95ee\u3002"," ",Object(Q.jsx)("br",{})]}),Object(Q.jsxs)(y.a,{color:"textSecondary",paragraph:!0,className:a.content,children:[Object(Q.jsx)("b",{children:"3."})," ","\u5982\u679c\u60a8\u9009\u62e9\u52a0\u5bc6\u4fdd\u5b58\u5728IPFS\u4e0a\uff0c\u60a8\u9700\u8981\u5728\u5c06\u4f5c\u54c1\u57fa\u672c\u4fe1\u606f\u4e0a\u4f20\u5230\u94fe\u4e0a\u540e\uff0c\u518d\u8bbe\u7f6e\u4f5c\u54c1\u7684\u5730\u5740\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u6211\u4eec\u4f1a\u5f15\u5bfc\u60a8\u5b8c\u6210\uff0c\u8bf7\u52ff\u62c5\u5fc3\u3002"," ",Object(Q.jsx)("br",{})]}),Object(Q.jsxs)(y.a,{color:"textSecondary",paragraph:!0,className:a.content,children:[Object(Q.jsx)("b",{children:"4."})," ","\u5f53\u60a8\u5c06\u4f5c\u54c1\u53d1\u5e03\u5728\u6211\u4eec\u5e73\u53f0\u65f6\uff0c\u6211\u4eec\u9ed8\u8ba4\u60a8\u4f1a\u652f\u6301\u4e8c\u6b21\u521b\u4f5c\uff0c\u5904\u4e8e\u60a8\u5ba3\u4f20\u7f51\u7edc\u4e2d\u7684\u8bfb\u8005\u6709\u6743\u5c06\u4ed6\u4eec\u6301\u6709\u7684NFT\u5bf9\u5e94\u7684\u5730\u5740\u66ff\u6362\u4e3a\u4ed6\u4eec\u81ea\u5df1\u7684\u4e8c\u6b21\u521b\u4f5c\u4f5c\u54c1\u3002"," ",Object(Q.jsx)("br",{})]}),Object(Q.jsxs)(g.a,{container:!0,justifyContent:"center",style:{fontFamily:"Teko",marginTop:70},children:[Object(Q.jsx)(g.a,{item:!0,style:{display:"flex"},justifyContent:"center",xs:12,children:Object(Q.jsx)(u.a,{size:"large",variant:"contained",color:"secondary",className:a.btnMain,href:"/#/encryptedPublish",children:Object(Q.jsx)("b",{children:t("publish_encry")})})}),Object(Q.jsx)(g.a,{item:!0,style:{display:"flex",marginTop:20},justifyContent:"center",xs:12,children:Object(Q.jsx)(u.a,{size:"large",variant:"contained",color:"secondary",className:a.btnSecond,href:"/#/publish",children:Object(Q.jsx)("b",{children:t("publish_open")})})})]})]})})]})})}}]),a}(n.Component),ea=Object($.a)()(Object(x.a)((function(e){var t,a,n,s;return{icon:{marginRight:e.spacing(2)},titleFont:{fontFamily:"Teko"},btn:{color:"#424949",borderWidth:2,borderColor:"#e3f2fd",fontSize:16},btnMain:(t={color:"#FFFFFF",borderColor:"#e3f2fd",borderWidth:2,borderRadius:25,"&:hover":{color:"#FFFFFF"}},Object(p.a)(t,e.breakpoints.between("xs","sm"),{fontSize:15,paddingLeft:10,paddingRight:10}),Object(p.a)(t,e.breakpoints.between("sm","md"),{fontSize:20}),Object(p.a)(t,e.breakpoints.between("md","lg"),{fontSize:26}),Object(p.a)(t,e.breakpoints.between("lg","xl"),{fontSize:26,paddingLeft:30,paddingRight:30}),Object(p.a)(t,e.breakpoints.up("xl"),{fontSize:30,height:70,paddingLeft:30,paddingRight:30}),t),btnSecond:(a={color:"#FFFFFF",borderColor:"#e3f2fd",borderWidth:2,borderRadius:25,"&:hover":{color:"#FFFFFF"}},Object(p.a)(a,e.breakpoints.between("xs","sm"),{fontSize:15,paddingLeft:10,paddingRight:10}),Object(p.a)(a,e.breakpoints.between("sm","md"),{fontSize:20}),Object(p.a)(a,e.breakpoints.between("md","lg"),{fontSize:26}),Object(p.a)(a,e.breakpoints.between("lg","xl"),{fontSize:26,paddingLeft:30,paddingRight:30}),Object(p.a)(a,e.breakpoints.up("xl"),{fontSize:30,height:70,paddingLeft:30,paddingRight:30}),a),paper:{marginTop:e.spacing(7),maxWidth:"150%"},content:(n={fontFamily:"Teko",marginTop:20,lineHeight:1.5},Object(p.a)(n,e.breakpoints.between("xs","sm"),{fontSize:16}),Object(p.a)(n,e.breakpoints.between("sm","md"),{fontSize:20}),Object(p.a)(n,e.breakpoints.between("md","lg"),{fontSize:20}),Object(p.a)(n,e.breakpoints.between("lg","xl"),{fontSize:20}),Object(p.a)(n,e.breakpoints.up("xl"),{fontSize:30}),n),shouldKnow:(s={fontFamily:"Teko",textAlign:"center"},Object(p.a)(s,e.breakpoints.between("xs","sm"),{fontSize:16}),Object(p.a)(s,e.breakpoints.between("sm","md"),{fontSize:20}),Object(p.a)(s,e.breakpoints.between("md","lg"),{fontSize:40}),Object(p.a)(s,e.breakpoints.between("lg","xl"),{fontSize:40}),Object(p.a)(s,e.breakpoints.up("xl"),{fontSize:60}),s)}}),{withTheme:!0})($t)),ta=at.backend,aa=a(416),na=aa.pinata_api_key,sa=aa.pinata_secret_api_key,ia=a(417),ra=a(418),oa=a(448),ca=Oe.a.Option,la=a(156),da=Object(f.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),ma=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:"",bonusFee:0,price:0,buffer:null,file:null,ipfsHashCover:"",ipfsMeta:"",fileType:"",fileIpfs:"",description:"",shareTimes:0,onLoading:!1,rootNFTId:"",issueId:"",allowSubmitPDF:!1,usedAcc:"",sig:"",finished:!1,open:!1,coverURL:"",jumped:!1,data:[],token_addr:null,token_symbol:"MATIC",decimal:0},e.handleGetPubName=function(t){e.setState({name:t.target.value})},e.handleGetBonusFee=function(t){e.setState({bonusFee:t})},e.handleGetPrice=function(t){e.setState({price:t})},e.handleGetShareTimes=function(t){e.setState({shareTimes:t})},e.handleGetDescription=function(t){e.setState({description:t.target.value})},e.handleGetNFTId=function(t){e.setState({rootNFTId:String(t)})},e.handleClose=function(){e.setState({open:!1})},e.handleClickOpen=function(){e.setState({open:!0})},e.handleSearch=function(){var t=Object(v.a)(w.a.mark((function t(a){var n,s,i,r,o,c,l,d,m;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){a=a.toLowerCase(),n=Ce.a,s=[],i=new RegExp(a),r=Object(pe.a)(n);try{for(r.s();!(o=r.n()).done;)c=o.value,l=c.symbol.toLowerCase(),d='"'.concat(c.symbol,'"')+"   "+c.address,m={value:c.address,text:d},i.test(l)&&!s.includes(m)&&s.push(m)}catch(b){r.e(b)}finally{r.f()}a.includes("0x")&&42==a.length&&(s=[{value:a,text:a}]),e.setState({data:s})}else e.setState({data:[]});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSelectChange=function(){var t=Object(v.a)(w.a.mark((function t(a){var n,s,i,r,o,c,l,d,m;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.t,s=Ce.a,c=Object(pe.a)(s);try{for(c.s();!(l=c.n()).done;)d=l.value,a===d.address&&(i=a,r=d.symbol,o=d.decimals)}catch(b){c.e(b)}finally{c.f()}if(void 0!=r){t.next=19;break}return t.prev=5,m=new se.eth.Contract(la,a),t.next=9,m.methods.symbol().call();case 9:return r=t.sent,t.next=12,m.methods.decimals().call();case 12:o=t.sent,i=a,t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),ge.b.error(n("error_no_erc20"));case 19:e.setState({token_addr:i,token_symbol:r,decimal:o});case 20:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e){return t.apply(this,arguments)}}(),e.jump=Object(v.a)(w.a.mark((function t(){var a,n,s,i,r,o;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.t,t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return n=t.sent,s=n[0],e.setState({usedAcc:s}),t.next=8,Fe.methods.ownerOf(e.state.rootNFTId).call();case 8:return i=t.sent,t.next=11,Fe.methods.getIssueIdByNFTId(e.state.rootNFTId).call();case 11:return r=t.sent,t.next=14,Fe.methods.getRoyaltyFeeByIssueId(r).call();case 14:o=t.sent,s==i.toLowerCase()?e.setState({onLoading:!1,allowSubmitPDF:!0,jumped:!0,bonusFee:o}):ge.b.warning({content:a("no_NFT_owner"),className:"custom-class",style:{marginTop:"10vh"}});case 16:case"end":return t.stop()}}),t)}))),e.submit=Object(v.a)(w.a.mark((function t(){var a,n,s,i,r,o,c;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:if(a=t.sent,n=a[0],e.setState({usedAcc:n}),s=Object(he.a)(e),0!==e.state.price&&0!==e.state.bonusFee&&0!==e.state.shareTimes&&null!==e.state.token_addr){t.next=10;break}ge.b.error({content:"\u4f60\u6709\u4fe1\u606f\u5c1a\u672a\u586b\u5199",className:"custom-class",style:{marginTop:"10vh"}}),t.next=20;break;case 10:return e.setState({onLoading:!0}),i=(i=e.state.price*Math.pow(10,e.state.decimal)).toString(),r="0x0000000000000000000000000000000000000000000000000000000000000000",console.debug("price_with_decimal: ",i),t.next=17,se.eth.getGasPrice();case 17:o=t.sent,c=Math.floor(1.5*parseInt(o)).toString(),Fe.methods.publish(i,e.state.bonusFee,e.state.shareTimes,r,e.state.token_addr).send({from:e.state.usedAcc,gasPrice:c}).on("receipt",(function(e){console.log(e);var t=e.events.Publish.returnValues,a=String(t.rootNFTId);console.debug(typeof a);var n=t.issue_id;s.setState({onLoading:!1,rootNFTId:a,issueId:n,allowSubmitPDF:!0}),ge.b.success({content:"\u4f5c\u54c1\u57fa\u672c\u4fe1\u606f\u5df2\u63d0\u4ea4\u6210\u529f",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){s.setState({onLoading:!1}),e.message.includes("not mined")?ge.b.warning({content:"\u4ea4\u6613\u5df2\u63d0\u4ea4\uff0c\u5f53\u524d\u7f51\u7edc\u8f83\u62e5\u5835\uff0c\u8bf7\u7a0d\u7b49\u540e\u53bb\u6211\u7684\u6536\u85cf\u4e2d\u67e5\u770b",className:"custom-class",style:{marginTop:"10vh"}}):(console.debug(e.message),ge.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}}))}));case 20:case"end":return t.stop()}}),t)}))),e.checkDetail=Object(v.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a="/#/NFT/"+e.state.rootNFTId,window.open(a,"_self");case 2:case"end":return t.stop()}}),t)}))),e.submitWork=Object(v.a)(w.a.mark((function t(){var a,n,s,i,r,o,c,l,d,m,b,p;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.state.ipfsHashCover&&""!==e.state.fileIpfs){t.next=4;break}ge.b.error({content:"\u4f60\u6709\u4fe1\u606f\u5c1a\u672a\u586b\u5199",className:"custom-class",style:{marginTop:"10vh"}}),t.next=42;break;case 4:return a="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+e.state.ipfsHashCover,e.setState({coverURL:a}),console.debug("coverURL: ",e.state.coverURL),n=e.state.description.replace(/(\r\n\t|\n|\r\t)/gm," "),t.next=10,window.ethereum.request({method:"eth_requestAccounts"});case 10:if(s=t.sent,s[0]===e.state.usedAcc){t.next=15;break}return ge.b.warning({content:"\u8d26\u6237\u53d1\u751f\u53d8\u5316\uff0c\u8bf7\u5207\u6362\u56de\u539f\u8d26\u6237",className:"custom-class",style:{marginTop:"10vh"}}),t.abrupt("return");case 15:return i="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+e.state.fileIpfs,r={name:e.state.name,description:n,image:e.state.coverURL,attributes:[{display_type:"boost_percentage",trait_type:"Bonuse Percentage",value:e.state.bonusFee},{trait_type:"File Address",value:i},{value:e.state.fileType},{trait_type:"Encrypted",value:"TRUE"}]},console.debug(r),"https://api.pinata.cloud/pinning/pinJSONToIPFS",o=Object(he.a)(e),e.setState({onLoading:!0}),t.prev=21,t.next=24,Te.a.post("https://api.pinata.cloud/pinning/pinJSONToIPFS",r,{headers:{pinata_api_key:na,pinata_secret_api_key:sa}});case 24:return c=t.sent,console.debug("metadata: ",c.data.IpfsHash),l=ra.decode(c.data.IpfsHash),d=l.toString("hex").substring(4),console.log(d),console.log(c.data.IpfsHash),e.setState({ipfsMeta:d}),m="0x"+d,t.next=34,se.eth.getGasPrice();case 34:b=t.sent,p=Math.floor(1.5*parseInt(b)).toString(),Fe.methods.setURI(o.state.rootNFTId,m).send({from:o.state.usedAcc,gasPrice:p}).on("receipt",(function(e){console.debug(e.events.SetURI),ge.b.success({content:"\u4f5c\u54c1\u57fa\u672c\u4fe1\u606f\u5df2\u63d0\u4ea4\u6210\u529f",className:"custom-class",style:{marginTop:"10vh"}}),o.setState({allowSubmitPDF:!1,finished:!0,onLoading:!1})})).on("error",(function(e){o.setState({onLoading:!1}),ge.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})})),t.next=42;break;case 39:t.prev=39,t.t0=t.catch(21),ge.b.error({content:"Error: ".concat(t.t0.message),className:"custom-class",style:{marginTop:"10vh"}});case 42:case"end":return t.stop()}}),t,null,[[21,39]])}))),e}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.t,window.ethereum){e.next=5;break}return alert(t("please_install_metamask")),window.location.href="/#/introPublish",e.abrupt("return");case 5:return e.next=7,window.ethereum.request({method:"eth_chainId"});case 7:if("0x89"===e.sent){e.next=12;break}return alert(t("please_set_polygon")),e.next=12,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.t,a=this.props.classes;console.log(t,a);var n=this,s=ke.a.TextArea,i=this.state.data.map((function(e){return Object(Q.jsx)(ca,{children:e.text},e.value)})),r={name:"file",action:"https://api.pinata.cloud/pinning/pinFileToIPFS",headers:{pinata_api_key:na,pinata_secret_api_key:sa},data:this.state.buffer,beforeUpload:function(t){return new Promise((function(a,n){try{var s=new FileReader;s.readAsArrayBuffer(t),s.onload=function(t){var a=t.target.result,n=new ia;n.append("file",a),e.setState({buffer:n})},a()}catch(i){ge.b.error("Read file error"),n()}}))},onChange:function(e){return Object(v.a)(w.a.mark((function t(){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"done"===(a=e.file.status)?(ge.b.success("".concat(e.file.name," file uploaded successfully.")),n.setState({ipfsHashCover:e.file.response.IpfsHash})):"error"===a&&ge.b.error("".concat(e.file.name," file upload failed."));case 2:case"end":return t.stop()}}),t)})))()},onDrop:function(e){ge.b.error("Only image file supported"),console.log("Dropped files",e.dataTransfer.files)}},o={name:"file",action:"https://api.pinata.cloud/pinning/pinFileToIPFS",headers:{pinata_api_key:na,pinata_secret_api_key:sa},beforeUpload:function(e){return new Promise(function(){var t=Object(v.a)(w.a.mark((function t(a,s){var i,r,o,c,l,d,m,b,p,h;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return i=t.sent,r=i[0],o={account:r,nft_id:n.state.rootNFTId},t.next=8,se.eth.personal.sign(JSON.stringify(o),r);case 8:return c=t.sent,console.debug(c),l={nft_id:n.state.rootNFTId,account:r,signature:c},d=JSON.stringify(l),console.log(d),m=ta+"/api/v1/key/claim",t.prev=14,t.next=17,Te.a.post(m,d,{headers:{"Content-Type":"application/json"}});case 17:b=t.sent,p=b.data.key,console.debug(p),(h=new FileReader).readAsArrayBuffer(e),h.onload=function(e){var t=e.target.result,n=oa.lib.WordArray.create(t),s=oa.enc.Hex.stringify(n),i=oa.AES.encrypt(s,p).toString(),r=new Blob([i]);a(r)},t.next=28;break;case 25:t.prev=25,t.t0=t.catch(14),400==t.t0.response.status?t.t0.response.data.message.includes("signature invalid")?o.error({content:"\u60a8\u7684\u7b7e\u540d\u6709\u8bef\uff0c\u8bf7\u67e5\u770b\u7b7e\u540d\u8d26\u53f7\u662f\u5426\u6b63\u786e",className:"custom-class",style:{marginTop:"10vh"}}):t.t0.response.data.message.includes("param invalid")?o.error({content:"\u53c2\u6570\u9519\u8bef",className:"custom-class",style:{marginTop:"10vh"}}):t.t0.response.data.message.includes("not owned")?o.error({content:"\u60a8\u5e76\u4e0d\u62e5\u6709\u6b64nft",className:"custom-class",style:{marginTop:"10vh"}}):t.t0.response.data.message.includes("not found")&&o.error({content:"\u6b64nft\u8fd8\u672a\u751f\u6210",className:"custom-class",style:{marginTop:"10vh"}}):o.error({content:"\u8bf7\u6c42\u6587\u4ef6\u52a0\u5bc6\u5bc6\u94a5\u5931\u8d25",className:"custom-class",style:{marginTop:"10vh"}});case 28:t.next=34;break;case 30:t.prev=30,t.t1=t.catch(0),ge.b.error({content:"Read file error",className:"custom-class",style:{marginTop:"10vh"}}),s();case 34:case"end":return t.stop()}}),t,null,[[0,30],[14,25]])})));return function(e,a){return t.apply(this,arguments)}}())},onChange:function(e){if("done"===e.file.status){var t=e.file.name.split("."),a=t[t.length-1];n.setState({fileIpfs:e.file.response.IpfsHash,fileType:a}),console.debug("encrypted file hash: ",e.file.response.IpfsHash),ge.b.success("".concat(e.file.name," file uploaded successfully."))}},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return this.state.allowSubmitPDF?Object(Q.jsx)(we.a,{spinning:this.state.onLoading,size:"large",children:Object(Q.jsx)(O.a,{component:"main",maxWidth:"xs",className:a.main,children:Object(Q.jsxs)("div",{className:a.paper,children:[Object(Q.jsx)(y.a,{className:a.titlePub,children:Object(Q.jsx)("b",{children:t("up_file")})}),Object(Q.jsxs)("form",{className:a.form,noValidate:!0,children:[this.state.jumped?Object(Q.jsxs)("div",{children:[Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginBottom:10},children:[t("art_name")," *"]}),Object(Q.jsx)(ke.a,{placeholder:t("art_name"),allowClear:!0,id:"pubName",onChange:this.handleGetPubName,value:this.state.name,className:a.input})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("art_desc")," *"]}),Object(Q.jsx)("p",{style:{fontSize:14},children:t("art_desc_tip")}),Object(Q.jsx)(s,{rows:4,id:"Description",onChange:this.handleGetDescription})]})]}):Object(Q.jsx)("div",{}),Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:50},children:[t("pic_cover")," *"]}),Object(Q.jsx)("p",{style:{fontSize:12},children:t("pic_cover_tip")}),Object(Q.jsxs)(xe.a,Object(be.a)(Object(be.a)({},r),{},{style:{width:"100%",minHeight:100},id:"Uploader",accept:".png, .jpg, .jpeg",children:[Object(Q.jsx)("p",{className:"ant-upload-drag-icon",children:Object(Q.jsx)(fe.a,{})}),Object(Q.jsx)("p",{className:"ant-upload-text",children:t("upload_file_tip1")}),Object(Q.jsx)("p",{className:"ant-upload-hint",children:t("upload_file_tip2")})]})),Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:50},children:[t("art_file")," *"]}),Object(Q.jsxs)("p",{style:{fontSize:12},children:[t("art_file_tip")," "]}),Object(Q.jsxs)(xe.a,Object(be.a)(Object(be.a)({},o),{},{style:{width:"100%",minHeight:100},id:"Uploader2",children:[Object(Q.jsx)("p",{className:"ant-upload-drag-icon",children:Object(Q.jsx)(fe.a,{})}),Object(Q.jsx)("p",{className:"ant-upload-text",children:t("upload_file_tip1")}),Object(Q.jsx)("p",{className:"ant-upload-hint",children:t("upload_file_tip2")})]})),Object(Q.jsx)("div",{style:{textAlign:"center"},children:Object(Q.jsx)(u.a,{variant:"contained",startIcon:Object(Q.jsx)(ye.a,{}),className:a.btnPub,onClick:this.submitWork,children:"\u53d1\u5e03\u4f5c\u54c1"})})]})]})})}):this.state.finished?Object(Q.jsx)(we.a,{spinning:this.state.onLoading,size:"large",children:Object(Q.jsxs)(j.a,{theme:da,children:[Object(Q.jsx)(ce,{}),Object(Q.jsxs)("div",{style:{textAlign:"center"},children:[Object(Q.jsx)(y.a,{className:a.titleCon,children:Object(Q.jsxs)("b",{children:[" ",t("pulish_success")]})}),Object(Q.jsx)(Ie.a,{className:a.paperImg,children:Object(Q.jsx)("img",{style:{width:300,marginTop:20,marginBottom:50},src:this.state.coverURL})}),Object(Q.jsx)(y.a,{variant:"h4",style:{marginTop:20,fontFamily:"Ubuntu"},children:Object(Q.jsxs)("b",{children:[t("you_gain_nft")," #",this.state.rootNFTId]})}),Object(Q.jsx)(u.a,{variant:"contained",className:a.button,style:{marginTop:50,width:200,height:50,marginBottom:50},onClick:this.checkDetail,children:t("show_detail")})]})]})}):Object(Q.jsx)(we.a,{spinning:this.state.onLoading,size:"large",children:Object(Q.jsxs)(j.a,{theme:da,children:[Object(Q.jsx)(ce,{}),Object(Q.jsx)(O.a,{component:"main",maxWidth:"xs",className:a.main,children:Object(Q.jsxs)("div",{className:a.paper,children:[Object(Q.jsx)(y.a,{className:a.titlePub,children:Object(Q.jsx)("b",{children:t("art_info")})}),Object(Q.jsx)("form",{className:a.form,noValidate:!0,children:Object(Q.jsxs)(g.a,{container:!0,spacing:2,children:[Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginBottom:10},children:[t("art_name")," *"]}),Object(Q.jsx)(ke.a,{placeholder:t("art_name"),allowClear:!0,id:"pubName",onChange:this.handleGetPubName,value:this.state.name,className:a.input})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("fit_rate")," *"]}),Object(Q.jsx)("p",{style:{fontSize:14},children:t("fit_rate_tip")}),Object(Q.jsx)(ve.a,{id:"bonusFee",defaultValue:0,min:0,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},onChange:this.handleGetBonusFee,className:a.inputNum})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("access_coin")," *"]}),Object(Q.jsx)("p",{style:{fontSize:14},children:t("access_coin_tip")}),Object(Q.jsx)(Oe.a,{showSearch:!0,value:this.state.token_addr,placeholder:t("please_input_coin"),style:{width:"100%"},size:"large",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.handleSearch,onChange:this.handleSelectChange,notFoundContent:null,children:i})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("price")," (",this.state.token_symbol,")*"]}),Object(Q.jsx)(ve.a,{id:"price",defaultValue:0,min:0,onChange:this.handleGetPrice,className:a.inputNum})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("max_share")," (MAX\uff1a 65535)*"]}),Object(Q.jsx)("p",{style:{fontSize:14},children:t("max_share_tip")}),Object(Q.jsx)(ve.a,{id:"shareTimes",defaultValue:0,min:0,max:65535,onChange:this.handleGetShareTimes,className:a.inputNum})]}),Object(Q.jsxs)(g.a,{item:!0,style:{width:"100%"},children:[Object(Q.jsxs)("label",{style:{fontSize:18,marginTop:20},children:[t("art_desc")," *"]}),Object(Q.jsx)("p",{style:{fontSize:14},children:t("art_desc_tip")}),Object(Q.jsx)(s,{rows:4,id:"Description",onChange:this.handleGetDescription})]})]})}),Object(Q.jsxs)(g.a,{container:!0,alignItems:"center",spacing:4,style:{marginTop:20,marginBottom:50},children:[Object(Q.jsx)(g.a,{item:!0,xs:!0,style:{textAlign:"center"},children:Object(Q.jsx)(u.a,{variant:"contained",className:a.button,startIcon:Object(Q.jsx)(ye.a,{}),style:{width:200,height:50,marginBottom:20,marginTop:20},onClick:this.submit,children:t("submit")})}),Object(Q.jsx)(g.a,{item:!0,xs:!0,style:{textAlign:"center"},children:Object(Q.jsx)(Wt.a,{onClick:this.handleClickOpen,style:{fontSize:10,textDecoration:"underline"},children:t("have_submit")})})]}),Object(Q.jsxs)(N.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(Q.jsx)(A.a,{id:"form-dialog-title",children:t("inpt_NFT_ID")}),Object(Q.jsxs)(B.a,{children:[Object(Q.jsx)(ht.a,{children:t("inpt_NFT_ID_tip")}),Object(Q.jsx)("label",{style:{fontSize:14,marginBottom:10},children:"NFT ID *"}),Object(Q.jsx)(ve.a,{defaultValue:0,min:0,onChange:this.handleGetNFTId})]}),Object(Q.jsxs)(ut.a,{children:[Object(Q.jsx)(u.a,{onClick:this.handleClose,color:"primary",children:t("cancel")}),Object(Q.jsx)(u.a,{variant:"contained",onClick:this.jump,color:"primary",children:t("go_upload")})]})]})]})})]})})}}]),a}(n.Component),ba=Object($.a)()(Object(x.a)((function(e){var t,a,n,s,i;return{main:(t={},Object(p.a)(t,e.breakpoints.between("xs","sm"),{width:"60%"}),Object(p.a)(t,e.breakpoints.up("sm"),{width:500}),t),titleCon:(a={marginTop:50,fontFamily:"Ubuntu"},Object(p.a)(a,e.breakpoints.between("xs","sm"),{fontSize:30}),Object(p.a)(a,e.breakpoints.up("sm"),{fontSize:40}),a),titlePub:(n={marginTop:"3%",fontFamily:"Ubuntu"},Object(p.a)(n,e.breakpoints.between("xs","sm"),{fontSize:30}),Object(p.a)(n,e.breakpoints.up("sm"),{fontSize:40}),n),paperImg:(s={backgroundColor:"#EFEBE9",width:330},Object(p.a)(s,e.breakpoints.between("xs","sm"),{marginLeft:"5%",marginTop:30}),Object(p.a)(s,e.breakpoints.between("sm","md"),{marginLeft:"30%",marginTop:30}),Object(p.a)(s,e.breakpoints.between("md","lg"),{marginLeft:"30%",marginTop:30}),Object(p.a)(s,e.breakpoints.between("lg","xl"),{marginLeft:"40%",marginTop:30}),Object(p.a)(s,e.breakpoints.up("xl"),{marginLeft:"45%",marginTop:30}),s),btnPub:(i={margin:e.spacing(1),borderRadius:25,color:"#FFFFFF",backgroundColor:"#2196f3",marginBottom:20,marginTop:40,height:45,minWidth:200},Object(p.a)(i,e.breakpoints.between("xs","sm"),{width:"50%"}),Object(p.a)(i,e.breakpoints.between("sm","md"),{fontSize:16,width:"30%"}),Object(p.a)(i,e.breakpoints.up("md"),{fontSize:16,width:"30%"}),i),btn:{color:"#424949",borderWidth:2,borderColor:"#e3f2fd",fontSize:16},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:ue.a[500],width:60,height:60},form:{width:"150%",marginTop:e.spacing(7)},submit:{margin:e.spacing(3,0,2)},fileBtn:{padding:"10px 30px 10px 30px",background:"#66C1E4",border:"none",color:"#FFF",boxShadow:"1px 1px 1px #4C6E91"},button:{margin:e.spacing(1),fontSize:20,borderRadius:25,color:"#FFFFFF",backgroundColor:"#2196f3"},input:{height:40,borderRadius:5},inputNum:{height:40,borderRadius:5,width:"100%",fontSize:20}}}),{withTheme:!0})(ma)),pa=Object(f.a)({palette:{primary:{main:"#FDFEFE"},secondary:{main:"#2196f3"}}}),ha=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(Q.jsx)("div",{children:Object(Q.jsxs)(j.a,{theme:pa,children:[Object(Q.jsx)(ce,{}),Object(Q.jsx)(O.a,{component:"main",className:e.container,children:Object(Q.jsx)("div",{className:e.paper,children:Object(Q.jsx)(y.a,{color:"inherit",noWrap:!0,className:e.shouldKnow,children:Object(Q.jsx)("b",{children:"\u656c\u8bf7\u671f\u5f85"})})})})]})})}}]),a}(n.Component),ua=Object(x.a)((function(e){var t,a,n,s;return{icon:{marginRight:e.spacing(2)},titleFont:{fontFamily:"Teko"},btn:{color:"#424949",borderWidth:2,borderColor:"#e3f2fd",fontSize:16},btnMain:(t={color:"#FFFFFF",borderColor:"#e3f2fd",borderWidth:2,borderRadius:25},Object(p.a)(t,e.breakpoints.between("xs","sm"),{fontSize:5}),Object(p.a)(t,e.breakpoints.between("sm","md"),{fontSize:10}),Object(p.a)(t,e.breakpoints.between("md","lg"),{fontSize:16}),Object(p.a)(t,e.breakpoints.between("lg","xl"),{fontSize:16,width:150}),Object(p.a)(t,e.breakpoints.up("xl"),{fontSize:30,width:300,height:70}),t),btnSecond:(a={color:"#03A9F4",borderColor:"#03A9F4",borderWidth:2,borderRadius:25},Object(p.a)(a,e.breakpoints.between("xs","sm"),{fontSize:5,width:95}),Object(p.a)(a,e.breakpoints.between("sm","md"),{fontSize:10}),Object(p.a)(a,e.breakpoints.between("md","lg"),{fontSize:16}),Object(p.a)(a,e.breakpoints.between("lg","xl"),{fontSize:16,width:150}),Object(p.a)(a,e.breakpoints.up("xl"),{fontSize:30,width:300,height:70}),a),paper:{marginTop:e.spacing(7),maxWidth:"150%"},content:(n={fontFamily:"Teko",marginTop:20,lineHeight:1.5},Object(p.a)(n,e.breakpoints.between("xs","sm"),{fontSize:16}),Object(p.a)(n,e.breakpoints.between("sm","md"),{fontSize:20}),Object(p.a)(n,e.breakpoints.between("md","lg"),{fontSize:20}),Object(p.a)(n,e.breakpoints.between("lg","xl"),{fontSize:20}),Object(p.a)(n,e.breakpoints.up("xl"),{fontSize:30}),n),shouldKnow:(s={fontFamily:"Teko",textAlign:"center"},Object(p.a)(s,e.breakpoints.between("xs","sm"),{fontSize:16}),Object(p.a)(s,e.breakpoints.between("sm","md"),{fontSize:20}),Object(p.a)(s,e.breakpoints.between("md","lg"),{fontSize:40}),Object(p.a)(s,e.breakpoints.between("lg","xl"),{fontSize:40}),Object(p.a)(s,e.breakpoints.up("xl"),{fontSize:60}),s)}}),{withTheme:!0})(ha),ga=function(){return Object(Q.jsx)(o.a,{children:Object(Q.jsxs)(c.c,{children:[Object(Q.jsx)(c.a,{exact:!0,path:"/",component:me}),Object(Q.jsx)(c.a,{exact:!0,path:"/introPublish",component:ea}),Object(Q.jsx)(c.a,{exact:!0,path:"/buy",component:ua}),Object(Q.jsx)(c.a,{exact:!0,path:"/publish",component:Me}),Object(Q.jsx)(c.a,{exact:!0,path:"/encryptedPublish",component:ba}),Object(Q.jsx)(c.a,{exact:!0,path:"/sellSingle/:NFTId",component:wt}),Object(Q.jsx)(c.a,{exact:!0,path:"/buySingle/:NFTId",component:Nt}),Object(Q.jsx)(c.a,{exact:!0,path:"/collections",component:Mt}),Object(Q.jsx)(c.a,{exact:!0,path:"/NFT/:id",component:bt}),Object(Q.jsx)(c.a,{exact:!0,path:"/NFT/spark/:id",component:Jt})]})})},fa=a(199),ja=a(465),xa=a(466);H.a.use(ja.a).use(xa.a).use(fa.e).init({backend:{loadPath:"./locales/{{lng}}.json"},react:{useSuspense:!1},fallbackLng:"en",preload:["en","zh","zh-cn"],keySeparator:!1,interpolation:{escapeValue:!1}});H.a;r.a.render(Object(Q.jsx)(ga,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},173:function(e){e.exports=JSON.parse('{"a":[{"chainId":137,"name":"MATIC","address":"0x0000000000000000000000000000000000000000","symbol":"MATIC","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB6eD7644C69416d67B522e20bC294A9a9B405B31/logo.png"},{"chainId":137,"name":"0xBitcoin Token","address":"0x71B821aa52a49F32EEd535fCA6Eb5aa130085978","symbol":"0xBTC","decimals":8,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB6eD7644C69416d67B522e20bC294A9a9B405B31/logo.png"},{"chainId":137,"name":"AGA Rewards","address":"0xF84BD51eab957c2e7B7D646A3427C5A50848281D","symbol":"AGAr","decimals":8,"logoURI":"https://i.imgur.com/06BkcTT.png"},{"chainId":137,"name":"AGA Token","address":"0x033d942A6b495C4071083f4CDe1f17e986FE856c","symbol":"AGA","decimals":4,"logoURI":"https://i.imgur.com/R0aQlym.png"},{"chainId":137,"name":"ARIANEE","address":"0x46F48FbdedAa6F5500993BEDE9539ef85F4BeE8e","symbol":"ARIA20","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x46f48fbdedaa6f5500993bede9539ef85f4bee8e/cf8505bb838cf58c26a32dde95bce96f.png"},{"chainId":137,"name":"Aave","address":"0xD6DF932A45C0f255f85145f286eA0b292B21C90B","symbol":"AAVE","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xd6df932a45c0f255f85145f286ea0b292b21c90b/eee087b66747b09dbfb4ba0b34fd3697.png"},{"chainId":137,"name":"Aavegotchi GHST Token","address":"0x385Eeac5cB85A38A9a07A70c73e0a3271CfB54A7","symbol":"GHST","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x385eeac5cb85a38a9a07a70c73e0a3271cfb54a7/70918cb9df86b2f332c9649077756581.png"},{"chainId":137,"name":"Adamant","address":"0xc3FdbadC7c795EF1D6Ba111e06fF8F16A20Ea539","symbol":"ADDY","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xc3fdbadc7c795ef1d6ba111e06ff8f16a20ea539/d2c9974b51cf723e67ddd92397c524db.png"},{"chainId":137,"name":"Anyswap","address":"0x6aB6d61428fde76768D7b45D8BFeec19c6eF91A8","symbol":"ANY","decimals":18,"logoURI":"https://raw.githubusercontent.com/anyswap/Brand-assets/master/logo/c-128-white.svg"},{"chainId":137,"name":"BTU Protocol","address":"0xFdc26CDA2d2440d0E83CD1DeE8E8bE48405806DC","symbol":"BTU","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xb683D83a532e2Cb7DFa5275eED3698436371cc9f/logo.png"},{"chainId":137,"name":"Cartesi Token","address":"0x2727Ab1c2D22170ABc9b595177B2D5C6E1Ab7B7B","symbol":"CTSI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x2727ab1c2d22170abc9b595177b2d5c6e1ab7b7b/09317b7200a7efa865e2f76b9343681c.png"},{"chainId":137,"name":"Celsius","address":"0xD85d1e945766Fea5Eda9103F918Bd915FbCa63E6","symbol":"CEL","decimals":4,"logoURI":"https://assets.coingecko.com/coins/images/3263/small/CEL_logo.png?1609598753"},{"chainId":137,"name":"ChainLink Token","address":"0x53E0bca35eC356BD5ddDFebbD1Fc0fD03FaBad39","symbol":"LINK","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x53e0bca35ec356bd5dddfebbd1fc0fd03fabad39/69425617db0ef93a7c21c4f9b81c7ca5.png"},{"chainId":137,"name":"Compound","address":"0x8505b9d2254A7Ae468c0E9dd10Ccea3A837aef5c","symbol":"COMP","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc00e94Cb662C3520282E6f5717214004A7f26888/logo.png"},{"chainId":137,"name":"Cryptocurrency Top Tokens Index","address":"0x9c49BA0212Bb5Db371e66b59D1565b7c06E4894e","symbol":"CC10","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x9c49ba0212bb5db371e66b59d1565b7c06e4894e/ef4bf2475e98f6d07134de61d5a70dff.png"},{"chainId":137,"name":"CyberFi Token","address":"0xeCf8f2FA183b1C4d2A269BF98A54fCe86C812d3e","symbol":"CFI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xecf8f2fa183b1c4d2a269bf98a54fce86c812d3e/cb97eb7aba4f3cd10cac18d88fa8fcd0.png"},{"chainId":137,"name":"DEFI Top 5 Tokens Index","address":"0x42435F467D33e5C4146a4E8893976ef12BBCE762","symbol":"DEFI5","decimals":18,"logoURI":"https://i.imgur.com/uVGtugL.png"},{"chainId":137,"name":"DEGEN Index","address":"0x8a2870fb69A90000D6439b7aDfB01d4bA383A415","symbol":"DEGEN","decimals":18,"logoURI":"https://raw.githubusercontent.com/sameepsi/quickswap-default-token-list/master/assets/DEGEN_LOGO.png"},{"chainId":137,"name":"DSLA","address":"0xa0E390e9ceA0D0e8cd40048ced9fA9EA10D71639","symbol":"DSLA","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xa0e390e9cea0d0e8cd40048ced9fa9ea10d71639/920656e6a4fe6c869d9ad35551e08af8.png"},{"chainId":137,"name":"Dai Stablecoin","address":"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063","symbol":"DAI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x8f3cf7ad23cd3cadbd9735aff958023239c6a063/549c4205dbb199f1b8b03af783f35e71.png"},{"chainId":137,"name":"Dai Stablecoin","address":"0xcB1e72786A6eb3b44C2a2429e317c8a2462CFeb1","symbol":"DAI","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png"},{"chainId":137,"name":"Dark Matter Token","address":"0xd28449BB9bB659725aCcAd52947677ccE3719fD7","symbol":"DMT","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xd28449bb9bb659725accad52947677cce3719fd7/a6ecf07bd7fc3ba831367079f2408e75.png"},{"chainId":137,"name":"Dark.Build","address":"0x0e59D50adD2d90f5111aca875baE0a72D95B4762","symbol":"DB","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x0e59d50add2d90f5111aca875bae0a72d95b4762/d72bf68fa7d6237c083b7edf021e7b54.png"},{"chainId":137,"name":"Decentraland MANA","address":"0xA1c57f48F0Deb89f569dFbE6E2B7f46D33606fD4","symbol":"MANA","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x0F5D2fB29fb7d3CFeE444a200298f468908cC942/logo.png"},{"chainId":137,"name":"Digital Reserve Currency","address":"0xFeD16c746CB5BFeD009730f9E3e6A673006105c7","symbol":"DRC","decimals":0,"logoURI":"https://pbs.twimg.com/profile_images/1318783238291292160/R4DxXdRA_400x400.jpg"},{"chainId":137,"name":"DokiDokiAzuki","address":"0x7CdC0421469398e0F3aA8890693d86c840Ac8931","symbol":"AZUKI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x7cdc0421469398e0f3aa8890693d86c840ac8931/817117457006f644cf1131d0d068c958.png"},{"chainId":137,"name":"Elementeum","address":"0x07738Eb4ce8932CA961c815Cb12C9d4ab5Bd0Da4","symbol":"ELET","decimals":18,"logoURI":"https://etherlegends.com/ELET.png"},{"chainId":137,"name":"EthLend Token","address":"0x313d009888329C9d1cf4f75CA3f32566335bd604","symbol":"LEND","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x80fB784B7eD66730e8b1DBd9820aFD29931aab03/logo.png"},{"chainId":137,"name":"Ether","address":"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619","symbol":"ETH","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x7ceb23fd6bc0add59e62ac25578270cff1b9f619/61844453e63cf81301f845d7864236f6.png"},{"chainId":137,"name":"Ether","address":"0x714550C2C1Ea08688607D86ed8EeF4f5E4F22323","symbol":"ETH","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"chainId":137,"name":"EthermonToken","address":"0xd6A5aB46ead26f49b03bBB1F9EB1Ad5c1767974a","symbol":"EMON","decimals":18,"logoURI":"https://s2.coinmarketcap.com/static/img/coins/64x64/9651.png"},{"chainId":137,"name":"Everipedia IQ","address":"0xB9638272aD6998708de56BBC0A290a1dE534a578","symbol":"IQ","decimals":18,"logoURI":"https://i.imgur.com/2Tocoq5.png"},{"chainId":137,"name":"Fish","address":"0x3a3Df212b7AA91Aa0402B9035b098891d276572B","symbol":"FISH","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x3a3df212b7aa91aa0402b9035b098891d276572b/6ba818878e589c74d4b43c0c3a954683.png"},{"chainId":137,"name":"Frax","address":"0x104592a158490a9228070E0A8e5343B499e125D0","symbol":"FRAX","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x104592a158490a9228070e0a8e5343b499e125d0/0df22754441275abbc3810bd384c1bca.png"},{"chainId":137,"name":"Frax Share","address":"0x3e121107F6F22DA4911079845a470757aF4e1A1b","symbol":"FXS","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x3e121107f6f22da4911079845a470757af4e1a1b/c89aca6896b4ce681c06829ca38c4d38.png"},{"chainId":137,"name":"Fusion","address":"0x2bF9b864cdc97b08B6D79ad4663e71B8aB65c45c","symbol":"FSN","decimals":18,"logoURI":"https://cryptologos.cc/logos/fusion-fsn-logo.png?v=010"},{"chainId":137,"name":"Future of Finance Fund","address":"0x9aCeB6f749396d1930aBc9e263eFc449E5e82c13","symbol":"FFF","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/15761/small/xg1NFl0.png?1621825451"},{"chainId":137,"name":"GAME Credits","address":"0x8d1566569d5b695d44a9a234540f68D393cDC40D","symbol":"GAME","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x8d1566569d5b695d44a9a234540f68d393cdc40d/9a57ddf175e976d2588ea7db0346979a.png"},{"chainId":137,"name":"Gains V2","address":"0x7075cAB6bCCA06613e2d071bd918D1a0241379E2","symbol":"GFARM2","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x7075cab6bcca06613e2d071bd918d1a0241379e2/358d9991f710abb8de8f224750240329.png"},{"chainId":137,"name":"HEXX","address":"0x23D29D30e35C5e8D321e1dc9A8a61BFD846D4C5C","symbol":"HEX","decimals":8,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x23d29d30e35c5e8d321e1dc9a8a61bfd846d4c5c/94b9b8f71e29eebb278311d0af8d6147.png"},{"chainId":137,"name":"Holyheld","address":"0x521CddC0CBa84F14c69C1E99249F781AA73Ee0BC","symbol":"HH","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/13719/small/hh.png?1611137626"},{"chainId":137,"name":"IG Gold","address":"0xe6FC6C7CB6d2c31b359A49A33eF08aB87F4dE7CE","symbol":"IGG","decimals":6,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xe6fc6c7cb6d2c31b359a49a33ef08ab87f4de7ce/66e0e72a31d95879b1a1974150bb5579.png"},{"chainId":137,"name":"IRON Stablecoin","address":"0xD86b5923F3AD7b585eD81B448170ae026c65ae9a","symbol":"IRON","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xd86b5923f3ad7b585ed81b448170ae026c65ae9a/6929282297e16b9fc7af85f86c156d6c.png"},{"chainId":137,"name":"IRON Titanium Token","address":"0xaAa5B9e6c589642f98a1cDA99B9D024B8407285A","symbol":"TITAN","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xaaa5b9e6c589642f98a1cda99b9d024b8407285a/d63f84cffec295e70d19f38839d20a9f.png"},{"chainId":137,"name":"Krill","address":"0x05089C9EBFFa4F0AcA269e32056b1b36B37ED71b","symbol":"Krill","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x05089c9ebffa4f0aca269e32056b1b36b37ed71b/86b0c93d228d8500ddb50bd7aafa1d69.png"},{"chainId":137,"decimals":18,"symbol":"Mask","name":"Mask","address":"0x2B9E7ccDF0F4e5B24757c1E1a80e311E34Cb10c7","logoURI":"https://raw.githubusercontent.com/DimensionDev/Maskbook-Website/master/img/MB--CircleCanvas--WhiteOverBlue.svg"},{"chainId":137,"name":"Matic Aave interest bearing AAVE","address":"0x823CD4264C1b951C9209aD0DeAea9988fE8429bF","symbol":"maAAVE","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x823cd4264c1b951c9209ad0deaea9988fe8429bf/dd31c2f6f0c337024be9518143536327.png"},{"chainId":137,"name":"Matic Aave interest bearing DAI","address":"0xE0b22E0037B130A9F56bBb537684E6fA18192341","symbol":"maDAI","decimals":18,"logoURI":"https://aavegotchi.com/images/matokens/maDAI.svg"},{"chainId":137,"name":"Matic Aave interest bearing LINK","address":"0x98ea609569bD25119707451eF982b90E3eb719cD","symbol":"maLINK","decimals":18,"logoURI":"https://aavegotchi.com/images/matokens/maLINK.svg"},{"chainId":137,"name":"Matic Aave interest bearing TUSD","address":"0xF4b8888427b00d7caf21654408B7CBA2eCf4EbD9","symbol":"maTUSD","decimals":18,"logoURI":"https://aavegotchi.com/images/matokens/maTUSD.svg"},{"chainId":137,"name":"Matic Aave interest bearing UNI","address":"0x8c8bdBe9CeE455732525086264a4Bf9Cf821C498","symbol":"maUNI","decimals":18,"logoURI":"https://aavegotchi.com/images/matokens/maUNI.svg"},{"chainId":137,"name":"Matic Aave interest bearing USDC","address":"0x9719d867A500Ef117cC201206B8ab51e794d3F82","symbol":"maUSDC","decimals":6,"logoURI":"https://aavegotchi.com/images/matokens/maUSDC.svg"},{"chainId":137,"name":"Matic Aave interest bearing USDT","address":"0xDAE5F1590db13E3B40423B5b5c5fbf175515910b","symbol":"maUSDT","decimals":6,"logoURI":"https://aavegotchi.com/images/matokens/maUSDT.svg"},{"chainId":137,"name":"Matic Aave interest bearing WETH","address":"0x20D3922b4a1A8560E1aC99FBA4faDe0c849e2142","symbol":"maWETH","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x20d3922b4a1a8560e1ac99fba4fade0c849e2142/532c85fc1f3769c2bf4714ed21dc2a17.png"},{"chainId":137,"name":"Matic Aave interest bearing YFI","address":"0xe20f7d1f0eC39C4d5DB01f53554F2EF54c71f613","symbol":"maYFI","decimals":18,"logoURI":"https://aavegotchi.com/images/matokens/maYFI.svg"},{"chainId":137,"name":"Matic Deflect Protocol","address":"0x82B6205002ecd05e97642D38D61e2cFeaC0E18cE","symbol":"mDEF","decimals":9,"logoURI":"https://etherscan.io/token/images/deflect_32.png?=v1"},{"chainId":137,"name":"Matic Rebalance Token","address":"0x66768ad00746aC4d68ded9f64886d55d5243f5Ec","symbol":"mRBAL","decimals":18,"logoURI":"https://rebalancetoken.io/images/logo/logo.png"},{"chainId":137,"name":"Monavale","address":"0x6968105460f67c3BF751bE7C15f92F5286Fd0CE5","symbol":"MONA","decimals":18,"logoURI":"https://i.imgur.com/FR12tmm.jpg"},{"chainId":137,"name":"Must","address":"0x9C78EE466D6Cb57A4d01Fd887D2b5dFb2D46288f","symbol":"MUST","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x9c78ee466d6cb57a4d01fd887d2b5dfb2d46288f/feb5d4ad57f4b81134deb06c6ad4b09f.png"},{"chainId":137,"name":"NFT Platform Index","address":"0xf7d9e281c5Cb4C6796284C5b663b3593D2037aF2","symbol":"NFTP","decimals":18,"logoURI":"https://raw.githubusercontent.com/sameepsi/quickswap-default-token-list/master/assets/NFTP.png"},{"chainId":137,"name":"OM","address":"0xC3Ec80343D2bae2F8E680FDADDe7C17E71E114ea","symbol":"OM","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xc3ec80343d2bae2f8e680fdadde7c17e71e114ea/839caee8718be7b5683219d619c7756b.png"},{"chainId":137,"name":"Ocean Token","address":"0x282d8efCe846A88B159800bd4130ad77443Fa1A1","symbol":"mOCEAN","decimals":18,"logoURI":"https://oceanprotocol.com/static/4ad704a150d436a1f32d495413fc47cd/favicon-white.png"},{"chainId":137,"name":"Opu Coin","address":"0x7ff2FC33E161E3b1C6511B934F0209D304267857","symbol":"OPU","decimals":18,"logoURI":"https://www.opucoin.io/wp-content/uploads/2021/04/opu-coiin-icon-border.svg"},{"chainId":137,"name":"Orbit Bridge Polygon AUTOv2","address":"0x7f426F6Dc648e50464a0392E60E1BB465a67E9cf","symbol":"PAUTO","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x7f426f6dc648e50464a0392e60e1bb465a67e9cf/34c39b326f51d038e2b0a554211bc674.png"},{"chainId":137,"name":"PLOT","address":"0xe82808eaA78339b06a691fd92E1Be79671cAd8D3","symbol":"PLOT","decimals":18,"logoURI":"https://i.imgur.com/nQDG9AQ.png"},{"chainId":137,"name":"Pepedex","address":"0x127984b5E6d5c59f81DACc9F1C8b3Bdc8494572e","symbol":"PPDEX","decimals":18,"logoURI":"https://etherscan.io/token/images/pepedex_32.png?v=2"},{"chainId":137,"name":"PolyDoge","address":"0x8A953CfE442c5E8855cc6c61b1293FA648BAE472","symbol":"PolyDoge","decimals":18,"logoURI":"https://polydoge.com/doge-webpage_files/doge.png"},{"chainId":137,"name":"Polywolf","address":"0xc56d17dD519e5eB43a19C9759b5D5372115220BD","symbol":"MOON","decimals":18,"logoURI":"https://i.postimg.cc/CxvzF5bJ/moon-black.png"},{"chainId":137,"name":"Qi Dao","address":"0x580A84C73811E1839F75d86d75d88cCa0c241fF4","symbol":"QI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x580a84c73811e1839f75d86d75d88cca0c241ff4/be77e8e47016b1e9d3f01b7edc9b8d4f.png"},{"chainId":137,"name":"QuickChart","address":"0x99dA82C5464C49962Cdda44fe30d352Bc5Da0580","symbol":"QuickChart","decimals":9,"logoURI":"https://i.imgur.com/jv5A0eX.png"},{"chainId":137,"name":"Quickswap","address":"0x831753DD7087CaC61aB5644b308642cc1c33Dc13","symbol":"QUICK","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x831753dd7087cac61ab5644b308642cc1c33dc13/3f40a8915d99b9dd0e24d5205c89eb34.png"},{"chainId":137,"name":"Rebalance Token","address":"0x03247a4368A280bEc8133300cD930A3a61d604f6","symbol":"RBAL","decimals":18,"logoURI":"http://rebalancetoken.io/images/logo/RBAL_ERC20_small_001_256.png"},{"chainId":137,"name":"Rupeeto","address":"0xde485931674F4EdD3Ed3bf22e86E7d3C7D5347a1","symbol":"INRP","decimals":18,"logoURI":"https://cdn.rupeeto.com/images/rupeeto-symbol.jpeg"},{"chainId":137,"name":"Sentinel","address":"0x48e3883233461C2eF4cB3FcF419D6db07fb86CeA","symbol":"SENT","decimals":8,"logoURI":"https://cdn-images-1.medium.com/max/1200/1*mK1oPGsQWh4Nfupg-e0S-g.png"},{"chainId":137,"name":"SportX","address":"0x840195888Db4D6A99ED9F73FcD3B225Bb3cB1A79","symbol":"SX","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x840195888db4d6a99ed9f73fcd3b225bb3cb1a79/f00f6e7c0a5f14e2024b712deb293e97.png"},{"chainId":137,"name":"Standard","address":"0xf153EfF70DC0bf3b085134928daeEA248d9B30d0","symbol":"xMARK","decimals":9,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/8cb78aca77b340510958ed98a3cd260d2d7f0420/blockchains/ethereum/assets/0x36b679bd64Ed73DBfd88909cDCB892cB66Bd4CBb/logo.png"},{"chainId":137,"name":"SuperFarm","address":"0xa1428174F516F527fafdD146b883bB4428682737","symbol":"SUPER","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xa1428174f516f527fafdd146b883bb4428682737/a36b6b44c14e809fb9fbfbe5666a36a8.png"},{"chainId":137,"name":"Swirge","address":"0x043A3Aa319B563aC25D4E342d32bFfb51298DB7b","symbol":"SWG","decimals":18,"logoURI":"https://etherscan.io/token/images/swirge_32.png"},{"chainId":137,"name":"Telcoin","address":"0xdF7837DE1F2Fa4631D716CF2502f8b230F1dcc32","symbol":"TEL","decimals":2,"logoURI":"https://pbs.twimg.com/profile_images/933388441475194881/57fOk40N_400x400.jpg"},{"chainId":137,"name":"Tether USD","address":"0xc2132D05D31c914a87C6611C10748AEb04B58e8F","symbol":"USDT","decimals":6,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xc2132d05d31c914a87c6611c10748aeb04b58e8f/66eadee7b7bb16b75e02b570ab8d5c01.png"},{"chainId":137,"name":"Tether USD","address":"0x3813e82e6f7098b9583FC0F33a962D02018B6803","symbol":"USDT","decimals":6,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"},{"chainId":137,"name":"TrustSwap Token","address":"0x3809dcDd5dDe24B37AbE64A5a339784c3323c44F","symbol":"SWAP","decimals":18,"logoURI":"https://i.imgur.com/vZnU36G.png"},{"chainId":137,"name":"USD Coin","address":"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174","symbol":"USDC","decimals":6,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x2791bca1f2de4661ed88a30c99a7a9449aa84174/adee072b10b0db7c5bd7a28dd4fbe96f.png"},{"chainId":137,"name":"UniLend Finance Token","address":"0x5B4CF2C120A9702225814E18543ee658c5f8631e","symbol":"UFT","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/12819/small/UniLend_Finance_logo_PNG.png?1602748658"},{"chainId":137,"name":"Unibright","address":"0x7FBc10850caE055B27039aF31bD258430e714c62","symbol":"UBT","decimals":8,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x7fbc10850cae055b27039af31bd258430e714c62/7870ecec05b6354d1cd165aa7c2c5357.png"},{"chainId":137,"name":"Uniswap","address":"0xb33EaAd8d922B1083446DC23f610c2567fB5180f","symbol":"UNI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xb33eaad8d922b1083446dc23f610c2567fb5180f/fcee0c46fc9864f48ce6a40ed1cdd135.png"},{"chainId":137,"name":"Vision Token","address":"0x034b2090b579228482520c589dbD397c53Fc51cC","symbol":"VISION","decimals":18,"logoURI":"https://s3-us-west-2.amazonaws.com/acf-uploads/apyvisionlogo200circle.png"},{"chainId":137,"name":"WazirX","address":"0x72d6066F486bd0052eefB9114B66ae40e0A6031a","symbol":"WRX","decimals":8,"logoURI":"https://etherscan.io/token/images/binance-wrx_32.png"},{"chainId":137,"name":"Wise Token","address":"0xB77e62709e39aD1cbeEBE77cF493745AeC0F453a","symbol":"WISE","decimals":18,"logoURI":"https://etherscan.io/token/images/wisetoken_32.png"},{"chainId":137,"name":"Wrapped BTC","address":"0x1BFD67037B42Cf73acF2047067bd4F2C47D9BfD6","symbol":"WBTC","decimals":8,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6/d3c52e7c7449afa8bd4fad1c93f50d93.png"},{"chainId":137,"name":"Wrapped Matic","address":"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270","symbol":"WMATIC","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270/f6e604ba0324726a3d687c618aa4f163.png"},{"chainId":137,"name":"Wrapped Matic","address":"0xd0A1E359811322d97991E03f863a0C30C2cF029C","symbol":"WMATIC","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0/logo.png"},{"chainId":137,"name":"ZeroSwapToken","address":"0xfd4959c06FbCc02250952DAEbf8e0Fb38cF9FD8C","symbol":"ZEE","decimals":18,"logoURI":"https://pbs.twimg.com/profile_images/1366339230683652096/sit30Uuo_400x400.png"},{"chainId":137,"name":"ZeroUtility","address":"0xe86E8beb7340659DDDCE61727E500e3A5aD75a90","symbol":"ZUT","decimals":18,"logoURI":"https://s2.gifyu.com/images/zutlogo.jpg"},{"chainId":137,"name":"Zeus","address":"0x232eaB56c4fB3f84c6Fb0a50c087c74b7B43c6Ad","symbol":"ZUZ","decimals":18,"logoURI":"https://etherscan.io/token/images/zuzprotocol_32.png"},{"chainId":137,"name":"beefy.finance","address":"0xFbdd194376de19a88118e84E279b977f165d01b8","symbol":"BIFI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xfbdd194376de19a88118e84e279b977f165d01b8/57d8df8ef2914d2733c01c6c55d1b846.png"},{"chainId":137,"name":"decentral.games","address":"0x2a93172c8DCCbfBC60a39d56183B7279a2F647b4","symbol":"$DG","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x2a93172c8dccbfbc60a39d56183b7279a2f647b4/92d7908366830c111f6f979e83e59945.png"},{"chainId":137,"name":"iFARM","address":"0xab0b2ddB9C7e440fAc8E140A89c0dbCBf2d7Bbff","symbol":"iFARM","decimals":18,"logoURI":"https://raw.githubusercontent.com/harvestfi/assets/main/farm-logo.png"},{"chainId":137,"name":"miMATIC","address":"0xa3Fa99A148fA48D14Ed51d610c367C61876997F1","symbol":"miMATIC","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xa3fa99a148fa48d14ed51d610c367c61876997f1/be77e8e47016b1e9d3f01b7edc9b8d4f.png"},{"chainId":137,"name":"moonwolf.io","address":"0x8f18dC399594b451EdA8c5da02d0563c0b2d0f16","symbol":"WOLF","decimals":9,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x8f18dc399594b451eda8c5da02d0563c0b2d0f16/e6f1062a0514cbc9769be08afcf07990.png"},{"chainId":137,"name":"yearn.finance","address":"0xDA537104D6A5edd53c6fBba9A898708E465260b6","symbol":"YFI","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e/logo.png"}]}')},416:function(e,t){e.exports.pinata_api_key="e991ae84dcfbb8989294",e.exports.pinata_secret_api_key="c0bacda4094b3e5edc720e15a07ffc7cb853c383cbff0fcc14eda8024e7223de"},486:function(e,t,a){},502:function(e,t){},504:function(e,t){},506:function(e,t){},510:function(e,t){},537:function(e,t){},539:function(e,t){},548:function(e,t){},550:function(e,t){},560:function(e,t){},562:function(e,t){},680:function(e,t){},682:function(e,t){},689:function(e,t){},690:function(e,t){},80:function(e,t,a){}},[[1029,1,2]]]);
//# sourceMappingURL=main.d3d3515e.chunk.js.map