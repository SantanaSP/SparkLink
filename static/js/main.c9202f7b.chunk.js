(this["webpackJsonpspark-link"]=this["webpackJsonpspark-link"]||[]).push([[0],{154:function(e){e.exports=JSON.parse('{"a":[{"chainId":137,"name":"MATIC","address":"0x0000000000000000000000000000000000000000","symbol":"MATIC","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB6eD7644C69416d67B522e20bC294A9a9B405B31/logo.png"},{"chainId":137,"name":"0xBitcoin Token","address":"0x71B821aa52a49F32EEd535fCA6Eb5aa130085978","symbol":"0xBTC","decimals":8,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xB6eD7644C69416d67B522e20bC294A9a9B405B31/logo.png"},{"chainId":137,"name":"AGA Rewards","address":"0xF84BD51eab957c2e7B7D646A3427C5A50848281D","symbol":"AGAr","decimals":8,"logoURI":"https://i.imgur.com/06BkcTT.png"},{"chainId":137,"name":"AGA Token","address":"0x033d942A6b495C4071083f4CDe1f17e986FE856c","symbol":"AGA","decimals":4,"logoURI":"https://i.imgur.com/R0aQlym.png"},{"chainId":137,"name":"ARIANEE","address":"0x46F48FbdedAa6F5500993BEDE9539ef85F4BeE8e","symbol":"ARIA20","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x46f48fbdedaa6f5500993bede9539ef85f4bee8e/cf8505bb838cf58c26a32dde95bce96f.png"},{"chainId":137,"name":"Aave","address":"0xD6DF932A45C0f255f85145f286eA0b292B21C90B","symbol":"AAVE","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xd6df932a45c0f255f85145f286ea0b292b21c90b/eee087b66747b09dbfb4ba0b34fd3697.png"},{"chainId":137,"name":"Aavegotchi GHST Token","address":"0x385Eeac5cB85A38A9a07A70c73e0a3271CfB54A7","symbol":"GHST","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x385eeac5cb85a38a9a07a70c73e0a3271cfb54a7/70918cb9df86b2f332c9649077756581.png"},{"chainId":137,"name":"Adamant","address":"0xc3FdbadC7c795EF1D6Ba111e06fF8F16A20Ea539","symbol":"ADDY","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xc3fdbadc7c795ef1d6ba111e06ff8f16a20ea539/d2c9974b51cf723e67ddd92397c524db.png"},{"chainId":137,"name":"Anyswap","address":"0x6aB6d61428fde76768D7b45D8BFeec19c6eF91A8","symbol":"ANY","decimals":18,"logoURI":"https://raw.githubusercontent.com/anyswap/Brand-assets/master/logo/c-128-white.svg"},{"chainId":137,"name":"BTU Protocol","address":"0xFdc26CDA2d2440d0E83CD1DeE8E8bE48405806DC","symbol":"BTU","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xb683D83a532e2Cb7DFa5275eED3698436371cc9f/logo.png"},{"chainId":137,"name":"Cartesi Token","address":"0x2727Ab1c2D22170ABc9b595177B2D5C6E1Ab7B7B","symbol":"CTSI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x2727ab1c2d22170abc9b595177b2d5c6e1ab7b7b/09317b7200a7efa865e2f76b9343681c.png"},{"chainId":137,"name":"Celsius","address":"0xD85d1e945766Fea5Eda9103F918Bd915FbCa63E6","symbol":"CEL","decimals":4,"logoURI":"https://assets.coingecko.com/coins/images/3263/small/CEL_logo.png?1609598753"},{"chainId":137,"name":"ChainLink Token","address":"0x53E0bca35eC356BD5ddDFebbD1Fc0fD03FaBad39","symbol":"LINK","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x53e0bca35ec356bd5dddfebbd1fc0fd03fabad39/69425617db0ef93a7c21c4f9b81c7ca5.png"},{"chainId":137,"name":"Compound","address":"0x8505b9d2254A7Ae468c0E9dd10Ccea3A837aef5c","symbol":"COMP","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xc00e94Cb662C3520282E6f5717214004A7f26888/logo.png"},{"chainId":137,"name":"Cryptocurrency Top Tokens Index","address":"0x9c49BA0212Bb5Db371e66b59D1565b7c06E4894e","symbol":"CC10","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x9c49ba0212bb5db371e66b59d1565b7c06e4894e/ef4bf2475e98f6d07134de61d5a70dff.png"},{"chainId":137,"name":"CyberFi Token","address":"0xeCf8f2FA183b1C4d2A269BF98A54fCe86C812d3e","symbol":"CFI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xecf8f2fa183b1c4d2a269bf98a54fce86c812d3e/cb97eb7aba4f3cd10cac18d88fa8fcd0.png"},{"chainId":137,"name":"DEFI Top 5 Tokens Index","address":"0x42435F467D33e5C4146a4E8893976ef12BBCE762","symbol":"DEFI5","decimals":18,"logoURI":"https://i.imgur.com/uVGtugL.png"},{"chainId":137,"name":"DEGEN Index","address":"0x8a2870fb69A90000D6439b7aDfB01d4bA383A415","symbol":"DEGEN","decimals":18,"logoURI":"https://raw.githubusercontent.com/sameepsi/quickswap-default-token-list/master/assets/DEGEN_LOGO.png"},{"chainId":137,"name":"DSLA","address":"0xa0E390e9ceA0D0e8cd40048ced9fA9EA10D71639","symbol":"DSLA","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xa0e390e9cea0d0e8cd40048ced9fa9ea10d71639/920656e6a4fe6c869d9ad35551e08af8.png"},{"chainId":137,"name":"Dai Stablecoin","address":"0x8f3Cf7ad23Cd3CaDbD9735AFf958023239c6A063","symbol":"DAI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x8f3cf7ad23cd3cadbd9735aff958023239c6a063/549c4205dbb199f1b8b03af783f35e71.png"},{"chainId":137,"name":"Dai Stablecoin","address":"0xcB1e72786A6eb3b44C2a2429e317c8a2462CFeb1","symbol":"DAI","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x6B175474E89094C44Da98b954EedeAC495271d0F/logo.png"},{"chainId":137,"name":"Dark Matter Token","address":"0xd28449BB9bB659725aCcAd52947677ccE3719fD7","symbol":"DMT","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xd28449bb9bb659725accad52947677cce3719fd7/a6ecf07bd7fc3ba831367079f2408e75.png"},{"chainId":137,"name":"Dark.Build","address":"0x0e59D50adD2d90f5111aca875baE0a72D95B4762","symbol":"DB","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x0e59d50add2d90f5111aca875bae0a72d95b4762/d72bf68fa7d6237c083b7edf021e7b54.png"},{"chainId":137,"name":"Decentraland MANA","address":"0xA1c57f48F0Deb89f569dFbE6E2B7f46D33606fD4","symbol":"MANA","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x0F5D2fB29fb7d3CFeE444a200298f468908cC942/logo.png"},{"chainId":137,"name":"Digital Reserve Currency","address":"0xFeD16c746CB5BFeD009730f9E3e6A673006105c7","symbol":"DRC","decimals":0,"logoURI":"https://pbs.twimg.com/profile_images/1318783238291292160/R4DxXdRA_400x400.jpg"},{"chainId":137,"name":"DokiDokiAzuki","address":"0x7CdC0421469398e0F3aA8890693d86c840Ac8931","symbol":"AZUKI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x7cdc0421469398e0f3aa8890693d86c840ac8931/817117457006f644cf1131d0d068c958.png"},{"chainId":137,"name":"Elementeum","address":"0x07738Eb4ce8932CA961c815Cb12C9d4ab5Bd0Da4","symbol":"ELET","decimals":18,"logoURI":"https://etherlegends.com/ELET.png"},{"chainId":137,"name":"EthLend Token","address":"0x313d009888329C9d1cf4f75CA3f32566335bd604","symbol":"LEND","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x80fB784B7eD66730e8b1DBd9820aFD29931aab03/logo.png"},{"chainId":137,"name":"Ether","address":"0x7ceB23fD6bC0adD59E62ac25578270cFf1b9f619","symbol":"ETH","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x7ceb23fd6bc0add59e62ac25578270cff1b9f619/61844453e63cf81301f845d7864236f6.png"},{"chainId":137,"name":"Ether","address":"0x714550C2C1Ea08688607D86ed8EeF4f5E4F22323","symbol":"ETH","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2/logo.png"},{"chainId":137,"name":"EthermonToken","address":"0xd6A5aB46ead26f49b03bBB1F9EB1Ad5c1767974a","symbol":"EMON","decimals":18,"logoURI":"https://s2.coinmarketcap.com/static/img/coins/64x64/9651.png"},{"chainId":137,"name":"Everipedia IQ","address":"0xB9638272aD6998708de56BBC0A290a1dE534a578","symbol":"IQ","decimals":18,"logoURI":"https://i.imgur.com/2Tocoq5.png"},{"chainId":137,"name":"Fish","address":"0x3a3Df212b7AA91Aa0402B9035b098891d276572B","symbol":"FISH","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x3a3df212b7aa91aa0402b9035b098891d276572b/6ba818878e589c74d4b43c0c3a954683.png"},{"chainId":137,"name":"Frax","address":"0x104592a158490a9228070E0A8e5343B499e125D0","symbol":"FRAX","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x104592a158490a9228070e0a8e5343b499e125d0/0df22754441275abbc3810bd384c1bca.png"},{"chainId":137,"name":"Frax Share","address":"0x3e121107F6F22DA4911079845a470757aF4e1A1b","symbol":"FXS","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x3e121107f6f22da4911079845a470757af4e1a1b/c89aca6896b4ce681c06829ca38c4d38.png"},{"chainId":137,"name":"Fusion","address":"0x2bF9b864cdc97b08B6D79ad4663e71B8aB65c45c","symbol":"FSN","decimals":18,"logoURI":"https://cryptologos.cc/logos/fusion-fsn-logo.png?v=010"},{"chainId":137,"name":"Future of Finance Fund","address":"0x9aCeB6f749396d1930aBc9e263eFc449E5e82c13","symbol":"FFF","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/15761/small/xg1NFl0.png?1621825451"},{"chainId":137,"name":"GAME Credits","address":"0x8d1566569d5b695d44a9a234540f68D393cDC40D","symbol":"GAME","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x8d1566569d5b695d44a9a234540f68d393cdc40d/9a57ddf175e976d2588ea7db0346979a.png"},{"chainId":137,"name":"Gains V2","address":"0x7075cAB6bCCA06613e2d071bd918D1a0241379E2","symbol":"GFARM2","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x7075cab6bcca06613e2d071bd918d1a0241379e2/358d9991f710abb8de8f224750240329.png"},{"chainId":137,"name":"HEXX","address":"0x23D29D30e35C5e8D321e1dc9A8a61BFD846D4C5C","symbol":"HEX","decimals":8,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x23d29d30e35c5e8d321e1dc9a8a61bfd846d4c5c/94b9b8f71e29eebb278311d0af8d6147.png"},{"chainId":137,"name":"Holyheld","address":"0x521CddC0CBa84F14c69C1E99249F781AA73Ee0BC","symbol":"HH","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/13719/small/hh.png?1611137626"},{"chainId":137,"name":"IG Gold","address":"0xe6FC6C7CB6d2c31b359A49A33eF08aB87F4dE7CE","symbol":"IGG","decimals":6,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xe6fc6c7cb6d2c31b359a49a33ef08ab87f4de7ce/66e0e72a31d95879b1a1974150bb5579.png"},{"chainId":137,"name":"IRON Stablecoin","address":"0xD86b5923F3AD7b585eD81B448170ae026c65ae9a","symbol":"IRON","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xd86b5923f3ad7b585ed81b448170ae026c65ae9a/6929282297e16b9fc7af85f86c156d6c.png"},{"chainId":137,"name":"IRON Titanium Token","address":"0xaAa5B9e6c589642f98a1cDA99B9D024B8407285A","symbol":"TITAN","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xaaa5b9e6c589642f98a1cda99b9d024b8407285a/d63f84cffec295e70d19f38839d20a9f.png"},{"chainId":137,"name":"Krill","address":"0x05089C9EBFFa4F0AcA269e32056b1b36B37ED71b","symbol":"Krill","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x05089c9ebffa4f0aca269e32056b1b36b37ed71b/86b0c93d228d8500ddb50bd7aafa1d69.png"},{"chainId":137,"decimals":18,"symbol":"Mask","name":"Mask","address":"0x2B9E7ccDF0F4e5B24757c1E1a80e311E34Cb10c7","logoURI":"https://raw.githubusercontent.com/DimensionDev/Maskbook-Website/master/img/MB--CircleCanvas--WhiteOverBlue.svg"},{"chainId":137,"name":"Matic Aave interest bearing AAVE","address":"0x823CD4264C1b951C9209aD0DeAea9988fE8429bF","symbol":"maAAVE","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x823cd4264c1b951c9209ad0deaea9988fe8429bf/dd31c2f6f0c337024be9518143536327.png"},{"chainId":137,"name":"Matic Aave interest bearing DAI","address":"0xE0b22E0037B130A9F56bBb537684E6fA18192341","symbol":"maDAI","decimals":18,"logoURI":"https://aavegotchi.com/images/matokens/maDAI.svg"},{"chainId":137,"name":"Matic Aave interest bearing LINK","address":"0x98ea609569bD25119707451eF982b90E3eb719cD","symbol":"maLINK","decimals":18,"logoURI":"https://aavegotchi.com/images/matokens/maLINK.svg"},{"chainId":137,"name":"Matic Aave interest bearing TUSD","address":"0xF4b8888427b00d7caf21654408B7CBA2eCf4EbD9","symbol":"maTUSD","decimals":18,"logoURI":"https://aavegotchi.com/images/matokens/maTUSD.svg"},{"chainId":137,"name":"Matic Aave interest bearing UNI","address":"0x8c8bdBe9CeE455732525086264a4Bf9Cf821C498","symbol":"maUNI","decimals":18,"logoURI":"https://aavegotchi.com/images/matokens/maUNI.svg"},{"chainId":137,"name":"Matic Aave interest bearing USDC","address":"0x9719d867A500Ef117cC201206B8ab51e794d3F82","symbol":"maUSDC","decimals":6,"logoURI":"https://aavegotchi.com/images/matokens/maUSDC.svg"},{"chainId":137,"name":"Matic Aave interest bearing USDT","address":"0xDAE5F1590db13E3B40423B5b5c5fbf175515910b","symbol":"maUSDT","decimals":6,"logoURI":"https://aavegotchi.com/images/matokens/maUSDT.svg"},{"chainId":137,"name":"Matic Aave interest bearing WETH","address":"0x20D3922b4a1A8560E1aC99FBA4faDe0c849e2142","symbol":"maWETH","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x20d3922b4a1a8560e1ac99fba4fade0c849e2142/532c85fc1f3769c2bf4714ed21dc2a17.png"},{"chainId":137,"name":"Matic Aave interest bearing YFI","address":"0xe20f7d1f0eC39C4d5DB01f53554F2EF54c71f613","symbol":"maYFI","decimals":18,"logoURI":"https://aavegotchi.com/images/matokens/maYFI.svg"},{"chainId":137,"name":"Matic Deflect Protocol","address":"0x82B6205002ecd05e97642D38D61e2cFeaC0E18cE","symbol":"mDEF","decimals":9,"logoURI":"https://etherscan.io/token/images/deflect_32.png?=v1"},{"chainId":137,"name":"Matic Rebalance Token","address":"0x66768ad00746aC4d68ded9f64886d55d5243f5Ec","symbol":"mRBAL","decimals":18,"logoURI":"https://rebalancetoken.io/images/logo/logo.png"},{"chainId":137,"name":"Monavale","address":"0x6968105460f67c3BF751bE7C15f92F5286Fd0CE5","symbol":"MONA","decimals":18,"logoURI":"https://i.imgur.com/FR12tmm.jpg"},{"chainId":137,"name":"Must","address":"0x9C78EE466D6Cb57A4d01Fd887D2b5dFb2D46288f","symbol":"MUST","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x9c78ee466d6cb57a4d01fd887d2b5dfb2d46288f/feb5d4ad57f4b81134deb06c6ad4b09f.png"},{"chainId":137,"name":"NFT Platform Index","address":"0xf7d9e281c5Cb4C6796284C5b663b3593D2037aF2","symbol":"NFTP","decimals":18,"logoURI":"https://raw.githubusercontent.com/sameepsi/quickswap-default-token-list/master/assets/NFTP.png"},{"chainId":137,"name":"OM","address":"0xC3Ec80343D2bae2F8E680FDADDe7C17E71E114ea","symbol":"OM","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xc3ec80343d2bae2f8e680fdadde7c17e71e114ea/839caee8718be7b5683219d619c7756b.png"},{"chainId":137,"name":"Ocean Token","address":"0x282d8efCe846A88B159800bd4130ad77443Fa1A1","symbol":"mOCEAN","decimals":18,"logoURI":"https://oceanprotocol.com/static/4ad704a150d436a1f32d495413fc47cd/favicon-white.png"},{"chainId":137,"name":"Opu Coin","address":"0x7ff2FC33E161E3b1C6511B934F0209D304267857","symbol":"OPU","decimals":18,"logoURI":"https://www.opucoin.io/wp-content/uploads/2021/04/opu-coiin-icon-border.svg"},{"chainId":137,"name":"Orbit Bridge Polygon AUTOv2","address":"0x7f426F6Dc648e50464a0392E60E1BB465a67E9cf","symbol":"PAUTO","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x7f426f6dc648e50464a0392e60e1bb465a67e9cf/34c39b326f51d038e2b0a554211bc674.png"},{"chainId":137,"name":"PLOT","address":"0xe82808eaA78339b06a691fd92E1Be79671cAd8D3","symbol":"PLOT","decimals":18,"logoURI":"https://i.imgur.com/nQDG9AQ.png"},{"chainId":137,"name":"Pepedex","address":"0x127984b5E6d5c59f81DACc9F1C8b3Bdc8494572e","symbol":"PPDEX","decimals":18,"logoURI":"https://etherscan.io/token/images/pepedex_32.png?v=2"},{"chainId":137,"name":"PolyDoge","address":"0x8A953CfE442c5E8855cc6c61b1293FA648BAE472","symbol":"PolyDoge","decimals":18,"logoURI":"https://polydoge.com/doge-webpage_files/doge.png"},{"chainId":137,"name":"Polywolf","address":"0xc56d17dD519e5eB43a19C9759b5D5372115220BD","symbol":"MOON","decimals":18,"logoURI":"https://i.postimg.cc/CxvzF5bJ/moon-black.png"},{"chainId":137,"name":"Qi Dao","address":"0x580A84C73811E1839F75d86d75d88cCa0c241fF4","symbol":"QI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x580a84c73811e1839f75d86d75d88cca0c241ff4/be77e8e47016b1e9d3f01b7edc9b8d4f.png"},{"chainId":137,"name":"QuickChart","address":"0x99dA82C5464C49962Cdda44fe30d352Bc5Da0580","symbol":"QuickChart","decimals":9,"logoURI":"https://i.imgur.com/jv5A0eX.png"},{"chainId":137,"name":"Quickswap","address":"0x831753DD7087CaC61aB5644b308642cc1c33Dc13","symbol":"QUICK","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x831753dd7087cac61ab5644b308642cc1c33dc13/3f40a8915d99b9dd0e24d5205c89eb34.png"},{"chainId":137,"name":"Rebalance Token","address":"0x03247a4368A280bEc8133300cD930A3a61d604f6","symbol":"RBAL","decimals":18,"logoURI":"http://rebalancetoken.io/images/logo/RBAL_ERC20_small_001_256.png"},{"chainId":137,"name":"Rupeeto","address":"0xde485931674F4EdD3Ed3bf22e86E7d3C7D5347a1","symbol":"INRP","decimals":18,"logoURI":"https://cdn.rupeeto.com/images/rupeeto-symbol.jpeg"},{"chainId":137,"name":"Sentinel","address":"0x48e3883233461C2eF4cB3FcF419D6db07fb86CeA","symbol":"SENT","decimals":8,"logoURI":"https://cdn-images-1.medium.com/max/1200/1*mK1oPGsQWh4Nfupg-e0S-g.png"},{"chainId":137,"name":"SportX","address":"0x840195888Db4D6A99ED9F73FcD3B225Bb3cB1A79","symbol":"SX","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x840195888db4d6a99ed9f73fcd3b225bb3cb1a79/f00f6e7c0a5f14e2024b712deb293e97.png"},{"chainId":137,"name":"Standard","address":"0xf153EfF70DC0bf3b085134928daeEA248d9B30d0","symbol":"xMARK","decimals":9,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/8cb78aca77b340510958ed98a3cd260d2d7f0420/blockchains/ethereum/assets/0x36b679bd64Ed73DBfd88909cDCB892cB66Bd4CBb/logo.png"},{"chainId":137,"name":"SuperFarm","address":"0xa1428174F516F527fafdD146b883bB4428682737","symbol":"SUPER","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xa1428174f516f527fafdd146b883bb4428682737/a36b6b44c14e809fb9fbfbe5666a36a8.png"},{"chainId":137,"name":"Swirge","address":"0x043A3Aa319B563aC25D4E342d32bFfb51298DB7b","symbol":"SWG","decimals":18,"logoURI":"https://etherscan.io/token/images/swirge_32.png"},{"chainId":137,"name":"Telcoin","address":"0xdF7837DE1F2Fa4631D716CF2502f8b230F1dcc32","symbol":"TEL","decimals":2,"logoURI":"https://pbs.twimg.com/profile_images/933388441475194881/57fOk40N_400x400.jpg"},{"chainId":137,"name":"Tether USD","address":"0xc2132D05D31c914a87C6611C10748AEb04B58e8F","symbol":"USDT","decimals":6,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xc2132d05d31c914a87c6611c10748aeb04b58e8f/66eadee7b7bb16b75e02b570ab8d5c01.png"},{"chainId":137,"name":"Tether USD","address":"0x3813e82e6f7098b9583FC0F33a962D02018B6803","symbol":"USDT","decimals":6,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0xdAC17F958D2ee523a2206206994597C13D831ec7/logo.png"},{"chainId":137,"name":"TrustSwap Token","address":"0x3809dcDd5dDe24B37AbE64A5a339784c3323c44F","symbol":"SWAP","decimals":18,"logoURI":"https://i.imgur.com/vZnU36G.png"},{"chainId":137,"name":"USD Coin","address":"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174","symbol":"USDC","decimals":6,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x2791bca1f2de4661ed88a30c99a7a9449aa84174/adee072b10b0db7c5bd7a28dd4fbe96f.png"},{"chainId":137,"name":"UniLend Finance Token","address":"0x5B4CF2C120A9702225814E18543ee658c5f8631e","symbol":"UFT","decimals":18,"logoURI":"https://assets.coingecko.com/coins/images/12819/small/UniLend_Finance_logo_PNG.png?1602748658"},{"chainId":137,"name":"Unibright","address":"0x7FBc10850caE055B27039aF31bD258430e714c62","symbol":"UBT","decimals":8,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x7fbc10850cae055b27039af31bd258430e714c62/7870ecec05b6354d1cd165aa7c2c5357.png"},{"chainId":137,"name":"Uniswap","address":"0xb33EaAd8d922B1083446DC23f610c2567fB5180f","symbol":"UNI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xb33eaad8d922b1083446dc23f610c2567fb5180f/fcee0c46fc9864f48ce6a40ed1cdd135.png"},{"chainId":137,"name":"Vision Token","address":"0x034b2090b579228482520c589dbD397c53Fc51cC","symbol":"VISION","decimals":18,"logoURI":"https://s3-us-west-2.amazonaws.com/acf-uploads/apyvisionlogo200circle.png"},{"chainId":137,"name":"WazirX","address":"0x72d6066F486bd0052eefB9114B66ae40e0A6031a","symbol":"WRX","decimals":8,"logoURI":"https://etherscan.io/token/images/binance-wrx_32.png"},{"chainId":137,"name":"Wise Token","address":"0xB77e62709e39aD1cbeEBE77cF493745AeC0F453a","symbol":"WISE","decimals":18,"logoURI":"https://etherscan.io/token/images/wisetoken_32.png"},{"chainId":137,"name":"Wrapped BTC","address":"0x1BFD67037B42Cf73acF2047067bd4F2C47D9BfD6","symbol":"WBTC","decimals":8,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x1bfd67037b42cf73acf2047067bd4f2c47d9bfd6/d3c52e7c7449afa8bd4fad1c93f50d93.png"},{"chainId":137,"name":"Wrapped Matic","address":"0x0d500B1d8E8eF31E21C99d1Db9A6444d3ADf1270","symbol":"WMATIC","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x0d500b1d8e8ef31e21c99d1db9a6444d3adf1270/f6e604ba0324726a3d687c618aa4f163.png"},{"chainId":137,"name":"Wrapped Matic","address":"0xd0A1E359811322d97991E03f863a0C30C2cF029C","symbol":"WMATIC","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x7D1AfA7B718fb893dB30A3aBc0Cfc608AaCfeBB0/logo.png"},{"chainId":137,"name":"ZeroSwapToken","address":"0xfd4959c06FbCc02250952DAEbf8e0Fb38cF9FD8C","symbol":"ZEE","decimals":18,"logoURI":"https://pbs.twimg.com/profile_images/1366339230683652096/sit30Uuo_400x400.png"},{"chainId":137,"name":"ZeroUtility","address":"0xe86E8beb7340659DDDCE61727E500e3A5aD75a90","symbol":"ZUT","decimals":18,"logoURI":"https://s2.gifyu.com/images/zutlogo.jpg"},{"chainId":137,"name":"Zeus","address":"0x232eaB56c4fB3f84c6Fb0a50c087c74b7B43c6Ad","symbol":"ZUZ","decimals":18,"logoURI":"https://etherscan.io/token/images/zuzprotocol_32.png"},{"chainId":137,"name":"beefy.finance","address":"0xFbdd194376de19a88118e84E279b977f165d01b8","symbol":"BIFI","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xfbdd194376de19a88118e84e279b977f165d01b8/57d8df8ef2914d2733c01c6c55d1b846.png"},{"chainId":137,"name":"decentral.games","address":"0x2a93172c8DCCbfBC60a39d56183B7279a2F647b4","symbol":"$DG","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x2a93172c8dccbfbc60a39d56183b7279a2f647b4/92d7908366830c111f6f979e83e59945.png"},{"chainId":137,"name":"iFARM","address":"0xab0b2ddB9C7e440fAc8E140A89c0dbCBf2d7Bbff","symbol":"iFARM","decimals":18,"logoURI":"https://raw.githubusercontent.com/harvestfi/assets/main/farm-logo.png"},{"chainId":137,"name":"miMATIC","address":"0xa3Fa99A148fA48D14Ed51d610c367C61876997F1","symbol":"miMATIC","decimals":18,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0xa3fa99a148fa48d14ed51d610c367c61876997f1/be77e8e47016b1e9d3f01b7edc9b8d4f.png"},{"chainId":137,"name":"moonwolf.io","address":"0x8f18dC399594b451EdA8c5da02d0563c0b2d0f16","symbol":"WOLF","decimals":9,"logoURI":"https://static.debank.com/image/matic_token/logo_url/0x8f18dc399594b451eda8c5da02d0563c0b2d0f16/e6f1062a0514cbc9769be08afcf07990.png"},{"chainId":137,"name":"yearn.finance","address":"0xDA537104D6A5edd53c6fBba9A898708E465260b6","symbol":"YFI","decimals":18,"logoURI":"https://raw.githubusercontent.com/trustwallet/assets/master/blockchains/ethereum/assets/0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e/logo.png"}]}')},388:function(e,t){e.exports={pinata_api_key:"3da01378391b7f0b7be4",pinata_secret_api_key:"b9f43c3c12fb3956453db6a8b8594b603af6ef74f8eeac0eb83934a38bea4c03"}},452:function(e,t,a){},464:function(e,t){},466:function(e,t){},470:function(e,t){},471:function(e,t){},498:function(e,t){},500:function(e,t){},510:function(e,t){},512:function(e,t){},522:function(e,t){},524:function(e,t){},541:function(e,t){},575:function(e,t){},576:function(e,t){},646:function(e,t){},648:function(e,t){},653:function(e,t){},655:function(e,t){},662:function(e,t){},674:function(e,t){},677:function(e,t){},682:function(e,t){},79:function(e,t,a){},951:function(e,t){},977:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(38),i=a.n(s),r=(a(452),a(13)),o=a(14),c=a(20),l=a(19),d=a(3),m=a.p+"static/media/books.6e483aa8.png",b=(a(79),a(1010)),p=a(1009),h=a(434),u=a(1011),f=a(26),g=a(278),j=a(1012),x=a(10),y=a.n(x),O=a(24),k=a.p+"static/media/sparkLink.250e0a02.png",w=a(1007),v=a(1030),T=a(1031),F=a(1032),S=a(175),I=a.n(S),C=a(1),N=(Object(h.a)({breakpoints:{values:{xs:0,sm:600,md:900,lg:1200,xl:1536}},palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={isConnected:!1,userAddress:"",accountInfo:""},e.sleep=function(){var e=Object(O.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.getAccount=Object(O.a)(y.a.mark((function t(){var a,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:a=t.sent,n=a[0],alert("\u60a8\u5df2\u7ecf\u8fde\u63a5metamask, \u5f53\u524d\u8d26\u6237\uff1a "+n),e.setState({isConnected:!0}),e.setState({userAddress:n}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.debug(t.t0),e.setState({isConnected:!1});case 14:case"end":return t.stop()}}),t,null,[[0,10]])}))),e}return Object(o.a)(a,[{key:"componentWillMount",value:function(){var e=Object(O.a)(y.a.mark((function e(){var t,a,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new I.a(window.ethereum),e.next=3,t.eth.getAccounts();case 3:0==(a=e.sent).length?this.setState({isConnected:!1}):(n=a[0],this.setState({accountInfo:n.substring(0,5)}),this.setState({isConnected:!0}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes;return Object(C.jsx)("div",{children:Object(C.jsx)(w.a,{children:Object(C.jsxs)(p.a,{container:!0,direction:"row",justifyContent:"flex-start",children:[Object(C.jsx)(p.a,{item:!0,className:e.titleGrid,xs:2,children:Object(C.jsxs)(g.a,{component:"h1",color:"inherit",noWrap:!0,className:e.title,children:[Object(C.jsx)("img",{src:k,className:e.logo}),Object(C.jsx)("b",{children:"SparkLink"})]})}),Object(C.jsxs)(p.a,{item:!0,className:e.btnGrid,children:[Object(C.jsx)(b.a,{size:"large",className:e.btn,href:"/#/",children:Object(C.jsx)("b",{children:"\u9996\u9875"})}),Object(C.jsx)(b.a,{size:"large",className:e.btn,href:"/#/introPublish",children:Object(C.jsx)("b",{children:"\u53d1\u5e03"})}),Object(C.jsx)(b.a,{size:"large",className:e.btn,href:"/#/collections",children:Object(C.jsx)("b",{children:"\u6211\u7684\u6536\u85cf"})}),Object(C.jsx)(b.a,{size:"large",href:"https://github.com/SparkNFT",target:"_blank",children:Object(C.jsx)(v.a,{className:e.icon})}),this.state.isConnected?Object(C.jsx)(b.a,{onClick:this.getAccount,children:Object(C.jsx)(T.a,{className:e.icon})}):Object(C.jsx)(b.a,{onClick:this.getAccount,children:Object(C.jsx)(F.a,{className:e.icon})})]})]})})})}}]),a}(n.Component)),A=Object(f.a)((function(e){var t,a,n,s,i;return{icon:(t={},Object(d.a)(t,e.breakpoints.down("xl"),{fontSize:19}),Object(d.a)(t,e.breakpoints.up("xl"),{fontSize:27}),t),titleGrid:{marginTop:25,marginBottom:10,textAlign:"center"},title:(a={minWidth:100,fontSize:25,fontFamily:"Teko"},Object(d.a)(a,e.breakpoints.between("xs","sm"),{fontSize:25}),Object(d.a)(a,e.breakpoints.between("sm","md"),{fontSize:25}),Object(d.a)(a,e.breakpoints.between("md","lg"),{fontSize:35}),Object(d.a)(a,e.breakpoints.between("lg","xl"),{fontSize:35}),Object(d.a)(a,e.breakpoints.up("xl"),{fontSize:45}),a),btnGrid:(n={marginBottom:10,minWidth:370},Object(d.a)(n,e.breakpoints.between("sm","md"),{marginTop:10}),Object(d.a)(n,e.breakpoints.between("md","lg"),{marginTop:25,marginLeft:"20%"}),Object(d.a)(n,e.breakpoints.between("lg","xl"),{marginTop:25,marginLeft:"50%"}),Object(d.a)(n,e.breakpoints.up("xl"),{marginTop:25,marginLeft:"60%"}),n),btn:(s={color:"#424949",borderColor:"#e3f2fd",fontSize:15},Object(d.a)(s,e.breakpoints.between("xs","sm"),{fontSize:15}),Object(d.a)(s,e.breakpoints.between("sm","md"),{fontSize:15,width:100}),Object(d.a)(s,e.breakpoints.between("md","lg"),{fontSize:15,width:100}),Object(d.a)(s,e.breakpoints.up("xl"),{fontSize:25}),s),logo:(i={objectFit:"contain"},Object(d.a)(i,e.breakpoints.between("xs","sm"),{width:"20%"}),Object(d.a)(i,e.breakpoints.between("sm","md"),{width:"18%"}),Object(d.a)(i,e.breakpoints.up("md"),{width:"13%"}),i)}}),{withTheme:!0})(N),_=Object(h.a)({palette:{primary:{main:"#FDFEFE"},secondary:{main:"#2196f3"}}}),B=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(C.jsx)("div",{children:Object(C.jsx)(u.a,{theme:_,children:Object(C.jsxs)("div",{className:e.page,children:[Object(C.jsx)(A,{}),Object(C.jsx)(j.a,{component:"main",className:e.container,children:Object(C.jsx)("div",{className:e.paper,children:Object(C.jsxs)(p.a,{container:!0,justifyContent:"center",children:[Object(C.jsxs)(p.a,{item:!0,style:{minWidth:"50%"},children:[Object(C.jsx)(g.a,{color:"inherit",noWrap:!0,className:e.title,children:Object(C.jsx)("b",{children:"SparkLink"})}),Object(C.jsx)(g.a,{color:"inherit",noWrap:!0,className:e.title2,children:Object(C.jsx)("b",{children:"\u4eba\u4eba\u4f20\u64ad\uff0c\u4e92\u76f8\u652f\u6301\uff0c\u4eff\u82e5\u661f\u661f\u4e4b\u706b\uff0c\u70b9\u4eae\u4e00\u7247\u4e16\u754c\u3002"})}),Object(C.jsx)(g.a,{color:"inherit",noWrap:!0,className:e.title3,children:"\u53d1\u5e03\u4f60\u7231\u7684 & \u652f\u6301\u4f60\u7231\u7684 & \u4f20\u64ad\u4f60\u7231\u7684"})]}),Object(C.jsx)(p.a,{item:!0,xs:5,children:Object(C.jsx)("img",{src:m,className:e.books})}),Object(C.jsxs)(p.a,{container:!0,justifyContent:"center",spacing:5,children:[Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",variant:"contained",color:"secondary",className:e.btnMain,href:"/#/introPublish",children:Object(C.jsx)("b",{children:"\u53bb\u53d1\u5e03"})})}),Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",variant:"outlined",color:"secondary",className:e.btnSecond,href:"/#/buy",children:Object(C.jsx)("b",{children:"\u53bb\u8d2d\u4e70"})})})]})]})})})]})})})}}]),a}(n.Component),E=Object(f.a)((function(e){var t,a,n,s,i;return{title:(t={fontFamily:"Teko",marginTop:"25%"},Object(d.a)(t,e.breakpoints.between("xs","sm"),{fontSize:25}),Object(d.a)(t,e.breakpoints.between("sm","md"),{fontSize:25}),Object(d.a)(t,e.breakpoints.between("md","lg"),{fontSize:35}),Object(d.a)(t,e.breakpoints.between("lg","xl"),{fontSize:100}),Object(d.a)(t,e.breakpoints.up("xl"),{fontSize:150}),t),title2:(a={fontFamily:"Teko"},Object(d.a)(a,e.breakpoints.between("xs","sm"),{fontSize:10}),Object(d.a)(a,e.breakpoints.between("sm","md"),{fontSize:15}),Object(d.a)(a,e.breakpoints.between("md","lg"),{fontSize:25}),Object(d.a)(a,e.breakpoints.between("lg","xl"),{fontSize:35}),Object(d.a)(a,e.breakpoints.up("xl"),{fontSize:55}),a),title3:(n={fontFamily:"Teko"},Object(d.a)(n,e.breakpoints.between("xs","sm"),{fontSize:8}),Object(d.a)(n,e.breakpoints.between("sm","md"),{fontSize:10}),Object(d.a)(n,e.breakpoints.between("md","lg"),{fontSize:15}),Object(d.a)(n,e.breakpoints.between("lg","xl"),{fontSize:25}),Object(d.a)(n,e.breakpoints.up("xl"),{fontSize:45}),n),icon:{marginRight:e.spacing(2)},titleFont:{fontFamily:"Teko"},btnMain:(s={color:"#FFFFFF",borderColor:"#e3f2fd",borderWidth:2,borderRadius:25},Object(d.a)(s,e.breakpoints.between("xs","sm"),{fontSize:5}),Object(d.a)(s,e.breakpoints.between("sm","md"),{fontSize:10}),Object(d.a)(s,e.breakpoints.between("md","lg"),{fontSize:16}),Object(d.a)(s,e.breakpoints.between("lg","xl"),{fontSize:16,width:150}),Object(d.a)(s,e.breakpoints.up("xl"),{fontSize:30,width:300,height:70}),s),btnSecond:(i={color:"#03A9F4",borderColor:"#03A9F4",borderWidth:2,borderRadius:25},Object(d.a)(i,e.breakpoints.between("xs","sm"),{fontSize:5}),Object(d.a)(i,e.breakpoints.between("sm","md"),{fontSize:10}),Object(d.a)(i,e.breakpoints.between("md","lg"),{fontSize:16}),Object(d.a)(i,e.breakpoints.between("lg","xl"),{fontSize:16,width:150}),Object(d.a)(i,e.breakpoints.up("xl"),{fontSize:30,width:300,height:70}),i),paper:{marginTop:e.spacing(7),textAlign:"center"},container:{maxWidth:"100%"},books:{width:"90%",height:"auto"}}}),{withTheme:!0})(B);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(758),a(759);var D,z=a(432),R=a(45),U=a(93),L=a(156),P=a(53),M=a(228),W=a(437),G=a(1033),q=a(123),H=a.n(q),V=a(1034),J=a(1028),K=a(1025),X=a(1013),Q=a(1027),Z=(a(378),a(41)),Y=a.n(Z);try{D=new I.a(window.ethereum)}catch(xt){D=new I.a("ws://localhost:8546")}var $=D,ee=new $.eth.Contract([{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"NFT_id",type:"uint64"},{indexed:!0,internalType:"address",name:"receiver",type:"address"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"}],name:"Claim",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"NFT_id",type:"uint64"},{indexed:!1,internalType:"uint128",name:"transfer_price",type:"uint128"}],name:"DeterminePrice",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"NFT_id",type:"uint64"},{indexed:!1,internalType:"uint128",name:"transfer_price",type:"uint128"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"DeterminePriceAndApprove",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"NFT_id",type:"uint64"},{indexed:!1,internalType:"string",name:"content",type:"string"}],name:"Label",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint32",name:"issue_id",type:"uint32"},{indexed:!0,internalType:"address",name:"publisher",type:"address"},{indexed:!1,internalType:"uint64",name:"rootNFTId",type:"uint64"},{indexed:!1,internalType:"address",name:"token_addr",type:"address"}],name:"Publish",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"NFT_id",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"old_URI",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"new_URI",type:"bytes32"}],name:"SetURI",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"acceptShill",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"claimProfit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"},{internalType:"uint128",name:"_price",type:"uint128"}],name:"determinePrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"},{internalType:"uint128",name:"_price",type:"uint128"},{internalType:"address",name:"_to",type:"address"}],name:"determinePriceAndApprove",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getDepthByNFTId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getEditionIdByNFTId",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getFatherByNFTId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getIssueIdByNFTId",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"pure",type:"function"},{inputs:[],name:"getLossRatio",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getProfitByNFTId",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getRemainShillTimesByNFTId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"getRootNFTIdByIssueId",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"getRoyaltyFeeByIssueId",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getShillPriceByNFTId",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"getShillTimesByIssueId",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"getTokenAddrByIssueId",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getTokenAddrByNFTId",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"getTotalAmountByIssueId",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"getTransferPriceByNFTId",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"isEditionExisting",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"_issue_id",type:"uint32"}],name:"isIssueExisting",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"}],name:"isRootNFT",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"},{internalType:"string",name:"content",type:"string"}],name:"label",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"_first_sell_price",type:"uint128"},{internalType:"uint8",name:"_royalty_fee",type:"uint8"},{internalType:"uint16",name:"_shill_times",type:"uint16"},{internalType:"bytes32",name:"_ipfs_hash",type:"bytes32"},{internalType:"address",name:"_token_addr",type:"address"}],name:"publish",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_NFT_id",type:"uint64"},{internalType:"bytes32",name:"ipfs_hash",type:"bytes32"}],name:"setURI",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"payable",type:"function"}],"0xb42d4525841008A69E427026DF354067fD6A524f"),te=(a(387),a(982)),ae=a(154),ne=a(388),se=ne.pinata_api_key,ie=ne.pinata_secret_api_key,re=a(389),oe=a(390),ce=J.a.Option,le=a(142),de=Object(h.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),me=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={name:"",bonusFee:0,price:0,buffer:null,ipfsHashCover:"",ipfsMeta:"",fileIpfs:"",description:"",shareTimes:0,onLoading:!1,rootNFTId:"",usedAcc:"",sig:"",fileType:"",finished:!1,coverURL:"",data:[],token_addr:null,token_symbol:"MATIC",decimal:0},e.handleGetPubName=function(t){e.setState({name:t.target.value})},e.handleGetBonusFee=function(t){e.setState({bonusFee:t})},e.handleGetPrice=function(t){e.setState({price:t})},e.handleGetShareTimes=function(t){e.setState({shareTimes:t})},e.handleGetDescription=function(t){e.setState({description:t.target.value})},e.handleSearch=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o,c,l,d,m;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){a=a.toLowerCase(),n=ae.a,s=[],i=new RegExp(a),r=Object(L.a)(n);try{for(r.s();!(o=r.n()).done;)c=o.value,l=c.symbol.toLowerCase(),d='"'.concat(c.symbol,'"')+"   "+c.address,m={value:c.address,text:d},i.test(l)&&!s.includes(m)&&s.push(m)}catch(b){r.e(b)}finally{r.f()}a.includes("0x")&&42==a.length&&(s=[m={value:a,text:a}]),e.setState({data:s})}else e.setState({data:[]});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSelectChange=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o,c,l,d;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=ae.a,o=Object(L.a)(n);try{for(o.s();!(c=o.n()).done;)l=c.value,a===l.address&&(s=a,i=l.symbol,r=l.decimals)}catch(m){o.e(m)}finally{o.f()}if(void 0!=i){t.next=18;break}return t.prev=4,d=new $.eth.Contract(le,a),t.next=8,d.methods.symbol().call();case 8:return i=t.sent,t.next=11,d.methods.decimals().call();case 11:r=t.sent,s=a,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),W.b.error("\u4f60\u63d0\u4f9b\u7684\u5730\u5740\u4e0d\u662ferc20\u4ee3\u5e01\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165");case 18:e.setState({token_addr:s,token_symbol:i,decimal:r});case 19:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e){return t.apply(this,arguments)}}(),e.submit=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o,c,l,d,m,b,p,h,u,f;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(P.a)(e),0!==e.state.price&&0!==e.state.bonusFee&&0!==e.state.shareTimes&&""!==e.state.ipfsHashCover&&""!==e.state.fileIpfs&&null!==e.state.token_addr){t.next=5;break}W.b.error({content:"\u4f60\u6709\u4fe1\u606f\u5c1a\u672a\u586b\u5199",className:"custom-class",style:{marginTop:"10vh"}}),t.next=41;break;case 5:return e.setState({onLoading:!0}),s="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+e.state.ipfsHashCover,e.setState({coverURL:s}),console.debug("coverURL: ",e.state.coverURL),i=e.state.description.replace(/(\r\n\t|\n|\r\t)/gm," "),t.next=12,window.ethereum.request({method:"eth_requestAccounts"});case 12:return r=t.sent,o=r[0],e.setState({usedAcc:o}),c="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+e.state.fileIpfs,l={name:e.state.name,description:i,image:e.state.coverURL,attributes:[{display_type:"boost_percentage",trait_type:"Bonuse Percentage",value:e.state.bonusFee},{trait_type:"File Address",value:c},{value:e.state.fileType},{trait_type:"Encrypted",value:"FALSE"}]},"https://api.pinata.cloud/pinning/pinJSONToIPFS",t.prev=18,t.next=21,Y.a.post("https://api.pinata.cloud/pinning/pinJSONToIPFS",l,{headers:{pinata_api_key:se,pinata_secret_api_key:ie}});case 21:return d=t.sent,console.debug("metadata: ",d.data.IpfsHash),m=oe.decode(d.data.IpfsHash),b=m.toString("hex").substring(4),e.setState({ipfsMeta:b}),p=(p=e.state.price*Math.pow(10,e.state.decimal)).toString(),console.debug("price_with_decimal: ",p),h="0x"+b,t.next=32,$.eth.getGasPrice();case 32:u=t.sent,f=Math.floor(1.5*parseInt(u)).toString(),ee.methods.publish(p,e.state.bonusFee,e.state.shareTimes,h,e.state.token_addr).send({from:e.state.usedAcc,gasPrice:f}).on("receipt",(function(e){console.log(e);var t=e.events.Publish.returnValues,a=t.rootNFTId,s=t.issue_id;n.setState({onLoading:!1,rootNFTId:a,issueId:s,finished:!0}),W.b.success({content:"\u5df2\u7ecf\u6210\u529f\u53d1\u5e03\u4f5c\u54c1",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){n.setState({onLoading:!1}),e.message.includes("not mined")?W.b.warning({content:"\u4ea4\u6613\u5df2\u63d0\u4ea4\uff0c\u5f53\u524d\u7f51\u7edc\u8f83\u62e5\u5835\uff0c\u8bf7\u7a0d\u7b49\u540e\u53bb\u6211\u7684\u6536\u85cf\u4e2d\u67e5\u770b",className:"custom-class",style:{marginTop:"10vh"}}):(console.debug(e.message),W.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}}))})),t.next=41;break;case 37:t.prev=37,t.t0=t.catch(18),console.debug(t.t0),W.b.error({content:"\u4f3c\u4e4e\u9047\u5230\u4e86\u4e9b\u5c0f\u95ee\u9898\uff1a ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 41:case"end":return t.stop()}}),t,null,[[18,37]])})));return function(e){return t.apply(this,arguments)}}(),e.checkDetail=function(){var t=Object(O.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n="/#/NFT/"+e.state.rootNFTId,window.open(n,"_self");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=4;break}return alert("\u8bf7\u5148\u5b89\u88c5metamask"),window.location.href="/#/introPublish",e.abrupt("return");case 4:return e.next=6,window.ethereum.request({method:"eth_chainId"});case 6:if("0x89"===e.sent){e.next=11;break}return alert("\u8bf7\u5207\u6362\u81f3Polygon \u4e3b\u7f51\u7edc"),e.next=11,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes,a=this,n=K.a.TextArea,s=this.state.data.map((function(e){return Object(C.jsx)(ce,{children:e.text},e.value)})),i={name:"file",action:"https://api.pinata.cloud/pinning/pinFileToIPFS",headers:{pinata_api_key:se,pinata_secret_api_key:ie},data:this.state.buffer,beforeUpload:function(t){return new Promise((function(a,n){try{var s=new FileReader;s.readAsArrayBuffer(t),s.onload=function(t){var a=t.target.result,n=new re;n.append("file",a),e.setState({buffer:n})},a()}catch(i){W.b.error("Read file error"),n()}}))},onChange:function(e){return Object(O.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"done"===(n=e.file.status)?(W.b.success("".concat(e.file.name," file uploaded successfully.")),a.setState({ipfsHashCover:e.file.response.IpfsHash})):"error"===n&&W.b.error("".concat(e.file.name," file upload failed."));case 2:case"end":return t.stop()}}),t)})))()},onDrop:function(e){W.b.error("Only image file supported"),console.log("Dropped files",e.dataTransfer.files)}},r={name:"file",action:"https://api.pinata.cloud/pinning/pinFileToIPFS",headers:{pinata_api_key:se,pinata_secret_api_key:ie},data:this.state.buffer,beforeUpload:function(t){return new Promise((function(a,n){try{var s=new FileReader;s.readAsArrayBuffer(t),s.onload=function(t){var a=t.target.result,n=new re;n.append("file",a),e.setState({buffer:n})},a()}catch(i){W.b.error("Read file error"),n()}}))},onChange:function(e){return Object(O.a)(y.a.mark((function t(){var n,s,i;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"done"===(n=e.file.status)?(W.b.success("".concat(e.file.name," file uploaded successfully.")),s=e.file.name.split("."),i=s[s.length-1],console.debug(i),console.debug("file ipfs hash: ",e.file.response.IpfsHash),a.setState({fileIpfs:e.file.response.IpfsHash,fileType:i})):"error"===n&&W.b.error("".concat(e.file.name," file upload failed."));case 2:case"end":return t.stop()}}),t)})))()},onDrop:function(e){W.b.error("Only image file supported"),console.log("Dropped files",e.dataTransfer.files)}};return this.state.finished?Object(C.jsx)(X.a,{spinning:this.state.onLoading,size:"large",children:Object(C.jsxs)(u.a,{theme:de,children:[Object(C.jsx)(A,{}),Object(C.jsxs)("div",{style:{textAlign:"center"},children:[Object(C.jsx)(g.a,{className:t.titleCon,children:Object(C.jsx)("b",{children:" \ud83c\udf89 \u606d\u559c\u60a8\u53d1\u5e03\u6210\u529f"})}),Object(C.jsx)(te.a,{className:t.paperImg,children:Object(C.jsx)("img",{style:{width:300,marginTop:20,marginBottom:50},src:this.state.coverURL})}),Object(C.jsx)(g.a,{variant:"h4",style:{marginTop:20,fontFamily:"Ubuntu"},children:Object(C.jsxs)("b",{children:["\u60a8\u83b7\u5f97\u7684NFT\u662f\uff1a #",this.state.rootNFTId]})}),Object(C.jsx)(b.a,{variant:"contained",className:t.button,style:{marginTop:50,width:200,height:50,marginBottom:50},onClick:this.checkDetail,children:"\u67e5\u770b\u8be6\u60c5"})]})]})}):Object(C.jsx)(X.a,{spinning:this.state.onLoading,size:"large",style:{marginTop:1e3},children:Object(C.jsxs)(u.a,{theme:de,children:[Object(C.jsx)(A,{}),Object(C.jsx)(j.a,{component:"main",maxWidth:"xs",className:t.main,children:Object(C.jsxs)("div",{className:t.paper,children:[Object(C.jsx)(g.a,{className:t.titlePub,children:Object(C.jsx)("b",{children:"\u53d1\u5e03\u4f5c\u54c1\u4fe1\u606f"})}),Object(C.jsxs)("form",{className:t.form,noValidate:!0,children:[Object(C.jsxs)(p.a,{container:!0,spacing:2,children:[Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginBottom:10},children:"\u4f5c\u54c1\u540d\u5b57 *"}),Object(C.jsx)(K.a,{placeholder:"\u4f5c\u54c1\u540d\u79f0",allowClear:!0,id:"pubName",onChange:this.handleGetPubName,value:this.state.name,className:t.input})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginTop:20},children:"\u6536\u76ca\u6bd4\u4f8b *"}),Object(C.jsx)("p",{style:{fontSize:14},children:"\u5f53\u60a8\u7684\u4f5c\u54c1\u88ab\u4ed6\u4eba\u5206\u4eab\u5e76\u83b7\u5229\u65f6\uff0c\u60a8\u5e0c\u671b\u4ece\u4ed6\u7684\u5206\u4eab\u5229\u6da6\u4e2d\u83b7\u5f97\u591a\u5c11\u6bd4\u4f8b\u7684\u6536\u76ca"}),Object(C.jsx)(Q.a,{id:"bonusFee",defaultValue:0,min:0,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},onChange:this.handleGetBonusFee,className:t.inputNum})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginTop:20},children:"\u901a\u884c\u4ee3\u5e01 *"}),Object(C.jsx)("p",{style:{fontSize:14},children:"\u8bf7\u9009\u62e9\u60a8\u652f\u6301\u7684\u652f\u4ed8\u8d27\u5e01 (\u8f93\u5165\u4ee3\u5e01\u7b26\u53f7\u6216\u5730\u5740)"}),Object(C.jsx)(J.a,{showSearch:!0,value:this.state.token_addr,placeholder:"\u8bf7\u8f93\u5165\u4ee3\u5e01\u7b26\u53f7\u6216\u5730\u5740",style:{width:"100%"},size:"large",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.handleSearch,onChange:this.handleSelectChange,notFoundContent:null,children:s})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsxs)("label",{style:{fontSize:18,marginTop:20},children:["\u552e\u5356\u4ef7\u683c (",this.state.token_symbol,")*"]}),Object(C.jsx)(Q.a,{id:"price",defaultValue:0,min:0,onChange:this.handleGetPrice,className:t.inputNum})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginTop:20},children:"\u6700\u9ad8\u5206\u4eab\u6b21\u6570 (MAX\uff1a 65535)*"}),Object(C.jsx)("p",{style:{fontSize:14},children:"\u60a8\u5e0c\u671b\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u60a8\u4f20\u64ad\u7684\u7528\u6237\u6700\u591a\u80fd\u591f\u5206\u4eab\u591a\u5c11\u6b21\uff1f"}),Object(C.jsx)(Q.a,{id:"shareTimes",defaultValue:0,min:0,max:65535,onChange:this.handleGetShareTimes,className:t.inputNum})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginTop:20},children:"\u4f5c\u54c1\u63cf\u8ff0 *"}),Object(C.jsx)("p",{style:{fontSize:14},children:"\u8bf7\u7528\u7b80\u5355\u7684\u8bdd\u8bed\u5bf9\u60a8\u7684\u4f5c\u54c1\u8fdb\u884c\u63cf\u8ff0\uff0c\u7cbe\u51c6\u6709\u6548\u7684\u63cf\u8ff0\u80fd\u5e2e\u52a9\u5176\u4ed6\u7528\u6237\u66f4\u51c6\u786e\u5f97\u4e86\u89e3\u60a8\u7684\u4f5c\u54c1"}),Object(C.jsx)(n,{rows:6,id:"Description",onChange:this.handleGetDescription})]})]}),Object(C.jsx)("label",{style:{fontSize:18,marginTop:50},children:"\u5c01\u9762\u56fe\u7247 *"}),Object(C.jsxs)("p",{style:{fontSize:14},children:["\u8bf7\u5728\u4e0b\u65b9\u533a\u57df\u4e0a\u4f20\u60a8\u7684\u5c01\u9762\u56fe\u7247 ",Object(C.jsx)("br",{}),"\u5c01\u9762\u6587\u4ef6\u652f\u6301\u8fd9\u4e9b\u683c\u5f0f\uff1aJPEG/JPG/PNG"]}),Object(C.jsxs)(H.a,Object(U.a)(Object(U.a)({},i),{},{style:{width:"100%",minHeight:200},id:"Uploader",accept:".png, .jpg, .jpeg",children:[Object(C.jsx)("p",{className:"ant-upload-drag-icon",children:Object(C.jsx)(G.a,{})}),Object(C.jsx)("p",{className:"ant-upload-text",children:"\u4e0a\u4f20\u6587\u4ef6\u8bf7\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u6587\u4ef6\u5230\u6b64\u5904"}),Object(C.jsx)("p",{className:"ant-upload-hint",children:"\u652f\u6301\u5355\u4e2a\u6587\u4ef6\u7684\u4e0a\u4f20\uff0c\u652f\u6301\u591a\u79cd\u7c7b\u578b\u6587\u4ef6\u7684\u4e0a\u4f20"})]})),Object(C.jsx)("label",{style:{fontSize:18,marginTop:50},children:"\u4f5c\u54c1\u6587\u4ef6 *"}),Object(C.jsx)("p",{style:{fontSize:14},children:"\u8bf7\u5728\u4e0b\u65b9\u533a\u57df\u4e0a\u4f20\u60a8\u7684\u4f5c\u54c1\u6587\u4ef6 "}),Object(C.jsxs)(H.a,Object(U.a)(Object(U.a)({},r),{},{style:{width:"100%",minHeight:200},id:"Uploader2",children:[Object(C.jsx)("p",{className:"ant-upload-drag-icon",children:Object(C.jsx)(G.a,{})}),Object(C.jsx)("p",{className:"ant-upload-text",children:"\u4e0a\u4f20\u6587\u4ef6\u8bf7\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u6587\u4ef6\u5230\u6b64\u5904"}),Object(C.jsx)("p",{className:"ant-upload-hint",children:"\u4ec5\u652f\u6301\u5355\u4e2a\u6587\u4ef6\u7684\u4e0a\u4f20\uff0c\u652f\u6301\u591a\u79cd\u7c7b\u578b\u6587\u4ef6\u7684\u4e0a\u4f20"})]}))]}),Object(C.jsx)(b.a,{variant:"contained",className:t.button,startIcon:Object(C.jsx)(V.a,{}),style:{marginTop:50,width:200,height:50,marginBottom:50},onClick:this.submit,children:"\u63d0\u4ea4\u4fe1\u606f"})]})})]})})}}]),a}(n.Component),be=Object(f.a)((function(e){var t,a,n,s;return{main:(t={},Object(d.a)(t,e.breakpoints.between("xs","sm"),{width:"60%"}),Object(d.a)(t,e.breakpoints.up("sm"),{width:500}),t),titleCon:(a={marginTop:50,fontFamily:"Ubuntu"},Object(d.a)(a,e.breakpoints.between("xs","sm"),{fontSize:30}),Object(d.a)(a,e.breakpoints.up("sm"),{fontSize:40}),a),paperImg:(n={backgroundColor:"#EFEBE9",width:330},Object(d.a)(n,e.breakpoints.between("xs","sm"),{marginLeft:"5%",marginTop:30}),Object(d.a)(n,e.breakpoints.between("sm","md"),{marginLeft:"30%",marginTop:30}),Object(d.a)(n,e.breakpoints.between("md","lg"),{marginLeft:"30%",marginTop:30}),Object(d.a)(n,e.breakpoints.between("lg","xl"),{marginLeft:"40%",marginTop:30}),Object(d.a)(n,e.breakpoints.up("xl"),{marginLeft:"45%",marginTop:30}),n),titlePub:(s={marginTop:"3%",fontFamily:"Ubuntu"},Object(d.a)(s,e.breakpoints.between("xs","sm"),{fontSize:30}),Object(d.a)(s,e.breakpoints.up("sm"),{fontSize:40}),s),btn:{color:"#424949",borderWidth:2,borderColor:"#e3f2fd",fontSize:16},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:M.a[500],width:60,height:60},form:{width:"150%",marginTop:e.spacing(7)},submit:{margin:e.spacing(3,0,2)},fileBtn:{padding:"10px 30px 10px 30px",background:"#66C1E4",border:"none",color:"#FFF",boxShadow:"1px 1px 1px #4C6E91"},button:{margin:e.spacing(1),fontSize:20,borderRadius:25,color:"#FFFFFF",backgroundColor:"#2196f3"},input:{height:40,borderRadius:3,width:"100%"},inputNum:{height:40,borderRadius:3,width:"100%",fontSize:20}}}),{withTheme:!0})(me),pe=a(1015),he=a(1035),ue=a(1036),fe=a(1037),ge=a(1038),je=a(1039),xe=a(1040),ye=a(221),Oe=a(1014),ke=a(1029),we=a(950),ve=a(419),Te=a(142),Fe=Object(h.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),Se=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).gateway="https://coldcdn.com/api/cdn/v5ynur/ipfs/",e.backend="https://api.sparklink.io",e.state={loading:!1,showDecryptProgress:null,decryptPercentage:0,showProgress:!1,percentage:0,Profit:"",account:null,loadItem:!0,Cover:"",Name:"",Description:"",BonusFee:0,childrenNum:0,encrypted:"\u672a\u77e5",dataUrl:null,isEncrypt:!1,fileType:"",spark:!1,tokenAddr:"",tokenSymbol:""},e.return=Object(O.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.location.reload(!0);case 1:case"end":return e.stop()}}),e)}))),e.claim=Object(O.a)(y.a.mark((function t(){var a,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!0}),t.next=3,$.eth.getGasPrice();case 3:return a=t.sent,n=Math.floor(1.5*parseInt(a)).toString(),t.prev=5,t.next=8,ee.methods.claimProfit(e.props.match.params.id).send({from:e.state.account,gasPrice:n});case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),W.b.error({content:"Error: ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 13:return t.prev=13,e.setState({loading:!1}),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[5,10,13,16]])}))),e.downloadIPFS=Object(O.a)(y.a.mark((function t(){var a,n,s,i,r,o,c,l,d,m,b,p,h,u,f,g;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=Object(P.a)(e),n=e.state.dataUrl.split("/"),s=n[n.length-1],i=e.gateway+s,e.setState({showProgress:!0}),!e.state.isEncrypt){t.next=22;break}return r={method:"get",url:i,onDownloadProgress:function(e){var t=Math.round(e.loaded/e.total*100);a.setState({percentage:t})}},t.next=9,Y()(r);case 9:return o=t.sent,c=o.data,t.next=13,window.ethereum.request({method:"eth_requestAccounts"});case 13:return l=t.sent,d=l[0],m={account:d,root_nft_id:e.props.match.params.id},m=JSON.stringify(m),e.setState({showProgress:!1}),t.next=20,e.signDataAndDecrypt(d,c);case 20:t.next=46;break;case 22:return b={url:i,method:"GET",responseType:"blob",onDownloadProgress:function(e){var t=Math.round(e.loaded/e.total*100);a.setState({percentage:t})}},t.prev=23,t.next=26,Y()(b);case 26:p=t.sent,h=window.URL.createObjectURL(new Blob([p.data])),(u=document.createElement("a")).href=h,u.style.display="none",f="."+a.state.fileType,g=e.state.Name+f,u.download=g,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(h),t.next=43;break;case 40:t.prev=40,t.t0=t.catch(23),W.b.error({content:"Error: ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 43:return t.prev=43,e.setState({showProgress:!1}),t.finish(43);case 46:case"end":return t.stop()}}),t,null,[[23,40,43,46]])}))),e.signDataAndDecrypt=function(){var t=Object(O.a)(y.a.mark((function t(a,n){var s,i,r,o,c,l,d,m,b,p,h,u,f,g,j;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={account:a,nft_id:e.props.match.params.id},i=JSON.stringify(s),t.next=4,$.eth.personal.sign(i,a);case 4:return r=t.sent,e.setState({showDecryptProgress:!0}),o={account:a,nft_id:e.props.match.params.id,signature:r},c=JSON.stringify(o),l=e.backend+"/api/v1/key/claim",t.prev=9,t.next=12,Y.a.post(l,c,{headers:{"Content-Type":"application/json"}});case 12:200==(d=t.sent).status?(m=d.data.key,b=ve.AES.decrypt(n,m),p=b.toString(ve.enc.Utf8),h=ve.enc.Hex.parse(p),u=e.wordArrayToByteArray(h,h.length),f=new Blob([u]),g="."+e.state.fileType,we.saveAs(f,e.state.Name+g)):(j=d.data.message,W.b.error({content:"Error: ".concat(j),className:"custom-class",style:{marginTop:"10vh"}})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),W.b.error({content:"Error: ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 19:case"end":return t.stop()}}),t,null,[[9,16]])})));return function(e,a){return t.apply(this,arguments)}}(),e.wordToByteArray=function(e,t,a){var n=e.length;return a>0&&e.push(t>>>24),a>1&&e.push(t>>>16&255),a>2&&e.push(t>>>8&255),a>3&&e.push(255&t),{result:e,addedLength:e.length-n}},e.wordArrayToByteArray=function(t,a){console.debug("enter in wordArrayToByte"),t.hasOwnProperty("sigBytes")&&t.hasOwnProperty("words")&&(a=t.sigBytes,t=t.words);for(var n,s=[],i=0,r=a,o=0;a>0;){var c=e.wordToByteArray(s,t[o],Math.min(4,a));s=c.result,i+=n=c.addedLength;var l=Math.round(i/r*100);l!==e.state.decryptPercentage&&e.setState({decryptPercentage:l}),a-=n,o++}return new Uint8Array(s)},e.spark=function(){e.setState({spark:!0})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(y.a.mark((function e(){var t,a,n,s,i,r,o,c,l,d,m,b,p,h,u,f,g,j,x,O,k,w,v,T,F=this;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=4;break}return alert("\u8bf7\u5148\u5b89\u88c5metamask"),window.location.href="/#/collections",e.abrupt("return");case 4:return e.next=6,window.ethereum.request({method:"eth_chainId"});case 6:if("0x89"===e.sent){e.next=11;break}return alert("\u8bf7\u5207\u6362\u81f3Polygon \u4e3b\u7f51\u7edc"),e.next=11,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 11:return e.next=13,ee.methods.ownerOf(this.props.match.params.id).call();case 13:return t=e.sent,e.next=16,window.ethereum.request({method:"eth_requestAccounts"});case 16:return a=e.sent,n=a[0],$.utils.toChecksumAddress(n)!==t&&(W.b.warning({content:"\u8fd9\u679anft\u4e0d\u5c5e\u4e8e\u4f60",className:"custom-class",style:{marginTop:"10vh"}}),window.location.href="/#/"),e.next=21,ee.methods.getTokenAddrByNFTId(this.props.match.params.id).call();case 21:return s=e.sent,e.next=24,ee.methods.getProfitByNFTId(this.props.match.params.id).call();case 24:if(i=e.sent,"0x0000000000000000000000000000000000000000"!=s){e.next=31;break}r=i/Math.pow(10,18),o=r+" MATIC",this.setState({tokenAddr:"0x0000000000000000000000000000000000000000",tokenSymbol:"MATIC",Profit:o}),e.next=41;break;case 31:return c=new $.eth.Contract(Te,s),e.next=34,c.methods.symbol().call();case 34:return l=e.sent,e.next=37,c.methods.decimals().call();case 37:d=e.sent,r=i/Math.pow(10,d),o=r+" ".concat(l),this.setState({tokenAddr:s,tokenSymbol:l,Profit:o});case 41:return e.next=43,ee.methods.tokenURI(this.props.match.params.id).call();case 43:return m=e.sent,b=m.split("/"),e.next=47,ee.methods.getIssueIdByNFTId(this.props.match.params.id).call();case 47:return p=e.sent,e.next=50,ee.methods.getRoyaltyFeeByIssueId(p).call();case 50:return h=e.sent,u=b[b.length-1],f="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+u,e.prev=53,e.next=56,Y()({method:"get",url:f,timeout:5e3});case 56:for(g=e.sent,j=g.data,0,x="",O=!1,k=j.attributes[2].value,w="\u672a\u77e5",v=0;v<j.attributes.length;v++)"Bonuse Percentage"===j.attributes[v].trait_type&&j.attributes[v].value,"File Address"===j.attributes[v].trait_type&&(x=j.attributes[v].value),"Encrypted"===j.attributes[v].trait_type&&("FALSE"===j.attributes[v].value?(O=!1,w="\u5426"):(O=!0,w="\u662f"));this.setState({Name:j.name,Description:j.description,BonusFee:h,Cover:j.image,dataUrl:x,isEncrypt:O,encrypted:w,fileType:k,loadItem:!1}),e.next=74;break;case 67:e.prev=67,e.t0=e.catch(53),this.setState({Name:"SparkNFT"}),this.setState({Description:"\u6682\u65f6\u65e0\u6cd5\u83b7\u53d6\u5230\u8be5nft\u7684\u76f8\u5173\u63cf\u8ff0"}),this.setState({BonusFee:h}),this.setState({Cover:"https://via.placeholder.com/100x140.png?text=SparkNFT"}),this.setState({dataUrl:"fileAddr_PlaceHolder",loadItem:!1});case 74:T=this.backend+"/api/v1/nft/info?nft_id="+this.props.match.params.id,Y.a.get(T).then((function(e){var t=e.data.children_count;F.setState({childrenNum:t})})).catch((function(e){void 0!==e.response?400===e.response.status&&e.response.data.message.includes("children not found")?console.debug("no children"):W.b.error({content:"\u83b7\u53d6nft\u5b50\u8282\u70b9\u60c5\u51b5\u9875\u9762\u5931\u8d25\uff1a ".concat(e),className:"custom-class",style:{marginTop:"10vh"}}):W.b.error({content:"\u9519\u8bef\uff1a\u670d\u52a1\u5668\u672a\u54cd\u5e94",className:"custom-class",style:{marginTop:"10vh"}})}));case 76:case"end":return e.stop()}}),e,this,[[53,67]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.classes;return this.state.showDecryptProgress?Object(C.jsx)(X.a,{spinning:this.state.loading,size:"large",children:Object(C.jsxs)(u.a,{theme:Fe,children:[Object(C.jsx)(A,{}),Object(C.jsx)("div",{style:{textAlign:"center",marginTop:"2%",marginLeft:40},children:Object(C.jsx)(g.a,{color:"textPrimary",gutterBottom:!0,style:{marginRight:50,marginTop:20,fontSize:24},children:Object(C.jsx)("b",{children:"\u6b63\u5728\u89e3\u5bc6\u6587\u4ef6"})})}),Object(C.jsx)("div",{style:{textAlign:"center",marginTop:"10%"},children:Object(C.jsx)(ke.a,{type:"circle",percent:this.state.decryptPercentage,width:200})}),Object(C.jsx)("div",{style:{textAlign:"center"},children:Object(C.jsx)(b.a,{variant:"contained",className:a.button,style:{marginTop:50,width:200,height:50,marginBottom:50},onClick:this.return,children:"\u8fd4\u56de\u4fe1\u606f\u9875\u9762"})})]})}):this.state.showProgress?Object(C.jsx)(X.a,{spinning:this.state.loading,size:"large",children:Object(C.jsxs)(u.a,{theme:Fe,children:[Object(C.jsx)(A,{}),Object(C.jsx)("div",{style:{textAlign:"center",marginTop:"2%",marginLeft:40},children:Object(C.jsx)(g.a,{color:"textPrimary",gutterBottom:!0,style:{marginRight:50,marginTop:20,fontSize:24},children:Object(C.jsx)("b",{children:"\u6b63\u5728\u4e0b\u8f7d\u6587\u4ef6"})})}),Object(C.jsx)("div",{style:{textAlign:"center",marginTop:"10%"},children:Object(C.jsx)(ke.a,{type:"circle",percent:this.state.percentage,width:200})})]})}):Object(C.jsx)(X.a,{spinning:this.state.loading,size:"large",children:Object(C.jsxs)(u.a,{theme:Fe,children:[Object(C.jsx)(A,{}),Object(C.jsxs)(j.a,{component:"main",className:a.container,children:[Object(C.jsx)(b.a,{startIcon:Object(C.jsx)(ue.a,{style:{fontSize:"2rem"}}),href:"/#/collections",style:{marginTop:20,marginBottom:10,fontSize:"2rem"},children:"\u56de\u5230\u6211\u7684\u6536\u85cf\u9986"}),Object(C.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignContent:"flex-start",children:Object(C.jsxs)(p.a,{container:!0,direction:"row",className:a.cbutton,children:[Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(g.a,{color:"textPrimary",gutterBottom:!0,style:{marginRight:50,marginTop:20,fontSize:14},children:Object(C.jsxs)("b",{children:["\u76ee\u524d\u6536\u76ca: ",this.state.Profit]})})}),Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{style:{marginTop:10,marginRight:30,marginBottom:20},size:"large",variant:"contained",color:"primary",className:a.btnMain,startIcon:Object(C.jsx)(fe.a,{}),onClick:this.claim,children:Object(C.jsx)(g.a,{id:"isSpark",variant:"button",component:"h3",gutterBottom:!0,children:Object(C.jsx)("font",{size:"3",color:"white",children:"\u9886\u6536\u76ca"})})})}),Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{style:{marginTop:10,marginBottom:20},size:"large",variant:"outlined",color:"secondary",className:a.btnSecond,startIcon:Object(C.jsx)(ge.a,{}),href:"/#/sellSingle/"+this.props.match.params.id,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(C.jsx)("font",{size:"3",children:"\u552e\u5356"})})})})]})}),Object(C.jsx)("div",{className:a.paper,children:this.state.loadItem?Object(C.jsxs)(p.a,{container:!0,className:a.content,spacing:5,children:[Object(C.jsx)(p.a,{item:!0,xs:4,children:Object(C.jsx)(pe.a,{variant:"rect",width:300,height:500,style:{width:370,marginLeft:50,marginBottom:50}})}),Object(C.jsxs)(p.a,{item:!0,xs:!0,style:{marginLeft:"5%"},children:[Object(C.jsx)(pe.a,{animation:"wave",variant:"text",width:200,height:30}),Object(C.jsx)(pe.a,{animation:"wave",variant:"text",width:400,height:70}),Object(C.jsx)(pe.a,{animation:"wave",variant:"rect",width:500,height:300,style:{marginBottom:50}})]})]}):Object(C.jsxs)(p.a,{container:!0,direction:"row",justifyContent:"space-between",spacing:5,className:a.content,children:[Object(C.jsx)(p.a,{style:{maxWidth:200},children:Object(C.jsx)(te.a,{className:a.imagePapaer,children:Object(C.jsx)("img",{className:a.imageStyle,src:this.state.Cover})})}),Object(C.jsx)(p.a,{item:!0,xs:2}),Object(C.jsxs)(p.a,{item:!0,className:a.content2,children:[Object(C.jsxs)(g.a,(e={color:"inherit",align:"left"},Object(d.a)(e,"color","textSecondary"),Object(d.a)(e,"noWrap",!0),Object(d.a)(e,"style",{fontFamily:"Teko",fontSize:16,marginTop:"2%"}),Object(d.a)(e,"children",["#",this.props.match.params.id]),e)),Object(C.jsx)(g.a,{color:"inherit",align:"left",noWrap:!0,style:{fontFamily:"Teko",fontSize:34,marginTop:"2%"},children:Object(C.jsx)("b",{children:this.state.Name})}),Object(C.jsx)(g.a,{align:"justify",color:"textSecondary",paragraph:!0,style:{marginTop:"2%",maxWidth:"100%",fontSize:16},children:this.state.Description}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"6%",maxWidth:"100%",fontSize:24},children:["\u5206\u7ea2\u6bd4\u4f8b: ",this.state.BonusFee," %"]}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"65%",fontSize:12},children:["\u5f53\u524d\u62e5\u6709\u7684\u5b50\u8282\u70b9\u6570\u91cf: ",this.state.childrenNum]}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"65%",fontSize:12},children:["NFT\u4f5c\u54c1\u662f\u5426\u52a0\u5bc6: ",this.state.encrypted]}),Object(C.jsxs)(p.a,{container:!0,direction:"row",className:a.cbutton2,children:[Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"small",variant:"contained",color:"primary",target:"_blank",className:a.btnMain,startIcon:Object(C.jsx)(je.a,{}),onClick:this.downloadIPFS,children:Object(C.jsx)("font",{size:"3",color:"white",children:"\u4e0b\u8f7d"})})}),Object(C.jsx)(p.a,{children:Object(C.jsx)(b.a,{size:"small",variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,startIcon:Object(C.jsx)(xe.a,{}),onClick:this.spark,children:Object(C.jsx)("font",{size:"3",children:"\u70b9\u706b\u5206\u4eab"})})})]})]})]})}),Object(C.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"flex-start",children:Object(C.jsx)(p.a,{item:!0,xs:8,children:Object(C.jsx)("div",{style:{marginTop:30},children:function(){var e="https://"+window.location.host+"/#/NFT/Spark/"+t.props.match.params.id;if(t.state.spark)return Object(C.jsx)(p.a,{container:!0,children:Object(C.jsx)(p.a,{item:!0,xs:!0,children:Object(C.jsxs)(g.a,{color:"inherit",align:"center",noWrap:!0,className:a.share,children:["\u8bf7\u5c06\u4e0b\u65b9\u94fe\u63a5\u5206\u4eab\u7ed9\u4e70\u65b9\uff0c",Object(C.jsx)("br",{})," \u4e70\u65b9\u4f1a\u8fdb\u5165\u6b64\u94fe\u63a5\u6765\u8d2d\u4e70\u8fd9\u4e2aNFT ",Object(C.jsx)("br",{}),e,Object(C.jsx)(ye.CopyToClipboard,{text:e,onCopy:function(){return t.setState({copied:!0})},children:Object(C.jsx)(Oe.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(C.jsx)(he.a,{})})})]})})})}()})})})]})]})})}}]),a}(n.Component),Ie=Object(f.a)((function(e){var t,a,n,s,i,r,o;return{container:{maxWidth:1500},cbutton:(t={fontFamily:"Teko"},Object(d.a)(t,e.breakpoints.between("xs","sm"),{justifyContent:"center",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("sm","md"),{justifyContent:"center",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("md","lg"),{justifyContent:"flex-end",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("lg","xl"),{justifyContent:"flex-end",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.up("xl"),{justifyContent:"flex-end",alignItems:"flex-start"}),t),content:(a={fontFamily:"Teko"},Object(d.a)(a,e.breakpoints.between("xs","sm"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(a,e.breakpoints.between("sm","md"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(a,e.breakpoints.between("md","lg"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(a,e.breakpoints.between("lg","xl"),{justifyContent:"center",alignItems:"flex-start"}),Object(d.a)(a,e.breakpoints.up("xl"),{justifyContent:"center",alignItems:"flex-start"}),a),btnMain:{marginTop:e.spacing(3),color:"#FFFFFF",borderWidth:2,borderColor:"#e3f2fd",fontSize:16,borderRadius:25,width:120,maxWidth:"20rem",minWidth:"10rem"},btnSecond:{marginTop:e.spacing(3),color:"#03A9F4",borderWidth:3,borderColor:"#03A9F4",fontSize:16,borderRadius:25,width:120,maxWidth:"20rem",minWidth:"10rem"},paper:{marginTop:e.spacing(1),textAlign:"center",maxWidth:1370},imagePapaer:(n={},Object(d.a)(n,e.breakpoints.between("xs","sm"),{backgroundColor:"#EFEBE9",width:330,marginLeft:25}),Object(d.a)(n,e.breakpoints.between("sm","md"),{backgroundColor:"#EFEBE9",width:340,marginLeft:25}),Object(d.a)(n,e.breakpoints.between("md","lg"),{backgroundColor:"#EFEBE9",width:350,marginLeft:25}),Object(d.a)(n,e.breakpoints.between("lg","xl"),{backgroundColor:"#EFEBE9",width:350,marginLeft:10}),Object(d.a)(n,e.breakpoints.up("xl"),{backgroundColor:"#EFEBE9",width:350,marginLeft:10}),n),imageStyle:(s={objectFit:"contain"},Object(d.a)(s,e.breakpoints.between("xs","sm"),{width:280,height:365,marginTop:20,marginBottom:50}),Object(d.a)(s,e.breakpoints.between("sm","md"),{width:290,height:385,marginTop:20,marginBottom:50}),Object(d.a)(s,e.breakpoints.between("md","lg"),{width:300,height:420,marginTop:20,marginBottom:50}),Object(d.a)(s,e.breakpoints.between("lg","xl"),{width:300,marginTop:20,marginBottom:50}),Object(d.a)(s,e.breakpoints.up("xl"),{width:300,marginTop:20,marginBottom:50}),s),content2:(i={fontFamily:"Teko"},Object(d.a)(i,e.breakpoints.between("xs","sm"),{marginLeft:10,maxWidth:500}),Object(d.a)(i,e.breakpoints.between("sm","md"),{marginLeft:90,maxWidth:500}),Object(d.a)(i,e.breakpoints.between("md","lg"),{marginLeft:80,maxWidth:500}),Object(d.a)(i,e.breakpoints.between("lg","xl"),{marginLeft:50,maxWidth:500}),Object(d.a)(i,e.breakpoints.up("xl"),{marginLeft:60,maxWidth:500}),i),cbutton2:(r={fontFamily:"Teko"},Object(d.a)(r,e.breakpoints.between("xs","sm"),{justifyContent:"center",alignItems:"flex-start"}),Object(d.a)(r,e.breakpoints.between("sm","md"),{justifyContent:"center",alignItems:"flex-start"}),Object(d.a)(r,e.breakpoints.between("md","lg"),{justifyContent:"flex-end",alignItems:"flex-start"}),Object(d.a)(r,e.breakpoints.between("lg","xl"),{justifyContent:"space-evenly",alignItems:"flex-start"}),Object(d.a)(r,e.breakpoints.up("xl"),{justifyContent:"space-evenly",alignItems:"flex-start"}),r),share:(o={fontFamily:"Teko",marginBottom:"10%"},Object(d.a)(o,e.breakpoints.between("xs","sm"),{fontSize:14}),Object(d.a)(o,e.breakpoints.between("sm","md"),{fontSize:16}),Object(d.a)(o,e.breakpoints.between("md","lg"),{fontSize:18}),Object(d.a)(o,e.breakpoints.between("lg","xl"),{fontSize:20}),Object(d.a)(o,e.breakpoints.up("xl"),{fontSize:20}),o)}}),{withTheme:!0})(Se),Ce=a(1026),Ne=a(1016),Ae=a(1017),_e=a(1018),Be=a(1019),Ee=a(142),De=Object(h.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),ze=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).gateway="https://coldcdn.com/api/cdn/v5ynur/ipfs/",e.backend="https://api.sparklink.io",e.state={name:"",bonusFee:0,coverURL:"",description:"",price:0,ipfsHashMeta:"",open:!1,toAddress:"",NFTId:"",onSale:!1,copied:!1,onLoading:!1,owner:"",currentAcc:"",childrenNum:0,loadItem:!0,tokenAddr:null,tokenSymbol:"",decimal:0},e.handleClickOpen=function(t){e.setState({open:!0})},e.handleClose=function(t){e.setState({open:!1})},e.handleGetPrice=function(t){e.setState({price:t})},e.handleGetAddr=function(t){e.setState({toAddress:t.target.value})},e.handleClickLink=function(t){var a="/#/NFT/"+e.state.NFTId;window.open(a,"_self")},e.sell=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({open:!1}),t.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return n=t.sent,s=n[0],i=(i=e.state.price*Math.pow(10,e.state.decimal)).toString(),r=Object(P.a)(e),e.setState({onLoading:!0}),t.next=11,$.eth.getGasPrice();case 11:o=t.sent,c=Math.floor(1.5*parseInt(o)).toString(),ee.methods.determinePriceAndApprove(e.state.NFTId,i,e.state.toAddress).send({from:s,gasPrice:c}).on("receipt",(function(e){r.setState({onSale:!0,onLoading:!1}),W.b.success({content:"\u5df2\u7ecf\u6210\u529f\u6388\u6743\u4e70\u65b9",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){r.setState({onLoading:!1}),W.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(y.a.mark((function e(){var t,a,n,s,i,r,o,c,l,d,m,b,p,h,u,f,g,j,x,O;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_chainId"});case 2:if("0x89"===e.sent){e.next=7;break}return alert("\u8bf7\u5207\u6362\u81f3Polygon \u4e3b\u7f51\u7edc"),e.next=7,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 7:return e.next=9,window.ethereum.request({method:"eth_requestAccounts"});case 9:return t=e.sent,a=t[0],n=this,this.setState({currentAcc:a,NFTId:this.props.match.params.NFTId}),e.next=15,ee.methods.getIssueIdByNFTId(this.state.NFTId).call();case 15:return s=e.sent,e.next=18,ee.methods.getRoyaltyFeeByIssueId(s).call();case 18:return i=e.sent,e.next=21,ee.methods.tokenURI(this.props.match.params.NFTId).call();case 21:return r=e.sent,o=r.split("/"),this.setState({ipfsHashMeta:o[o.length-1]}),c=this.gateway+this.state.ipfsHashMeta,e.prev=25,e.next=28,Y()({method:"get",url:c,timeout:2e3});case 28:l=e.sent,d=l.data,m=d.attributes[0].value,d.attributes[3].value,this.setState({loadItem:!1,name:d.name,description:d.description,bonusFee:m,coverURL:d.image}),e.next=40;break;case 35:e.prev=35,e.t0=e.catch(25),b="SparkNFT#"+this.props.match.params.NFTId,n.setState({loadItem:!1,name:b,description:"\u6682\u65f6\u65e0\u6cd5\u83b7\u53d6\u5230\u8be5nft\u7684\u76f8\u5173\u63cf\u8ff0",bonusFee:i,coverURL:"https://via.placeholder.com/100x140.png?text=SparkNFT"}),console.debug(e.t0);case 40:return e.next=42,ee.methods.ownerOf(this.props.match.params.NFTId).call();case 42:return p=e.sent,e.next=45,ee.methods.getTransferPriceByNFTId(this.props.match.params.NFTId).call();case 45:return e.sent,e.next=48,ee.methods.getTokenAddrByNFTId(this.props.match.params.NFTId).call();case 48:if(h=e.sent,"0"?this.setState({owner:p.toLowerCase(),onSale:!1}):this.setState({owner:p.toLowerCase(),onSale:!0}),"0x0000000000000000000000000000000000000000"!=h){e.next=54;break}this.setState({tokenAddr:h,tokenSymbol:"MATIC",decimal:18}),e.next=68;break;case 54:return e.prev=54,u=new $.eth.Contract(Ee,h),e.next=58,u.methods.symbol().call();case 58:return f=e.sent,e.next=61,u.methods.decimals().call();case 61:g=e.sent,this.setState({tokenAddr:h,tokenSymbol:f,decimal:g}),e.next=68;break;case 65:e.prev=65,e.t1=e.catch(54),W.b.error({content:"Error: ".concat(e.t1),className:"custom-class",style:{marginTop:"10vh"}});case 68:return j=this.backend+"/api/v1/nft/info?nft_id="+this.state.NFTId,e.prev=69,e.next=72,Y.a.get(j);case 72:x=e.sent,O=x.data.children_count,this.setState({childrenNum:O}),e.next=83;break;case 77:if(e.prev=77,e.t2=e.catch(69),void 0!==e.t2.response){e.next=82;break}return W.b.error({content:"\u9519\u8bef\uff1a\u670d\u52a1\u5668\u672a\u54cd\u5e94",className:"custom-class",style:{marginTop:"10vh"}}),e.abrupt("return");case 82:400===e.t2.response.status&&e.t2.response.data.message.includes("children not found")?console.debug("no children"):W.b.error({content:"\u83b7\u53d6nft\u5b50\u8282\u70b9\u60c5\u51b5\u9875\u9762\u5931\u8d25\uff1a ".concat(e.t2),className:"custom-class",style:{marginTop:"10vh"}});case 83:case"end":return e.stop()}}),e,this,[[25,35],[54,65],[69,77]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.classes,n=function(){return t.state.currentAcc==t.state.owner?Object(C.jsx)(b.a,{variant:"outlined",color:"primary",startIcon:Object(C.jsx)(ge.a,{style:{fontSize:22}}),className:a.btnSell,onClick:t.handleClickOpen,children:"\u552e\u5356"}):Object(C.jsx)(b.a,{variant:"outlined",startIcon:Object(C.jsx)(ge.a,{style:{fontSize:22}}),className:a.btnSell,disabled:!0,children:"\u552e\u5356"})};return Object(C.jsx)(X.a,{spinning:this.state.onLoading,size:"large",children:Object(C.jsxs)(u.a,{theme:De,children:[Object(C.jsx)(A,{}),Object(C.jsxs)(j.a,{component:"main",className:a.container,children:[Object(C.jsx)(b.a,{startIcon:Object(C.jsx)(ue.a,{style:{fontSize:22}}),onClick:this.handleClickLink,style:{marginTop:50,marginBottom:100,fontSize:22},children:"\u8fd4\u56de"}),Object(C.jsx)("div",{className:a.paper,children:this.state.loadItem?Object(C.jsxs)(p.a,{container:!0,spacing:5,className:a.content,children:[Object(C.jsx)(p.a,{item:!0,xs:4,children:Object(C.jsx)(pe.a,{variant:"rect",width:300,height:500,className:a.img})}),Object(C.jsxs)(p.a,{item:!0,xs:!0,style:{marginLeft:"5%",maxWidth:500,minWidth:350},children:[Object(C.jsx)(pe.a,{animation:"wave",variant:"text",width:"70%",height:30}),Object(C.jsx)(pe.a,{animation:"wave",variant:"text",width:"100%",height:70}),Object(C.jsx)(pe.a,{animation:"wave",variant:"rect",width:"100%",height:300,style:{marginBottom:50}}),n()]})]}):Object(C.jsxs)(p.a,{container:!0,className:a.content,spacing:5,children:[Object(C.jsx)(p.a,{item:!0,xs:4,style:{maxWidth:600},children:Object(C.jsx)(te.a,{className:a.imgPaper,children:Object(C.jsx)("img",{style:{width:300,marginTop:20,marginBottom:50,objectFit:"contain"},src:this.state.coverURL})})}),Object(C.jsxs)(p.a,{item:!0,xs:!0,className:a.content2,children:[Object(C.jsxs)(g.a,(e={color:"inherit",align:"left"},Object(d.a)(e,"color","textSecondary"),Object(d.a)(e,"noWrap",!0),Object(d.a)(e,"style",{fontFamily:"Teko",fontSize:16,marginTop:"2%"}),Object(d.a)(e,"children",["#",this.state.NFTId]),e)),Object(C.jsx)(g.a,{color:"inherit",align:"left",noWrap:!0,style:{fontFamily:"Teko",fontSize:30,marginTop:"2%"},children:Object(C.jsx)("b",{children:this.state.name})}),Object(C.jsx)(g.a,{align:"justify",color:"textSecondary",paragraph:!0,style:{marginTop:"2%",maxWidth:"100%",fontSize:16},children:this.state.description}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"6%",maxWidth:"65%",fontSize:20},children:["\u521b\u4f5c\u8005\u5206\u7ea2\u6bd4\u4f8b: ",this.state.bonusFee," %"]}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"65%",fontSize:12},children:["\u5f53\u524d\u62e5\u6709\u7684\u5b50\u8282\u70b9\u6570\u91cf: ",this.state.childrenNum]}),n(),Object(C.jsxs)(Ce.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(Ne.a,{id:"form-dialog-title",children:"\u586b\u5199\u552e\u5356\u4fe1\u606f"}),Object(C.jsxs)(Ae.a,{children:[Object(C.jsx)(_e.a,{children:"\u8bf7\u5728\u4e0b\u65b9\u533a\u57df\u586b\u5199\u4f60\u5e0c\u671b\u552e\u5356\u7684\u4ef7\u683c\uff0c\u4ee5\u53ca\u552e\u5356\u5bf9\u8c61\u7684\u94b1\u5305\u5730\u5740\u3002"}),Object(C.jsxs)("label",{style:{fontSize:14,marginBottom:10},children:["\u552e\u5356\u4ef7\u683c (",this.state.tokenSymbol,")*"]}),Object(C.jsx)(Q.a,{defaultValue:0,min:0,onChange:this.handleGetPrice,className:a.inputNum}),Object(C.jsx)("label",{style:{fontSize:14,marginBottom:10,marginTop:10},children:"\u4e70\u65b9\u94b1\u5305\u5730\u5740 *"}),Object(C.jsx)(K.a,{placeholder:"\u4e70\u65b9\u94b1\u5305\u5730\u5740",allowClear:!0,id:"pubName",onChange:this.handleGetAddr,className:a.input})]}),Object(C.jsxs)(Be.a,{children:[Object(C.jsx)(b.a,{onClick:this.handleClose,color:"primary",children:"\u53d6\u6d88"}),Object(C.jsx)(b.a,{variant:"contained",onClick:this.sell,color:"primary",children:"\u5356\u51fa"})]})]})]})]})}),Object(C.jsx)("div",{style:{marginTop:50},children:function(){var e="https://"+window.location.host+"/#/buySingle/"+t.state.NFTId;if(t.state.onSale)return Object(C.jsx)(p.a,{container:!0,children:Object(C.jsx)(p.a,{item:!0,xs:!0,children:Object(C.jsxs)(g.a,{color:"inherit",align:"center",noWrap:!0,className:a.share,children:["\u8bf7\u5c06\u4e0b\u65b9\u94fe\u63a5\u5206\u4eab\u7ed9\u4e70\u65b9\uff0c",Object(C.jsx)("br",{})," \u4e70\u65b9\u4f1a\u8fdb\u5165\u6b64\u94fe\u63a5\u6765\u8d2d\u4e70\u8fd9\u4e2aNFT ",Object(C.jsx)("br",{}),e,Object(C.jsx)(ye.CopyToClipboard,{text:e,onCopy:function(){return t.setState({copied:!0})},children:Object(C.jsx)(Oe.a,{color:"primary","aria-label":"upload picture",component:"span",children:Object(C.jsx)(he.a,{})})})]})})})}()})]})]})})}}]),a}(n.Component),Re=Object(f.a)((function(e){var t,a,n,s,i;return{container:{maxWidth:1500},paper:{marginTop:e.spacing(1),textAlign:"center",maxWidth:1500},btnSell:{margin:e.spacing(1),fontSize:16,borderRadius:10,borderWidth:2,borderColor:"#2196f3",color:"#2196f3",marginLeft:"10%",width:100},content:(t={fontFamily:"Teko"},Object(d.a)(t,e.breakpoints.between("xs","sm"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("sm","md"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("md","lg"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("lg","xl"),{justifyContent:"center",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.up("xl"),{justifyContent:"center",alignItems:"flex-start"}),t),img:(a={width:300,marginBottom:50},Object(d.a)(a,e.breakpoints.between("xs","sm"),{marginLeft:"20%"}),Object(d.a)(a,e.breakpoints.between("sm","md"),{marginLeft:"20%"}),Object(d.a)(a,e.breakpoints.between("md","lg"),{marginLeft:"20%"}),Object(d.a)(a,e.breakpoints.between("lg","xl"),{marginLeft:"30%"}),Object(d.a)(a,e.breakpoints.up("xl"),{marginLeft:"40%"}),a),content2:(n={fontFamily:"Teko",textAlign:"center"},Object(d.a)(n,e.breakpoints.between("xs","sm"),{maxWidth:500}),Object(d.a)(n,e.breakpoints.between("sm","md"),{marginLeft:90,maxWidth:500}),Object(d.a)(n,e.breakpoints.between("md","lg"),{marginLeft:80,maxWidth:500}),Object(d.a)(n,e.breakpoints.between("lg","xl"),{marginLeft:50,maxWidth:500}),Object(d.a)(n,e.breakpoints.up("xl"),{marginLeft:60,maxWidth:500}),n),share:(s={fontFamily:"Teko",marginBottom:"10%"},Object(d.a)(s,e.breakpoints.between("xs","sm"),{fontSize:14}),Object(d.a)(s,e.breakpoints.between("sm","md"),{fontSize:16}),Object(d.a)(s,e.breakpoints.between("md","lg"),{fontSize:18}),Object(d.a)(s,e.breakpoints.between("lg","xl"),{fontSize:20}),Object(d.a)(s,e.breakpoints.up("xl"),{fontSize:20}),s),imgPaper:(i={width:350,marginBottom:50,backgroundColor:"#EFEBE9"},Object(d.a)(i,e.breakpoints.between("sm","md"),{marginLeft:"20%"}),Object(d.a)(i,e.breakpoints.between("md","lg"),{marginLeft:"20%"}),Object(d.a)(i,e.breakpoints.between("lg","xl"),{marginLeft:"30%"}),Object(d.a)(i,e.breakpoints.up("xl"),{marginLeft:"35%"}),i),inputNum:{height:40,borderRadius:5,width:550,fontSize:20},input:{height:40,borderRadius:5}}}),{withTheme:!0})(ze),Ue=a(142),Le=Object(h.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),Pe=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).gateway="https://coldcdn.com/api/cdn/v5ynur/ipfs/",n.backend="https://api.sparklink.io",n.sparkAddr="0xb42d4525841008A69E427026DF354067fD6A524f",n.state={name:"",bonusFee:0,coverURL:"",description:"",price:0,priceString:"",ipfsHashMeta:"",open:!1,address:"",NFTId:"",onSale:!1,owner:"",approvedAddr:"",currentAcc:"",onLoading:!1,childrenNum:0,loadItem:!0,encrypted:"\u672a\u77e5",tokenAddr:null,tokenSymbol:"",decimal:0,approved:!1},n.handleBuy=function(){var e=Object(O.a)(y.a.mark((function e(t){var a,s,i,r,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return a=e.sent,s=a[0],e.next=6,$.eth.getGasPrice();case 6:i=e.sent,r=Math.floor(1.5*parseInt(i)).toString(),o=Object(P.a)(n),"0x0000000000000000000000000000000000000000"==n.state.tokenAddr?(n.setState({onLoading:!0}),ee.methods.safeTransferFrom(n.state.owner,s,n.state.NFTId).send({from:s,value:n.state.price,gasPrice:r}).on("receipt",(function(e){o.setState({onLoading:!1}),W.b.success({content:"\u4ea4\u6613\u5df2\u7ecf\u4e0a\u94fe",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){o.setState({onLoading:!1}),W.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})}))):(n.setState({onLoading:!0}),ee.methods.safeTransferFrom(n.state.owner,s,n.state.NFTId).send({from:s,gasPrice:r}).on("receipt",(function(e){o.setState({onLoading:!1}),W.b.success({content:"\u4ea4\u6613\u5df2\u7ecf\u4e0a\u94fe",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){o.setState({onLoading:!1}),W.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})})));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleApprove=function(){var e=Object(O.a)(y.a.mark((function e(t){var a,s,i,r,o,c,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return a=e.sent,s=a[0],n.setState({onLoading:!0}),i=Object(P.a)(n),e.prev=6,r=new $.eth.Contract(Ue,n.state.tokenAddr),e.next=10,$.eth.getGasPrice();case 10:o=e.sent,c=Math.floor(1.5*parseInt(o)).toString(),l=n.state.price.toString(),r.methods.approve(n.sparkAddr,l).send({from:s,gasPrice:c}).on("receipt",(function(e){i.setState({onLoading:!1,approved:!0}),W.b.success({content:"\u5df2\u7ecf\u6210\u529f\u6388\u6743\u5408\u7ea6",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){i.setState({onLoading:!1}),W.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})})),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),W.b.error({content:"Error: ".concat(e.t0),className:"custom-class",style:{marginTop:"10vh"}});case 19:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}(),n.handleGetPrice=function(e){n.setState({price:e})},n.handleGetAddr=function(e){n.setState({address:e.target.value})},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(y.a.mark((function e(){var t,a,n,s,i,r,o,c,l,d,m,b,p,h,u,f,g,j,x,O,k,w,v;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return t=e.sent,a=t[0],this.setState({currentAcc:a,NFTId:this.props.match.params.NFTId}),e.next=7,ee.methods.getIssueIdByNFTId(this.state.NFTId).call();case 7:return n=e.sent,e.next=10,ee.methods.getRoyaltyFeeByIssueId(n).call();case 10:return s=e.sent,e.next=13,ee.methods.tokenURI(this.props.match.params.NFTId).call();case 13:return i=e.sent,r=i.split("/"),this.setState({ipfsHashMeta:r[r.length-1]}),o=this.gateway+this.state.ipfsHashMeta,e.prev=17,e.next=20,Y()({method:"get",url:o,timeout:3e3});case 20:c=e.sent,l=c.data,d=l.attributes[0].value,m="TRUE"===l.attributes[3].value.toUpperCase()?"\u662f":"\u5426",this.setState({loadItem:!1,name:l.name,description:l.description,bonusFee:d,coverURL:l.image,encrypted:m}),e.next=31;break;case 27:e.prev=27,e.t0=e.catch(17),b="SparkNFT#"+this.props.match.params.NFTId,this.setState({loadItem:!1,name:b,description:"\u6682\u65f6\u65e0\u6cd5\u83b7\u53d6\u5230\u8be5nft\u7684\u76f8\u5173\u63cf\u8ff0",bonusFee:s,coverURL:"https://via.placeholder.com/100x140.png?text=SparkNFT"});case 31:return e.next=33,ee.methods.ownerOf(this.props.match.params.NFTId).call();case 33:return p=e.sent,e.next=36,ee.methods.getApproved(this.props.match.params.NFTId).call();case 36:return h=e.sent,e.next=39,ee.methods.getTransferPriceByNFTId(this.props.match.params.NFTId).call();case 39:return u=e.sent,e.next=42,ee.methods.getTokenAddrByNFTId(this.props.match.params.NFTId).call();case 42:if(f=e.sent,this.setState({owner:p,approvedAddr:h,price:u}),"0x0000000000000000000000000000000000000000"!=f){e.next=48;break}this.setState({tokenAddr:f,tokenSymbol:"MATIC",decimal:18,approved:!0}),e.next=66;break;case 48:return e.prev=48,g=new $.eth.Contract(Ue,f),e.next=52,g.methods.symbol().call();case 52:return j=e.sent,e.next=55,g.methods.decimals().call();case 55:return x=e.sent,e.next=58,g.methods.allowance(a,this.sparkAddr).call();case 58:e.sent>=u?this.setState({approved:!0}):this.setState({approved:!1}),this.setState({tokenAddr:f,tokenSymbol:j,decimal:x}),e.next=66;break;case 63:e.prev=63,e.t1=e.catch(48),W.b.error({content:"Error: ".concat(e.t1),className:"custom-class",style:{marginTop:"10vh"}});case 66:return O=(O=u/Math.pow(10,this.state.decimal))+" "+this.state.tokenSymbol,this.setState({priceString:O}),k=this.backend+"/api/v1/nft/info?nft_id="+this.state.NFTId,e.prev=70,e.next=73,Y.a.get(k);case 73:w=e.sent,v=w.data.children_count,this.setState({childrenNum:v}),e.next=81;break;case 78:e.prev=78,e.t2=e.catch(70),W.b.error({content:"Error: ".concat(e.t2),className:"custom-class",style:{marginTop:"10vh"}});case 81:case"end":return e.stop()}}),e,this,[[17,27],[48,63],[70,78]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.classes,n=function(){return t.state.approvedAddr.toLowerCase()!==t.state.currentAcc.toLowerCase()?Object(C.jsx)(b.a,{variant:"outlined",startIcon:Object(C.jsx)(ge.a,{style:{fontSize:22}}),className:a.btnDisable,disabled:!0,children:"\u8d2d\u4e70"}):t.state.approved?Object(C.jsx)(b.a,{variant:"outlined",startIcon:Object(C.jsx)(ge.a,{style:{fontSize:22}}),className:a.btnSell,onClick:t.handleBuy,children:"\u8d2d\u4e70"}):Object(C.jsx)(b.a,{variant:"outlined",color:"primary",className:a.btnSell,onClick:t.handleApprove,children:"\u6388\u6743\u5408\u7ea6"})};return Object(C.jsx)(X.a,{spinning:this.state.onLoading,size:"large",children:Object(C.jsxs)(u.a,{theme:Le,children:[Object(C.jsx)(A,{}),Object(C.jsxs)(j.a,{component:"main",className:a.container,children:[Object(C.jsx)(b.a,{startIcon:Object(C.jsx)(ue.a,{style:{fontSize:"2rem"}}),href:"/",style:{marginTop:20,marginBottom:10,fontSize:"2rem"},children:"\u56de\u5230\u9996\u9875"}),Object(C.jsx)("div",{className:a.paper,children:this.state.loadItem?Object(C.jsxs)(p.a,{container:!0,spacing:5,className:a.content,children:[Object(C.jsx)(p.a,{item:!0,xs:4,children:Object(C.jsx)(pe.a,{variant:"rect",width:300,height:500,className:a.img})}),Object(C.jsxs)(p.a,{item:!0,xs:!0,style:{marginLeft:"5%",maxWidth:500,minWidth:350},children:[Object(C.jsx)(pe.a,{animation:"wave",variant:"text",width:"70%",height:30}),Object(C.jsx)(pe.a,{animation:"wave",variant:"text",width:"100%",height:70}),Object(C.jsx)(pe.a,{animation:"wave",variant:"rect",width:"100%",height:300,style:{marginBottom:50}}),n()]})]}):Object(C.jsxs)(p.a,{container:!0,className:a.content,spacing:5,children:[Object(C.jsx)(p.a,{item:!0,xs:4,style:{maxWidth:600},children:Object(C.jsx)(te.a,{className:a.imgPaper,children:Object(C.jsx)("img",{style:{width:300,marginTop:20,marginBottom:50,objectFit:"contain"},src:this.state.coverURL})})}),Object(C.jsxs)(p.a,{item:!0,xs:!0,className:a.content2,children:[Object(C.jsxs)(g.a,(e={color:"inherit",align:"left"},Object(d.a)(e,"color","textSecondary"),Object(d.a)(e,"noWrap",!0),Object(d.a)(e,"style",{fontFamily:"Teko",fontSize:16,marginTop:"2%"}),Object(d.a)(e,"children",["#",this.state.NFTId]),e)),Object(C.jsx)(g.a,{color:"inherit",align:"left",noWrap:!0,style:{fontFamily:"Teko",fontSize:34},children:Object(C.jsx)("b",{children:this.state.name})}),Object(C.jsx)(g.a,{align:"justify",color:"textSecondary",paragraph:!0,style:{marginTop:"2%",maxWidth:"100%",fontSize:16},children:this.state.description}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"2%",maxWidth:"65%",fontSize:20},children:["\u521b\u4f5c\u8005\u5206\u7ea2\u6bd4\u4f8b: ",this.state.bonusFee," %"]}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"2%",maxWidth:"100%",fontSize:18},children:["\u552e\u4ef7: ",this.state.priceString]}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"1%",maxWidth:"65%",fontSize:12},children:["\u5f53\u524d\u62e5\u6709\u8005: ",this.state.owner]}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"65%",fontSize:12},children:["\u5f53\u524d\u62e5\u6709\u7684\u5b50\u8282\u70b9\u6570\u91cf: ",this.state.childrenNum]}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"65%",fontSize:12},children:["NFT\u4f5c\u54c1\u662f\u5426\u52a0\u5bc6: ",this.state.encrypted]}),n()]})]})})]})]})})}}]),a}(n.Component),Me=Object(f.a)((function(e){var t,a,n,s;return{container:{maxWidth:1500},paper:{marginTop:e.spacing(1),textAlign:"center",maxWidth:1500},btnDisable:{margin:e.spacing(1),fontSize:16,borderRadius:10,borderWidth:3,borderColor:"#909497",color:"#909497",marginLeft:"10%",width:100},btnSell:{margin:e.spacing(1),fontSize:16,borderRadius:10,borderWidth:2,borderColor:"#2196f3",color:"#2196f3",marginLeft:"10%",width:100},content:(t={fontFamily:"Teko"},Object(d.a)(t,e.breakpoints.between("xs","sm"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("sm","md"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("md","lg"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("lg","xl"),{justifyContent:"center",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.up("xl"),{justifyContent:"center",alignItems:"flex-start"}),t),img:(a={width:300,marginBottom:50},Object(d.a)(a,e.breakpoints.between("xs","sm"),{marginLeft:"20%"}),Object(d.a)(a,e.breakpoints.between("sm","md"),{marginLeft:"20%"}),Object(d.a)(a,e.breakpoints.between("md","lg"),{marginLeft:"20%"}),Object(d.a)(a,e.breakpoints.between("lg","xl"),{marginLeft:"30%"}),Object(d.a)(a,e.breakpoints.up("xl"),{marginLeft:"40%"}),a),imgPaper:(n={width:350,marginBottom:50,backgroundColor:"#EFEBE9"},Object(d.a)(n,e.breakpoints.between("sm","md"),{marginLeft:"20%"}),Object(d.a)(n,e.breakpoints.between("md","lg"),{marginLeft:"20%"}),Object(d.a)(n,e.breakpoints.between("lg","xl"),{marginLeft:"30%"}),Object(d.a)(n,e.breakpoints.up("xl"),{marginLeft:"35%"}),n),content2:(s={fontFamily:"Teko",textAlign:"center"},Object(d.a)(s,e.breakpoints.between("xs","sm"),{maxWidth:500}),Object(d.a)(s,e.breakpoints.between("sm","md"),{marginLeft:90,maxWidth:500}),Object(d.a)(s,e.breakpoints.between("md","lg"),{marginLeft:80,maxWidth:500}),Object(d.a)(s,e.breakpoints.between("lg","xl"),{marginLeft:50,maxWidth:500}),Object(d.a)(s,e.breakpoints.up("xl"),{marginLeft:60,maxWidth:500}),s)}}),{withTheme:!0})(Pe),We=a(1020),Ge=a(1023),qe=a(1022),He=a(1021),Ve=a(157),Je=Object(h.a)({palette:{primary:{main:"#FDFEFE"},secondary:{main:"#2196f3"}}}),Ke=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).gateway="https://coldcdn.com/api/cdn/v5ynur/ipfs/",e.backend="https://api.sparklink.io",e.cards=[],e.state={isLogin:!1,user_address:null,name:"",viewable:!1,cards:[],onloading:!1,SkeletoNumber:0,noNFT:!0},e.getMetadata=function(){var e=Object(O.a)(y.a.mark((function e(t,a){var n,s,i,r,o,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],s=y.a.mark((function e(s){var i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.methods.tokenURI(a[s]).call();case 2:return i=e.sent,r=i.split("/"),o=r[r.length-1],c="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+o,e.next=8,Y()({method:"get",url:c,timeout:2e3}).then((function(e){n.push(e.data)})).catch((function(e){var t={name:"SparkNFT#"+a[s],description:"\u6682\u65f6\u65e0\u6cd5\u83b7\u53d6\u5230\u8be5nft\u7684\u76f8\u5173\u63cf\u8ff0",image:"https://testnets.opensea.io/static/images/placeholder.png",attributes:[{display_type:"boost_percentage",trait_type:"Bonuse Percentage",value:0},{trait_type:"File Address",value:"file_url"}]};n.push(t)}));case 8:case"end":return e.stop()}}),e)})),i=0;case 3:if(!(i<a.length)){e.next=8;break}return e.delegateYield(s(i),"t0",5);case 5:i++,e.next=3;break;case 8:return e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),e.getNft=function(){var t=Object(O.a)(y.a.mark((function t(a,n){var s,i,r,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=[],i=$.utils.toChecksumAddress(n),r=e.backend+"/api/v1/nft/list?owner="+i,console.debug("owner: ",i),t.prev=4,t.next=7,Y.a.get(r);case 7:return o=t.sent,s=o.data.nft,e.setState({onloading:!0,SkeletoNumber:s.length}),t.abrupt("return",s);case 13:return t.prev=13,t.t0=t.catch(4),t.abrupt("return",[]);case 16:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e,a){return t.apply(this,arguments)}}(),e.renderDescription=function(e){return e.length<=150?e:e.substring(0,150)+".........."},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(y.a.mark((function e(){var t,a,n,s,i,r,o,c,l;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return 0===(t=e.sent).length&&alert("\u8bf7\u5148\u8fde\u63a5Metamask"),a=t[0],e.next=7,window.ethereum.request({method:"eth_chainId"});case 7:if("0x89"===e.sent){e.next=12;break}return alert("\u8bf7\u5207\u6362\u81f3Polygon \u4e3b\u7f51\u7edc"),e.next=12,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 12:return n=[],e.next=15,ee.methods.balanceOf(a).call();case 15:if(s=e.sent,console.log("nft_number: ",s),0!==s){e.next=19;break}return e.abrupt("return");case 19:return e.next=21,this.getNft(ee,a);case 21:if(0!==(i=e.sent).length){e.next=24;break}return e.abrupt("return");case 24:return this.setState({noNFT:!1}),e.next=27,this.getMetadata(ee,i);case 27:for(r=e.sent,o=0;o<i.length;o++)c={id:i[o],title:r[o].name,description:r[o].description,bonusFee:r[o].attributes.value,image:r[o].image},n.push(c);l=n.reverse(),this.setState({viewable:!0}),this.setState({cards:l}),this.setState({onloading:!1,SkeletoNumber:0});case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.classes,t=this;return window.ethereum.on("chainChanged",(function(e){window.location.reload()})),Object(C.jsxs)("div",{children:[Object(C.jsxs)(u.a,{theme:Je,children:[Object(C.jsx)(A,{}),Object(C.jsx)(j.a,{component:"main",className:e.container,children:Object(C.jsx)("div",{className:e.paper,children:Object(C.jsx)(p.a,{container:!0,justifyContent:"center",children:Object(C.jsxs)(p.a,{item:!0,xs:10,children:[Object(C.jsx)(g.a,{color:"inherit",noWrap:!0,className:e.title,children:Object(C.jsx)("b",{children:"\u6211\u7684\u6536\u85cf\u9986"})}),Object(C.jsx)(g.a,{color:"inherit",noWrap:!0,className:e.title2,children:Object(C.jsx)("b",{children:"An ERC721 Token Trying to Solve Existing Publishing Dilemma"})})]})})})})]}),this.state.noNFT?Object(C.jsx)(Ve.a,{description:Object(C.jsx)("span",{style:{fontFamily:"Teko"},children:Object(C.jsx)("b",{children:"\u6682\u65e0\u53ef\u5c55\u793aNFT"})}),style:{marginTop:100}}):Object(C.jsx)("main",{children:Object(C.jsx)(j.a,{className:e.cardGrid,maxWidth:"md",children:Object(C.jsx)(p.a,{container:!0,spacing:4,children:(this.state.onloading?Array.from(new Array(this.state.SkeletoNumber)):this.state.cards).map((function(a,n){return function(a,n){return Object(C.jsx)(p.a,{item:!0,xs:12,sm:6,md:4,children:a?Object(C.jsxs)(We.a,{className:e.card,children:[Object(C.jsx)(He.a,{className:e.cardMedia,image:a.image,title:"Image title"}),Object(C.jsxs)(qe.a,{className:e.cardContent,children:[Object(C.jsx)(g.a,{gutterBottom:!0,variant:"h5",component:"h2",children:Object(C.jsx)("b",{children:a.title})}),Object(C.jsx)(g.a,{children:t.renderDescription(a.description)})]}),Object(C.jsxs)(Ge.a,{children:[Object(C.jsx)(b.a,{size:"small",variant:"contained",color:"primary",href:"/#/NFT/"+a.id,children:Object(C.jsx)("b",{children:"\u67e5\u770b "})}),Object(C.jsx)(g.a,{variant:"body2",gutterBottom:!0,children:Object(C.jsxs)("b",{children:["NFT id: ",a.id," "]})})]})]}):Object(C.jsxs)(We.a,{className:e.card,children:[Object(C.jsx)(pe.a,{variant:"rect",style:{marginLeft:70},width:260,height:288}),Object(C.jsx)(pe.a,{width:"60%",style:{marginTop:40},height:33}),Object(C.jsx)(pe.a,{height:33}),Object(C.jsx)(pe.a,{height:33}),Object(C.jsx)(pe.a,{height:33})]})},n)}(a,n)}))})})})]})}}]),a}(n.Component),Xe=Object(f.a)((function(e){var t,a;return{icon:{marginRight:e.spacing(2)},titleFont:{fontFamily:"Teko"},btn:{color:"#424949",borderWidth:8,borderColor:"#e3f2fd",fontSize:16},heroContent:{backgroundColor:e.palette.background.paper,padding:e.spacing(36,0,6)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{objectFit:"contain",paddingTop:"100%"},cardContent:{flexGrow:2},paper:{marginTop:e.spacing(7),textAlign:"center"},container:{maxWidth:"100%"},btnMain:{marginTop:e.spacing(3),color:"#FFFFFF",borderWidth:2,borderColor:"#e3f2fd",fontSize:16,borderRadius:25,width:150},btnSecond:{marginTop:e.spacing(3),color:"#03A9F4",borderWidth:3,borderColor:"#03A9F4",fontSize:16,borderRadius:25,width:150},title:(t={fontFamily:"Teko",marginTop:"5%"},Object(d.a)(t,e.breakpoints.between("xs","sm"),{fontSize:35}),Object(d.a)(t,e.breakpoints.between("sm","md"),{fontSize:40}),Object(d.a)(t,e.breakpoints.between("md","lg"),{fontSize:55}),Object(d.a)(t,e.breakpoints.between("lg","xl"),{fontSize:90}),Object(d.a)(t,e.breakpoints.up("xl"),{fontSize:110}),t),title2:(a={fontFamily:"Teko"},Object(d.a)(a,e.breakpoints.between("xs","sm"),{fontSize:16}),Object(d.a)(a,e.breakpoints.between("sm","md"),{fontSize:25}),Object(d.a)(a,e.breakpoints.between("md","lg"),{fontSize:35}),Object(d.a)(a,e.breakpoints.between("lg","xl"),{fontSize:45}),Object(d.a)(a,e.breakpoints.up("xl"),{fontSize:55}),a)}}),{withTheme:!0})(Ke),Qe=a(1024),Ze=a(142),Ye=Object(h.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),$e=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).gateway="https://coldcdn.com/api/cdn/v5ynur/ipfs/",e.backend="https://api.sparklink.io",e.sparkAddr="0xb42d4525841008A69E427026DF354067fD6A524f",e.state={Name:"",Description:"",BonusFee:0,Cover:"",price:"",priceString:"",onLoading:!1,loadItem:!0,open:!1,approved:!1,tokenAddr:"",tokenSymbol:"",isEncrypt:!0,percentage:0,showProgress:!1,fileType:"",remainShillTimes:0,maxShillTimes:0},e.handleClickLink=function(t){var a="/#/NFT/Spark/"+e.state.recommendNFT;window.open(a)},e.downloadIPFS=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o,c,l,d,m,b;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(P.a)(e),s=e.state.dataUrl.split("/"),i=s[s.length-1],r=e.gateway+i,e.setState({showProgress:!0}),o={url:r,method:"GET",responseType:"blob",onDownloadProgress:function(e){var t=Math.round(e.loaded/e.total*100);n.setState({percentage:t})}},t.prev=6,t.next=9,Y()(o);case 9:c=t.sent,l=window.URL.createObjectURL(new Blob([c.data])),(d=document.createElement("a")).href=l,d.style.display="none",m="."+e.state.fileType,b=e.state.Name+m,d.download=b,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(l),t.next=26;break;case 23:t.prev=23,t.t0=t.catch(6),W.b.error({content:"Error: ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 26:return t.prev=26,e.setState({showProgress:!1}),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[6,23,26,29]])})));return function(e){return t.apply(this,arguments)}}(),e.approve=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o,c,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return n=t.sent,s=n[0],e.setState({onLoading:!0}),i=Object(P.a)(e),t.prev=6,r=e.state.price.toString(),o=new $.eth.Contract(Ze,e.state.tokenAddr),t.next=11,$.eth.getGasPrice();case 11:c=t.sent,l=Math.floor(1.5*parseInt(c)).toString(),o.methods.approve(e.sparkAddr,r).send({from:s,gasPrice:l}).on("receipt",(function(e){W.b.success({content:"\u5df2\u7ecf\u6210\u529f\u6388\u6743\u5408\u7ea6",className:"custom-class",style:{marginTop:"10vh"}}),i.setState({onLoading:!1,approved:!0})})).on("error",(function(e){i.setState({onLoading:!1}),W.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),W.b.error({content:"Error: ".concat(t.t0),className:"custom-class",style:{marginTop:"10vh"}});case 19:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(e){return t.apply(this,arguments)}}(),e.shill=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return n=t.sent,s=n[0],t.next=6,$.eth.getGasPrice();case 6:i=t.sent,r=Math.floor(1.5*parseInt(i)).toString(),o=Object(P.a)(e),e.setState({onLoading:!0}),"0x0000000000000000000000000000000000000000"==e.state.tokenAddr?ee.methods.acceptShill(e.props.match.params.id).send({from:s,value:e.state.price,gasPrice:r}).on("receipt",(function(e){W.b.success({content:"\u4ea4\u6613\u5df2\u7ecf\u4e0a\u94fe",className:"custom-class",style:{marginTop:"10vh"}}),o.setState({onLoading:!1,onSale:!0})})).on("error",(function(e){o.setState({onLoading:!1}),W.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})})):ee.methods.acceptShill(e.props.match.params.id).send({from:s,gasPrice:r}).on("receipt",(function(e){W.b.success({content:"\u4ea4\u6613\u5df2\u7ecf\u4e0a\u94fe",className:"custom-class",style:{marginTop:"10vh"}}),o.setState({onLoading:!1,onSale:!0})})).on("error",(function(e){o.setState({onLoading:!1}),W.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})}));case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(y.a.mark((function e(){var t,a,n,s,i,r,o,c,l,d,m,b,p,h,u,f,g,j,x,O,k,w;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ethereum.request({method:"eth_chainId"});case 2:if("0x89"===e.sent){e.next=7;break}return alert("\u8bf7\u5207\u6362\u81f3Polygon \u4e3b\u7f51\u7edc"),e.next=7,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 7:return e.next=9,window.ethereum.request({method:"eth_requestAccounts"});case 9:return t=e.sent,a=t[0],e.next=13,ee.methods.tokenURI(this.props.match.params.id).call();case 13:return n=e.sent,s=n.split("/"),this.setState({hash:s[s.length-1]}),e.prev=16,r=this.gateway+this.state.hash,e.next=20,Y.a.get(r);case 20:o=e.sent,c=o.data,l=c.attributes[0].value,d=c.attributes[1].value,m=c.attributes[2].value,i="FALSE"!==c.attributes[3].value,this.setState({Name:c.name,Description:c.description,BonusFee:l,Cover:c.image,fileType:m,dataUrl:d,isEncrypt:i}),e.next=32;break;case 29:e.prev=29,e.t0=e.catch(16),W.b.error({content:"Error: ".concat(e.t0),className:"custom-class",style:{marginTop:"10vh"}});case 32:return e.next=34,ee.methods.getShillPriceByNFTId(this.props.match.params.id).call();case 34:return b=e.sent,e.next=37,ee.methods.getTokenAddrByNFTId(this.props.match.params.id).call();case 37:if(p=e.sent,this.setState({price:b,tokenAddr:p}),"0x0000000000000000000000000000000000000000"!=p){e.next=45;break}h=b/Math.pow(10,18),h+=" MATIC",this.setState({priceString:h,approved:!0}),e.next=65;break;case 45:return e.prev=45,u=new $.eth.Contract(Ze,p),e.next=49,u.methods.decimals().call();case 49:return f=e.sent,e.next=52,u.methods.symbol().call();case 52:return g=e.sent,h=(h=b/Math.pow(10,f))+" "+g,this.setState({priceString:h}),e.next=58,u.methods.allowance(a,this.sparkAddr).call();case 58:e.sent>=b?this.setState({approved:!0}):this.setState({approved:!1}),e.next=65;break;case 62:e.prev=62,e.t1=e.catch(45),W.b.error({content:"Error: ".concat(e.t1),className:"custom-class",style:{marginTop:"10vh"}});case 65:return j=this.backend+"/api/v1/nft/info?nft_id="+this.props.match.params.id,e.prev=66,e.next=69,Y.a.get(j);case 69:x=e.sent,O=x.data.children_count,k=x.data.max_shill_times-x.data.shill_times,w=x.data.max_shill_times,this.setState({remainShillTimes:k,maxShillTimes:w}),x.data.suggest_next_nft===this.props.match.params.id||"0"===x.data.suggest_next_nft?this.setState({childrenNum:O,recommendNFT:x.data.suggest_next_nft,showRecommend:!1}):this.setState({childrenNum:O,recommendNFT:x.data.suggest_next_nft,showRecommend:!0}),e.next=83;break;case 77:if(e.prev=77,e.t2=e.catch(66),void 0!==e.t2.response){e.next=82;break}return W.b.error({content:"\u9519\u8bef\uff1a\u670d\u52a1\u5668\u672a\u54cd\u5e94",className:"custom-class",style:{marginTop:"10vh"}}),e.abrupt("return");case 82:400===e.t2.response.status&&e.t2.response.data.message.includes("children not found")?console.debug("no children"):W.b.error({content:"\u83b7\u53d6nft\u5b50\u8282\u70b9\u60c5\u51b5\u9875\u9762\u5931\u8d25\uff1a ".concat(e.t2),className:"custom-class",style:{marginTop:"10vh"}});case 83:return e.prev=83,this.setState({loadItem:!1}),e.finish(83);case 86:case"end":return e.stop()}}),e,this,[[16,29],[45,62],[66,77,83,86]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=this.props.classes;return this.state.showProgress?Object(C.jsx)(X.a,{spinning:this.state.onLoading,size:"large",children:Object(C.jsxs)(u.a,{theme:Ye,children:[Object(C.jsx)(A,{}),Object(C.jsx)("div",{style:{textAlign:"center",marginTop:"2%",marginLeft:40},children:Object(C.jsx)(g.a,{color:"textPrimary",gutterBottom:!0,style:{marginRight:50,marginTop:20,fontSize:24},children:Object(C.jsx)("b",{children:"\u6b63\u5728\u4e0b\u8f7d\u6587\u4ef6"})})}),Object(C.jsx)("div",{style:{textAlign:"center",marginTop:"10%"},children:Object(C.jsx)(ke.a,{type:"circle",percent:this.state.percentage,width:200})})]})}):Object(C.jsx)(X.a,{spinning:this.state.onLoading,size:"large",children:Object(C.jsxs)(u.a,{theme:Ye,children:[Object(C.jsx)(A,{}),Object(C.jsxs)(j.a,{component:"main",className:a.container,children:[Object(C.jsx)(b.a,{startIcon:Object(C.jsx)(ue.a,{style:{fontSize:"2rem"}}),href:"/#/collections",style:{marginTop:20,marginBottom:10,fontSize:"2rem"},children:"\u56de\u5230\u6211\u7684\u6536\u85cf\u9986"}),Object(C.jsx)(p.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",xs:12,children:Object(C.jsx)(g.a,{color:"inherit",noWrap:!0,className:a.title,children:"\ud83d\udd25 NFT \ud83d\udd25"})}),Object(C.jsxs)("div",{className:a.paper,children:[this.state.loadItem?Object(C.jsxs)(p.a,{container:!0,spacing:5,className:a.content,children:[Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(pe.a,{variant:"rect",width:300,height:500,style:{width:370,marginLeft:50,marginBottom:50}})}),Object(C.jsxs)(p.a,{item:!0,style:{marginLeft:"5%"},children:[Object(C.jsx)(pe.a,{animation:"wave",variant:"text",width:200,height:30}),Object(C.jsx)(pe.a,{animation:"wave",variant:"text",width:400,height:70}),Object(C.jsx)(pe.a,{animation:"wave",variant:"rect",width:500,height:300,style:{marginBottom:50}})]})]}):Object(C.jsxs)(p.a,{container:!0,direction:"row",justifyContent:"space-between",className:a.content,children:[Object(C.jsx)(p.a,{item:!0,style:{maxWidth:200},children:Object(C.jsx)(te.a,{className:a.imagePaper,children:Object(C.jsx)("img",{className:a.imageStyle,src:this.state.Cover})})}),Object(C.jsx)(p.a,{xs:2}),Object(C.jsxs)(p.a,{item:!0,xs:!0,className:a.content2,children:[Object(C.jsxs)(g.a,(e={color:"inherit",align:"left"},Object(d.a)(e,"color","textSecondary"),Object(d.a)(e,"noWrap",!0),Object(d.a)(e,"style",{fontFamily:"Teko",fontSize:16,marginTop:"2%"}),Object(d.a)(e,"children",["#",this.props.match.params.id]),e)),Object(C.jsx)(g.a,{color:"inherit",align:"left",noWrap:!0,style:{fontFamily:"Teko",fontSize:34,marginTop:"2%"},children:Object(C.jsx)("b",{children:this.state.Name})}),Object(C.jsx)(g.a,{align:"justify",color:"textSecondary",paragraph:!0,style:{marginTop:"2%",maxWidth:"100%",fontSize:16},children:this.state.Description}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{marginTop:"6%",maxWidth:"100%",fontSize:24},children:["\u70b9\u706b\u4ef7\u683c: ",this.state.priceString]}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"100%",fontSize:18},children:["\u6700\u5927\u5206\u4eab\u6b21\u6570: ",this.state.maxShillTimes," \u6b21"]}),Object(C.jsxs)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"100%",fontSize:18},children:["\u5269\u4f59\u5206\u4eab\u6b21\u6570: ",this.state.remainShillTimes," \u6b21"]}),this.state.isEncrypt?Object(C.jsx)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"100%",fontSize:16},children:"\u52a0\u5bc6\u4f5c\u54c1"}):Object(C.jsx)(g.a,{align:"left",color:"textPrimary",paragraph:!0,style:{maxWidth:"100%",fontSize:16},children:"\u5f00\u6e90\u4f5c\u54c1"}),t.state.showRecommend?Object(C.jsx)("div",{children:t.state.isEncrypt?Object(C.jsxs)(p.a,{container:!0,justifyContent:"space-around",children:[Object(C.jsx)(b.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",className:a.btnMain,disabled:!0,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(C.jsx)("font",{size:"4",children:" \u4e0b \u8f7d "})})}),Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",style:{fontSize:"2rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,startIcon:Object(C.jsx)(xe.a,{}),disabled:!0,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(C.jsx)("font",{size:"4",children:" \u94f8\u9020  "})})})})]}):Object(C.jsxs)(p.a,{container:!0,direction:"row",justifyContent:"space-around",children:[Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",className:a.btnMain,onClick:t.downloadIPFS,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(C.jsx)("font",{size:"4",children:" \u4e0b \u8f7d "})})})}),Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",style:{fontSize:"2rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,startIcon:Object(C.jsx)(xe.a,{}),disabled:!0,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(C.jsx)("font",{size:"4",children:" \u94f8\u9020  "})})})})]})}):t.state.approved?Object(C.jsx)("div",{children:t.state.isEncrypt?Object(C.jsxs)(p.a,{container:!0,justifyContent:"space-around",children:[Object(C.jsx)(b.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",color:"primary",className:a.btnMain,disabled:!0,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(C.jsx)("font",{size:"4",children:" \u4e0b \u8f7d "})})}),Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",style:{fontSize:"3rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,startIcon:Object(C.jsx)(xe.a,{}),onClick:t.shill,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(C.jsx)("font",{size:"4",children:" \u94f8\u9020  "})})})})]}):Object(C.jsxs)(p.a,{container:!0,direction:"row",justifyContent:"space-around",children:[Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",color:"primary",className:a.btnMain,onClick:t.downloadIPFS,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(C.jsx)("font",{size:"4",children:" \u4e0b \u8f7d "})})})}),Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",style:{fontSize:"3rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,startIcon:Object(C.jsx)(xe.a,{}),onClick:t.shill,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(C.jsx)("font",{size:"4",children:" \u94f8\u9020  "})})})})]})}):Object(C.jsx)("div",{children:t.state.isEncrypt?Object(C.jsxs)(p.a,{container:!0,justifyContent:"space-around",children:[Object(C.jsx)(b.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",color:"primary",className:a.btnMain,disabled:!0,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(C.jsx)("font",{size:"4",children:" \u4e0b \u8f7d "})})}),Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",style:{fontSize:"3rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,onClick:t.approve,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(C.jsx)("font",{size:"4",children:" \u6388\u6743\u5408\u7ea6  "})})})})]}):Object(C.jsxs)(p.a,{container:!0,direction:"row",justifyContent:"space-around",children:[Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",style:{fontSize:"3rem"},variant:"contained",color:"primary",className:a.btnMain,onClick:t.downloadIPFS,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,style:{color:"#FFFFFF"},children:Object(C.jsx)("font",{size:"4",children:" \u4e0b\u8f7d "})})})}),Object(C.jsx)(p.a,{item:!0,children:Object(C.jsx)(b.a,{size:"large",style:{fontSize:"3rem"},variant:"outlined",color:"secondary",target:"_blank",className:a.btnSecond,onClick:t.approve,children:Object(C.jsx)(g.a,{variant:"button",component:"h2",gutterBottom:!0,children:Object(C.jsx)("font",{size:"4",children:" \u6388\u6743\u5408\u7ea6  "})})})})]})})]})]}),this.state.showRecommend?Object(C.jsxs)(p.a,{style:{marginTop:50},children:[Object(C.jsx)(g.a,{variant:"h4",gutterBottom:!0,children:"\u6b64NFT\u7684\u5b50\u8282\u70b9\u5df2\u7ecf\u552e\u5b8c\uff0c\u6211\u4eec\u7ed9\u60a8\u63a8\u8350\u4e86\u5176\u4ed6\u8fd8\u80fd\u8d2d\u4e70\u7684\u8282\u70b9\uff1a"}),Object(C.jsx)(Qe.a,{onClick:this.handleClickLink,style:{fontSize:20,textDecoration:"underline"},children:window.location.host+"/#/NFT/Spark/"+this.state.recommendNFT})]}):Object(C.jsx)("div",{})]})]})]})})}}]),a}(n.Component),et=Object(f.a)((function(e){var t,a,n,s,i;return{container:{maxWidth:1500},btnMain:{marginTop:e.spacing(3),color:"#FFFFFF",backgroundColor:"#03A9F4",borderWidth:3,fontSize:16,borderRadius:25,width:150,maxWidth:"20rem",minWidth:"10rem"},btnSecond:{marginTop:e.spacing(3),color:"#03A9F4",borderWidth:3,borderColor:"#03A9F4",fontSize:16,borderRadius:25,width:150,maxWidth:"20rem",minWidth:"10rem"},paper:{marginTop:e.spacing(1),textAlign:"center",maxWidth:1400},content:(t={fontFamily:"Teko"},Object(d.a)(t,e.breakpoints.between("xs","sm"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("sm","md"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("md","lg"),{justifyContent:"flex-start",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.between("lg","xl"),{justifyContent:"center",alignItems:"flex-start"}),Object(d.a)(t,e.breakpoints.up("xl"),{justifyContent:"center",alignItems:"flex-start"}),t),imagePaper:(a={},Object(d.a)(a,e.breakpoints.between("xs","sm"),{backgroundColor:"#EFEBE9",width:330,height:420,marginLeft:10}),Object(d.a)(a,e.breakpoints.between("sm","md"),{backgroundColor:"#EFEBE9",width:340,height:440,marginLeft:10}),Object(d.a)(a,e.breakpoints.between("md","lg"),{backgroundColor:"#EFEBE9",width:350,height:465,marginLeft:10}),Object(d.a)(a,e.breakpoints.between("lg","xl"),{backgroundColor:"#EFEBE9",width:350,marginLeft:10}),Object(d.a)(a,e.breakpoints.up("xl"),{backgroundColor:"#EFEBE9",width:350,marginLeft:10}),a),imageStyle:(n={objectFit:"contain"},Object(d.a)(n,e.breakpoints.between("xs","sm"),{width:280,height:365,marginTop:20,marginBottom:50}),Object(d.a)(n,e.breakpoints.between("sm","md"),{width:290,height:385,marginTop:20,marginBottom:50}),Object(d.a)(n,e.breakpoints.between("md","lg"),{width:300,height:420,marginTop:20,marginBottom:50}),Object(d.a)(n,e.breakpoints.between("lg","xl"),{width:300,marginTop:20,marginBottom:50}),Object(d.a)(n,e.breakpoints.up("xl"),{width:300,marginTop:20,marginBottom:50}),n),content2:(s={fontFamily:"Teko"},Object(d.a)(s,e.breakpoints.between("xs","sm"),{marginLeft:10,maxWidth:500}),Object(d.a)(s,e.breakpoints.between("sm","md"),{marginLeft:90,maxWidth:500}),Object(d.a)(s,e.breakpoints.between("md","lg"),{marginLeft:80,maxWidth:500}),Object(d.a)(s,e.breakpoints.between("lg","xl"),{marginLeft:50,maxWidth:500}),Object(d.a)(s,e.breakpoints.up("xl"),{marginLeft:60,maxWidth:500}),s),title:(i={fontFamily:"Teko"},Object(d.a)(i,e.breakpoints.between("xs","sm"),{fontSize:48}),Object(d.a)(i,e.breakpoints.between("sm","md"),{fontSize:60}),Object(d.a)(i,e.breakpoints.between("md","lg"),{fontSize:70}),Object(d.a)(i,e.breakpoints.between("lg","xl"),{fontSize:75}),Object(d.a)(i,e.breakpoints.up("xl"),{fontSize:80}),i)}}),{withTheme:!0})($e),tt=Object(h.a)({palette:{primary:{main:"#FDFEFE"},secondary:{main:"#2196f3"}}}),at=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(C.jsx)("div",{children:Object(C.jsxs)(u.a,{theme:tt,children:[Object(C.jsx)(A,{}),Object(C.jsx)(j.a,{component:"main",className:e.container,children:Object(C.jsxs)("div",{className:e.paper,children:[Object(C.jsx)(g.a,{color:"inherit",noWrap:!0,className:e.shouldKnow,children:Object(C.jsx)("b",{children:"\u53d1\u5e03\u987b\u77e5"})}),Object(C.jsx)(g.a,{variant:"h4",paragraph:!0,className:e.content,children:"\u5728\u53bb\u53d1\u5e03\u60a8\u7684\u4f5c\u54c1\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u4e86\u89e3\u4ee5\u4e0b\u4fe1\u606f\uff0c\u5b83\u4eec\u5c06\u6709\u52a9\u4e8e\u60a8\u4e86\u89e3\u5b8c\u6574\u7684\u53d1\u5e03\u6d41\u7a0b\uff1a"}),Object(C.jsxs)(g.a,{color:"textSecondary",paragraph:!0,className:e.content,children:[Object(C.jsx)("b",{children:"1."})," \u60a8\u7684\u4f5c\u54c1\u5c06\u88ab\u5b58\u50a8\u5728IPFS\uff08InterPlanetary File System\uff09\u4e2d\uff0c\u800c\u5b58\u50a8\u5730\u5740\u5c06\u88ab\u8bb0\u5f55\u5728\u4ee5\u592a\u574a\u4e0a\uff0c\u4e0e\u60a8\u7684NFT\u7ed1\u5b9a\u5728\u4e00\u8d77"]}),Object(C.jsxs)(g.a,{color:"textSecondary",paragraph:!0,className:e.content,children:[Object(C.jsx)("b",{children:"2."})," \u60a8\u53ef\u4ee5\u9009\u62e9\u662f\u5c06\u60a8\u7684\u4f5c\u54c1\u5f00\u6e90\u5f97\u4fdd\u5b58\u5728IPFS\u4e0a\uff0c\u6216\u8005\u52a0\u5bc6\u4fdd\u5b58\u5728IPFS\u4e0a\u3002\u9488\u5bf9\u52a0\u5bc6\u7684\u4f5c\u54c1\uff0c\u53ea\u6709\u6301\u6709\u60a8\u53d1\u884c\u7684NFT\u7684\u8bfb\u8005\u624d\u80fd\u8bbf\u95ee\u3002 ",Object(C.jsx)("br",{})]}),Object(C.jsxs)(g.a,{color:"textSecondary",paragraph:!0,className:e.content,children:[Object(C.jsx)("b",{children:"3."})," \u5982\u679c\u60a8\u9009\u62e9\u52a0\u5bc6\u4fdd\u5b58\u5728IPFS\u4e0a\uff0c\u60a8\u9700\u8981\u5728\u5c06\u4f5c\u54c1\u57fa\u672c\u4fe1\u606f\u4e0a\u4f20\u5230\u94fe\u4e0a\u540e\uff0c\u518d\u8bbe\u7f6e\u4f5c\u54c1\u7684\u5730\u5740\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u6211\u4eec\u4f1a\u5f15\u5bfc\u60a8\u5b8c\u6210\uff0c\u8bf7\u52ff\u62c5\u5fc3\u3002 ",Object(C.jsx)("br",{})]}),Object(C.jsxs)(g.a,{color:"textSecondary",paragraph:!0,className:e.content,children:[Object(C.jsx)("b",{children:"4."})," \u5f53\u60a8\u5c06\u4f5c\u54c1\u53d1\u5e03\u5728\u6211\u4eec\u5e73\u53f0\u65f6\uff0c\u6211\u4eec\u9ed8\u8ba4\u60a8\u4f1a\u652f\u6301\u4e8c\u6b21\u521b\u4f5c\uff0c\u5904\u4e8e\u60a8\u5ba3\u4f20\u7f51\u7edc\u4e2d\u7684\u8bfb\u8005\u6709\u6743\u5c06\u4ed6\u4eec\u6301\u6709\u7684NFT\u5bf9\u5e94\u7684\u5730\u5740\u66ff\u6362\u4e3a\u4ed6\u4eec\u81ea\u5df1\u7684\u4e8c\u6b21\u521b\u4f5c\u4f5c\u54c1\u3002 ",Object(C.jsx)("br",{})]}),Object(C.jsxs)(p.a,{container:!0,justifyContent:"center",style:{fontFamily:"Teko",marginTop:70},children:[Object(C.jsx)(p.a,{item:!0,xs:4,children:Object(C.jsx)(b.a,{size:"large",variant:"contained",color:"secondary",className:e.btnMain,href:"/#/encryptedPublish",children:Object(C.jsx)("b",{children:"\u52a0\u5bc6\u53d1\u5e03"})})}),Object(C.jsx)(p.a,{item:!0,xs:3,children:Object(C.jsx)(b.a,{size:"large",variant:"outlined",color:"secondary",className:e.btnSecond,href:"/#/publish",children:Object(C.jsx)("b",{children:"\u5f00\u6e90\u53d1\u5e03"})})})]})]})})]})})}}]),a}(n.Component),nt=Object(f.a)((function(e){var t,a,n,s;return{icon:{marginRight:e.spacing(2)},titleFont:{fontFamily:"Teko"},btn:{color:"#424949",borderWidth:2,borderColor:"#e3f2fd",fontSize:16},btnMain:(t={color:"#FFFFFF",borderColor:"#e3f2fd",borderWidth:2,borderRadius:25},Object(d.a)(t,e.breakpoints.between("xs","sm"),{fontSize:5}),Object(d.a)(t,e.breakpoints.between("sm","md"),{fontSize:10}),Object(d.a)(t,e.breakpoints.between("md","lg"),{fontSize:16}),Object(d.a)(t,e.breakpoints.between("lg","xl"),{fontSize:16,width:150}),Object(d.a)(t,e.breakpoints.up("xl"),{fontSize:30,width:300,height:70}),t),btnSecond:(a={color:"#03A9F4",borderColor:"#03A9F4",borderWidth:2,borderRadius:25},Object(d.a)(a,e.breakpoints.between("xs","sm"),{fontSize:5,width:95}),Object(d.a)(a,e.breakpoints.between("sm","md"),{fontSize:10}),Object(d.a)(a,e.breakpoints.between("md","lg"),{fontSize:16}),Object(d.a)(a,e.breakpoints.between("lg","xl"),{fontSize:16,width:150}),Object(d.a)(a,e.breakpoints.up("xl"),{fontSize:30,width:300,height:70}),a),paper:{marginTop:e.spacing(7),maxWidth:"150%"},content:(n={fontFamily:"Teko",marginTop:20,lineHeight:1.5},Object(d.a)(n,e.breakpoints.between("xs","sm"),{fontSize:16}),Object(d.a)(n,e.breakpoints.between("sm","md"),{fontSize:20}),Object(d.a)(n,e.breakpoints.between("md","lg"),{fontSize:20}),Object(d.a)(n,e.breakpoints.between("lg","xl"),{fontSize:20}),Object(d.a)(n,e.breakpoints.up("xl"),{fontSize:30}),n),shouldKnow:(s={fontFamily:"Teko",textAlign:"center"},Object(d.a)(s,e.breakpoints.between("xs","sm"),{fontSize:16}),Object(d.a)(s,e.breakpoints.between("sm","md"),{fontSize:20}),Object(d.a)(s,e.breakpoints.between("md","lg"),{fontSize:40}),Object(d.a)(s,e.breakpoints.between("lg","xl"),{fontSize:40}),Object(d.a)(s,e.breakpoints.up("xl"),{fontSize:60}),s)}}),{withTheme:!0})(at),st=a(388),it=st.pinata_api_key,rt=st.pinata_secret_api_key,ot=a(389),ct=a(390),lt=a(419),dt=J.a.Option,mt=a(142),bt=Object(h.a)({palette:{primary:{main:"#2196f3"},secondary:{main:"#FDFEFE"}}}),pt=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).backend="https://api.sparklink.io",e.state={name:"",bonusFee:0,price:0,buffer:null,file:null,ipfsHashCover:"",ipfsMeta:"",fileType:"",fileIpfs:"",description:"",shareTimes:0,onLoading:!1,rootNFTId:"",issueId:"",allowSubmitPDF:!1,usedAcc:"",sig:"",finished:!1,open:!1,coverURL:"",jumped:!1,data:[],token_addr:null,token_symbol:"MATIC",decimal:0},e.handleGetPubName=function(t){e.setState({name:t.target.value})},e.handleGetBonusFee=function(t){e.setState({bonusFee:t})},e.handleGetPrice=function(t){e.setState({price:t})},e.handleGetShareTimes=function(t){e.setState({shareTimes:t})},e.handleGetDescription=function(t){e.setState({description:t.target.value})},e.handleGetNFTId=function(t){e.setState({rootNFTId:String(t)})},e.handleClose=function(t){e.setState({open:!1})},e.handleClickOpen=function(t){e.setState({open:!0})},e.handleSearch=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o,c,l,d,m;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a){a=a.toLowerCase(),n=ae.a,s=[],i=new RegExp(a),r=Object(L.a)(n);try{for(r.s();!(o=r.n()).done;)c=o.value,l=c.symbol.toLowerCase(),d='"'.concat(c.symbol,'"')+"   "+c.address,m={value:c.address,text:d},i.test(l)&&!s.includes(m)&&s.push(m)}catch(b){r.e(b)}finally{r.f()}a.includes("0x")&&42==a.length&&(s=[m={value:a,text:a}]),e.setState({data:s})}else e.setState({data:[]});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleSelectChange=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o,c,l,d;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=ae.a,o=Object(L.a)(n);try{for(o.s();!(c=o.n()).done;)l=c.value,a===l.address&&(s=a,i=l.symbol,r=l.decimals)}catch(m){o.e(m)}finally{o.f()}if(void 0!=i){t.next=18;break}return t.prev=4,d=new $.eth.Contract(mt,a),t.next=8,d.methods.symbol().call();case 8:return i=t.sent,t.next=11,d.methods.decimals().call();case 11:r=t.sent,s=a,t.next=18;break;case 15:t.prev=15,t.t0=t.catch(4),W.b.error("\u4f60\u63d0\u4f9b\u7684\u5730\u5740\u4e0d\u662ferc20\u4ee3\u5e01\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165");case 18:e.setState({token_addr:s,token_symbol:i,decimal:r});case 19:case"end":return t.stop()}}),t,null,[[4,15]])})));return function(e){return t.apply(this,arguments)}}(),e.jump=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:return n=t.sent,s=n[0],e.setState({usedAcc:s}),t.next=7,ee.methods.ownerOf(e.state.rootNFTId).call();case 7:return i=t.sent,t.next=10,ee.methods.getIssueIdByNFTId(e.state.rootNFTId).call();case 10:return r=t.sent,t.next=13,ee.methods.getRoyaltyFeeByIssueId(r).call();case 13:o=t.sent,s==i.toLowerCase()?e.setState({onLoading:!1,allowSubmitPDF:!0,jumped:!0,bonusFee:o}):W.b.warning({content:"\u60a8\u5e76\u4e0d\u662f\u6b64NFT\u7684\u6301\u6709\u8005",className:"custom-class",style:{marginTop:"10vh"}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.submit=function(){var t=Object(O.a)(y.a.mark((function t(a){var n,s,i,r,o,c,l;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.ethereum.request({method:"eth_requestAccounts"});case 2:if(n=t.sent,s=n[0],e.setState({usedAcc:s}),i=Object(P.a)(e),0!==e.state.price&&0!==e.state.bonusFee&&0!==e.state.shareTimes&&null!==e.state.token_addr){t.next=10;break}W.b.error({content:"\u4f60\u6709\u4fe1\u606f\u5c1a\u672a\u586b\u5199",className:"custom-class",style:{marginTop:"10vh"}}),t.next=20;break;case 10:return e.setState({onLoading:!0}),r=(r=e.state.price*Math.pow(10,e.state.decimal)).toString(),o="0x0000000000000000000000000000000000000000000000000000000000000000",console.debug("price_with_decimal: ",r),t.next=17,$.eth.getGasPrice();case 17:c=t.sent,l=Math.floor(1.5*parseInt(c)).toString(),ee.methods.publish(r,e.state.bonusFee,e.state.shareTimes,o,e.state.token_addr).send({from:e.state.usedAcc,gasPrice:l}).on("receipt",(function(e){console.log(e);var t=e.events.Publish.returnValues,a=String(t.rootNFTId);console.debug(typeof a);var n=t.issue_id;i.setState({onLoading:!1,rootNFTId:a,issueId:n,allowSubmitPDF:!0}),W.b.success({content:"\u4f5c\u54c1\u57fa\u672c\u4fe1\u606f\u5df2\u63d0\u4ea4\u6210\u529f",className:"custom-class",style:{marginTop:"10vh"}})})).on("error",(function(e){i.setState({onLoading:!1}),e.message.includes("not mined")?W.b.warning({content:"\u4ea4\u6613\u5df2\u63d0\u4ea4\uff0c\u5f53\u524d\u7f51\u7edc\u8f83\u62e5\u5835\uff0c\u8bf7\u7a0d\u7b49\u540e\u53bb\u6211\u7684\u6536\u85cf\u4e2d\u67e5\u770b",className:"custom-class",style:{marginTop:"10vh"}}):(console.debug(e.message),W.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}}))}));case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.checkDetail=function(){var t=Object(O.a)(y.a.mark((function t(a){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n="/#/NFT/"+e.state.rootNFTId,window.open(n,"_self");case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.submitWork=Object(O.a)(y.a.mark((function t(){var a,n,s,i,r,o,c,l,d,m,b,p;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==e.state.ipfsHashCover&&""!==e.state.fileIpfs){t.next=4;break}W.b.error({content:"\u4f60\u6709\u4fe1\u606f\u5c1a\u672a\u586b\u5199",className:"custom-class",style:{marginTop:"10vh"}}),t.next=42;break;case 4:return a="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+e.state.ipfsHashCover,e.setState({coverURL:a}),console.debug("coverURL: ",e.state.coverURL),n=e.state.description.replace(/(\r\n\t|\n|\r\t)/gm," "),t.next=10,window.ethereum.request({method:"eth_requestAccounts"});case 10:if(s=t.sent,s[0]===e.state.usedAcc){t.next=15;break}return W.b.warning({content:"\u8d26\u6237\u53d1\u751f\u53d8\u5316\uff0c\u8bf7\u5207\u6362\u56de\u539f\u8d26\u6237",className:"custom-class",style:{marginTop:"10vh"}}),t.abrupt("return");case 15:return i="https://coldcdn.com/api/cdn/v5ynur/ipfs/"+e.state.fileIpfs,r={name:e.state.name,description:n,image:e.state.coverURL,attributes:[{display_type:"boost_percentage",trait_type:"Bonuse Percentage",value:e.state.bonusFee},{trait_type:"File Address",value:i},{value:e.state.fileType},{trait_type:"Encrypted",value:"TRUE"}]},console.debug(r),"https://api.pinata.cloud/pinning/pinJSONToIPFS",o=Object(P.a)(e),e.setState({onLoading:!0}),t.prev=21,t.next=24,Y.a.post("https://api.pinata.cloud/pinning/pinJSONToIPFS",r,{headers:{pinata_api_key:it,pinata_secret_api_key:rt}});case 24:return c=t.sent,console.debug("metadata: ",c.data.IpfsHash),l=ct.decode(c.data.IpfsHash),d=l.toString("hex").substring(4),console.log(d),console.log(c.data.IpfsHash),e.setState({ipfsMeta:d}),m="0x"+d,t.next=34,$.eth.getGasPrice();case 34:b=t.sent,p=Math.floor(1.5*parseInt(b)).toString(),ee.methods.setURI(o.state.rootNFTId,m).send({from:o.state.usedAcc,gasPrice:p}).on("receipt",(function(e){console.debug(e.events.SetURI),W.b.success({content:"\u4f5c\u54c1\u57fa\u672c\u4fe1\u606f\u5df2\u63d0\u4ea4\u6210\u529f",className:"custom-class",style:{marginTop:"10vh"}}),o.setState({allowSubmitPDF:!1,finished:!0,onLoading:!1})})).on("error",(function(e){o.setState({onLoading:!1}),W.b.error({content:"Error: ".concat(e.message),className:"custom-class",style:{marginTop:"10vh"}})})),t.next=42;break;case 39:t.prev=39,t.t0=t.catch(21),W.b.error({content:"Error: ".concat(t.t0.message),className:"custom-class",style:{marginTop:"10vh"}});case 42:case"end":return t.stop()}}),t,null,[[21,39]])}))),e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=Object(O.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum){e.next=4;break}return alert("\u8bf7\u5148\u5b89\u88c5metamask"),window.location.href="/#/introPublish",e.abrupt("return");case 4:return e.next=6,window.ethereum.request({method:"eth_chainId"});case 6:if("0x89"===e.sent){e.next=11;break}return alert("\u8bf7\u5207\u6362\u81f3Polygon \u4e3b\u7f51\u7edc"),e.next=11,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x89"}]});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes,a=this,n=K.a.TextArea,s=this.state.data.map((function(e){return Object(C.jsx)(dt,{children:e.text},e.value)})),i={name:"file",action:"https://api.pinata.cloud/pinning/pinFileToIPFS",headers:{pinata_api_key:it,pinata_secret_api_key:rt},data:this.state.buffer,beforeUpload:function(t){return new Promise((function(a,n){try{var s=new FileReader;s.readAsArrayBuffer(t),s.onload=function(t){var a=t.target.result,n=new ot;n.append("file",a),e.setState({buffer:n})},a()}catch(i){W.b.error("Read file error"),n()}}))},onChange:function(e){return Object(O.a)(y.a.mark((function t(){var n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"done"===(n=e.file.status)?(W.b.success("".concat(e.file.name," file uploaded successfully.")),a.setState({ipfsHashCover:e.file.response.IpfsHash})):"error"===n&&W.b.error("".concat(e.file.name," file upload failed."));case 2:case"end":return t.stop()}}),t)})))()},onDrop:function(e){W.b.error("Only image file supported"),console.log("Dropped files",e.dataTransfer.files)}},r={name:"file",action:"https://api.pinata.cloud/pinning/pinFileToIPFS",headers:{pinata_api_key:it,pinata_secret_api_key:rt},beforeUpload:function(t){return new Promise(function(){var n=Object(O.a)(y.a.mark((function n(s,i){var r,o,c,l,d,m,b,p,h,u;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,window.ethereum.request({method:"eth_requestAccounts"});case 3:return r=n.sent,o=r[0],c={account:o,nft_id:a.state.rootNFTId},n.next=8,$.eth.personal.sign(JSON.stringify(c),o);case 8:return l=n.sent,console.debug(l),d={nft_id:a.state.rootNFTId,account:o,signature:l},m=JSON.stringify(d),console.log(m),b=e.backend+"/api/v1/key/claim",n.prev=14,n.next=17,Y.a.post(b,m,{headers:{"Content-Type":"application/json"}});case 17:p=n.sent,h=p.data.key,console.debug(h),(u=new FileReader).readAsArrayBuffer(t),u.onload=function(e){var t=e.target.result,a=lt.lib.WordArray.create(t),n=lt.enc.Hex.stringify(a),i=lt.AES.encrypt(n,h).toString(),r=new Blob([i]);s(r)},n.next=28;break;case 25:n.prev=25,n.t0=n.catch(14),400==n.t0.response.status?n.t0.response.data.message.includes("signature invalid")?c.error({content:"\u60a8\u7684\u7b7e\u540d\u6709\u8bef\uff0c\u8bf7\u67e5\u770b\u7b7e\u540d\u8d26\u53f7\u662f\u5426\u6b63\u786e",className:"custom-class",style:{marginTop:"10vh"}}):n.t0.response.data.message.includes("param invalid")?c.error({content:"\u53c2\u6570\u9519\u8bef",className:"custom-class",style:{marginTop:"10vh"}}):n.t0.response.data.message.includes("not owned")?c.error({content:"\u60a8\u5e76\u4e0d\u62e5\u6709\u6b64nft",className:"custom-class",style:{marginTop:"10vh"}}):n.t0.response.data.message.includes("not found")&&c.error({content:"\u6b64nft\u8fd8\u672a\u751f\u6210",className:"custom-class",style:{marginTop:"10vh"}}):c.error({content:"\u8bf7\u6c42\u6587\u4ef6\u52a0\u5bc6\u5bc6\u94a5\u5931\u8d25",className:"custom-class",style:{marginTop:"10vh"}});case 28:n.next=34;break;case 30:n.prev=30,n.t1=n.catch(0),c.error({content:"Read file error",className:"custom-class",style:{marginTop:"10vh"}}),i();case 34:case"end":return n.stop()}}),n,null,[[0,30],[14,25]])})));return function(e,t){return n.apply(this,arguments)}}())},onChange:function(e){if("done"===e.file.status){var t=e.file.name.split("."),n=t[t.length-1];a.setState({fileIpfs:e.file.response.IpfsHash,fileType:n}),console.debug("encrypted file hash: ",e.file.response.IpfsHash),W.b.success("".concat(e.file.name," file uploaded successfully."))}},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return this.state.allowSubmitPDF?Object(C.jsx)(X.a,{spinning:this.state.onLoading,size:"large",children:Object(C.jsx)(j.a,{component:"main",maxWidth:"xs",className:t.main,children:Object(C.jsxs)("div",{className:t.paper,children:[Object(C.jsx)(g.a,{className:t.titlePub,children:Object(C.jsx)("b",{children:"\u4e0a\u4f20\u4f5c\u54c1\u6587\u4ef6"})}),Object(C.jsxs)("form",{className:t.form,noValidate:!0,children:[this.state.jumped?Object(C.jsxs)("div",{children:[Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginBottom:10},children:"\u4f5c\u54c1\u540d\u5b57 *"}),Object(C.jsx)(K.a,{placeholder:"\u4f5c\u54c1\u540d\u79f0",allowClear:!0,id:"pubName",onChange:this.handleGetPubName,value:this.state.name,className:t.input})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginTop:20},children:"\u4f5c\u54c1\u63cf\u8ff0 *"}),Object(C.jsx)("p",{style:{fontSize:14},children:"\u8bf7\u7528\u7b80\u5355\u7684\u8bdd\u8bed\u5bf9\u60a8\u7684\u4f5c\u54c1\u8fdb\u884c\u63cf\u8ff0\uff0c\u7cbe\u51c6\u6709\u6548\u7684\u63cf\u8ff0\u80fd\u5e2e\u52a9\u5176\u4ed6\u7528\u6237\u66f4\u51c6\u786e\u5f97\u4e86\u89e3\u60a8\u7684\u4f5c\u54c1"}),Object(C.jsx)(n,{rows:4,id:"Description",onChange:this.handleGetDescription})]})]}):Object(C.jsx)("div",{}),Object(C.jsx)("label",{style:{fontSize:18,marginTop:50},children:"\u5c01\u9762\u56fe\u7247 *"}),Object(C.jsxs)("p",{style:{fontSize:12},children:["\u8bf7\u5728\u4e0b\u65b9\u533a\u57df\u4e0a\u4f20\u60a8\u7684\u5c01\u9762\u56fe\u7247 ",Object(C.jsx)("br",{}),"\u5c01\u9762\u6587\u4ef6\u652f\u6301\u8fd9\u4e9b\u683c\u5f0f\uff1aJPEG/JPG/PNG"]}),Object(C.jsxs)(H.a,Object(U.a)(Object(U.a)({},i),{},{style:{width:"100%",minHeight:100},id:"Uploader",accept:".png, .jpg, .jpeg",children:[Object(C.jsx)("p",{className:"ant-upload-drag-icon",children:Object(C.jsx)(G.a,{})}),Object(C.jsx)("p",{className:"ant-upload-text",children:"\u4e0a\u4f20\u6587\u4ef6\u8bf7\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u6587\u4ef6\u5230\u6b64\u5904"}),Object(C.jsx)("p",{className:"ant-upload-hint",children:"\u652f\u6301\u5355\u4e2a\u6587\u4ef6\u7684\u4e0a\u4f20\uff0c\u652f\u6301\u591a\u79cd\u7c7b\u578b\u6587\u4ef6\u7684\u4e0a\u4f20"})]})),Object(C.jsx)("label",{style:{fontSize:18,marginTop:50},children:"\u4f5c\u54c1\u6587\u4ef6 *"}),Object(C.jsx)("p",{style:{fontSize:12},children:"\u8bf7\u5728\u4e0b\u65b9\u533a\u57df\u4e0a\u4f20\u60a8\u7684\u4f5c\u54c1\u6587\u4ef6 "}),Object(C.jsxs)(H.a,Object(U.a)(Object(U.a)({},r),{},{style:{width:"100%",minHeight:100},id:"Uploader2",children:[Object(C.jsx)("p",{className:"ant-upload-drag-icon",children:Object(C.jsx)(G.a,{})}),Object(C.jsx)("p",{className:"ant-upload-text",children:"\u4e0a\u4f20\u6587\u4ef6\u8bf7\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u6587\u4ef6\u5230\u6b64\u5904"}),Object(C.jsx)("p",{className:"ant-upload-hint",children:"\u652f\u6301\u5355\u4e2a\u6587\u4ef6\u7684\u4e0a\u4f20\u548c\u591a\u4e2a\u6587\u4ef6\u7684\u4e0a\u4f20\uff0c\u652f\u6301\u591a\u79cd\u7c7b\u578b\u6587\u4ef6\u7684\u4e0a\u4f20"})]})),Object(C.jsx)("div",{style:{textAlign:"center"},children:Object(C.jsx)(b.a,{variant:"contained",startIcon:Object(C.jsx)(V.a,{}),className:t.btnPub,onClick:this.submitWork,children:"\u53d1\u5e03\u4f5c\u54c1"})})]})]})})}):this.state.finished?Object(C.jsx)(X.a,{spinning:this.state.onLoading,size:"large",children:Object(C.jsxs)(u.a,{theme:bt,children:[Object(C.jsx)(A,{}),Object(C.jsxs)("div",{style:{textAlign:"center"},children:[Object(C.jsx)(g.a,{className:t.titleCon,children:Object(C.jsx)("b",{children:" \ud83c\udf89 \u606d\u559c\u60a8\u53d1\u5e03\u6210\u529f"})}),Object(C.jsx)(te.a,{className:t.paperImg,children:Object(C.jsx)("img",{style:{width:300,marginTop:20,marginBottom:50},src:this.state.coverURL})}),Object(C.jsx)(g.a,{variant:"h4",style:{marginTop:20,fontFamily:"Ubuntu"},children:Object(C.jsxs)("b",{children:["\u60a8\u83b7\u5f97\u7684NFT\u662f\uff1a #",this.state.rootNFTId]})}),Object(C.jsx)(b.a,{variant:"contained",className:t.button,style:{marginTop:50,width:200,height:50,marginBottom:50},onClick:this.checkDetail,children:"\u67e5\u770b\u8be6\u60c5"})]})]})}):Object(C.jsx)(X.a,{spinning:this.state.onLoading,size:"large",children:Object(C.jsxs)(u.a,{theme:bt,children:[Object(C.jsx)(A,{}),Object(C.jsx)(j.a,{component:"main",maxWidth:"xs",className:t.main,children:Object(C.jsxs)("div",{className:t.paper,children:[Object(C.jsx)(g.a,{className:t.titlePub,children:Object(C.jsx)("b",{children:"\u53d1\u5e03\u4f5c\u54c1\u4fe1\u606f"})}),Object(C.jsx)("form",{className:t.form,noValidate:!0,children:Object(C.jsxs)(p.a,{container:!0,spacing:2,children:[Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginBottom:10},children:"\u4f5c\u54c1\u540d\u5b57 *"}),Object(C.jsx)(K.a,{placeholder:"\u4f5c\u54c1\u540d\u79f0",allowClear:!0,id:"pubName",onChange:this.handleGetPubName,value:this.state.name,className:t.input})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginTop:20},children:"\u6536\u76ca\u6bd4\u4f8b *"}),Object(C.jsx)("p",{style:{fontSize:14},children:"\u5f53\u60a8\u7684\u4f5c\u54c1\u88ab\u4ed6\u4eba\u5206\u4eab\u5e76\u83b7\u5229\u65f6\uff0c\u60a8\u5e0c\u671b\u4ece\u4ed6\u7684\u5206\u4eab\u5229\u6da6\u4e2d\u83b7\u5f97\u591a\u5c11\u6bd4\u4f8b\u7684\u6536\u76ca"}),Object(C.jsx)(Q.a,{id:"bonusFee",defaultValue:0,min:0,max:100,formatter:function(e){return"".concat(e,"%")},parser:function(e){return e.replace("%","")},onChange:this.handleGetBonusFee,className:t.inputNum})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginTop:20},children:"\u901a\u884c\u4ee3\u5e01 *"}),Object(C.jsx)("p",{style:{fontSize:14},children:"\u8bf7\u9009\u62e9\u60a8\u652f\u6301\u7684\u652f\u4ed8\u8d27\u5e01 (\u8f93\u5165\u4ee3\u5e01\u7b26\u53f7\u6216\u5730\u5740)"}),Object(C.jsx)(J.a,{showSearch:!0,value:this.state.token_addr,placeholder:"\u8bf7\u8f93\u5165\u4ee3\u5e01\u7b26\u53f7\u6216\u5730\u5740",style:{width:"100%"},size:"large",defaultActiveFirstOption:!1,showArrow:!1,filterOption:!1,onSearch:this.handleSearch,onChange:this.handleSelectChange,notFoundContent:null,children:s})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsxs)("label",{style:{fontSize:18,marginTop:20},children:["\u552e\u5356\u4ef7\u683c (",this.state.token_symbol,")*"]}),Object(C.jsx)(Q.a,{id:"price",defaultValue:0,min:0,onChange:this.handleGetPrice,className:t.inputNum})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginTop:20},children:"\u6700\u9ad8\u5206\u4eab\u6b21\u6570 (MAX\uff1a 65535)*"}),Object(C.jsx)("p",{style:{fontSize:14},children:"\u60a8\u5e0c\u671b\u6bcf\u4e00\u4e2a\u5e2e\u52a9\u60a8\u4f20\u64ad\u7684\u7528\u6237\u6700\u591a\u80fd\u591f\u5206\u4eab\u591a\u5c11\u6b21\uff1f"}),Object(C.jsx)(Q.a,{id:"shareTimes",defaultValue:0,min:0,max:65535,onChange:this.handleGetShareTimes,className:t.inputNum})]}),Object(C.jsxs)(p.a,{item:!0,style:{width:"100%"},children:[Object(C.jsx)("label",{style:{fontSize:18,marginTop:20},children:"\u4f5c\u54c1\u63cf\u8ff0 *"}),Object(C.jsx)("p",{style:{fontSize:14},children:"\u8bf7\u7528\u7b80\u5355\u7684\u8bdd\u8bed\u5bf9\u60a8\u7684\u4f5c\u54c1\u8fdb\u884c\u63cf\u8ff0\uff0c\u7cbe\u51c6\u6709\u6548\u7684\u63cf\u8ff0\u80fd\u5e2e\u52a9\u5176\u4ed6\u7528\u6237\u66f4\u51c6\u786e\u5f97\u4e86\u89e3\u60a8\u7684\u4f5c\u54c1"}),Object(C.jsx)(n,{rows:4,id:"Description",onChange:this.handleGetDescription})]})]})}),Object(C.jsxs)(p.a,{container:!0,alignItems:"center",spacing:4,style:{marginTop:20,marginBottom:50},children:[Object(C.jsx)(p.a,{item:!0,xs:!0,style:{textAlign:"center"},children:Object(C.jsx)(b.a,{variant:"contained",className:t.button,startIcon:Object(C.jsx)(V.a,{}),style:{width:200,height:50,marginBottom:20,marginTop:20},onClick:this.submit,children:"\u63d0\u4ea4\u4fe1\u606f"})}),Object(C.jsx)(p.a,{item:!0,xs:!0,style:{textAlign:"center"},children:Object(C.jsx)(Qe.a,{onClick:this.handleClickOpen,style:{fontSize:10,textDecoration:"underline"},children:"\u5df2\u7ecf\u4e0a\u4f20\u8fc7\u57fa\u672c\u4fe1\u606f\uff1f"})})]}),Object(C.jsxs)(Ce.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title",children:[Object(C.jsx)(Ne.a,{id:"form-dialog-title",children:"\u586b\u5199 NFT ID"}),Object(C.jsxs)(Ae.a,{children:[Object(C.jsx)(_e.a,{children:"\u8bf7\u5728\u4e0b\u65b9\u533a\u57df\u586b\u5199\u60a8\u8981\u7ed1\u5b9a\u5185\u5bb9\u7684 NFT ID"}),Object(C.jsx)("label",{style:{fontSize:14,marginBottom:10},children:"NFT ID *"}),Object(C.jsx)(Q.a,{defaultValue:0,min:0,onChange:this.handleGetNFTId})]}),Object(C.jsxs)(Be.a,{children:[Object(C.jsx)(b.a,{onClick:this.handleClose,color:"primary",children:"\u53d6\u6d88"}),Object(C.jsx)(b.a,{variant:"contained",onClick:this.jump,color:"primary",children:"\u53bb\u4e0a\u4f20\u4f5c\u54c1"})]})]})]})})]})})}}]),a}(n.Component),ht=Object(f.a)((function(e){var t,a,n,s,i;return{main:(t={},Object(d.a)(t,e.breakpoints.between("xs","sm"),{width:"60%"}),Object(d.a)(t,e.breakpoints.up("sm"),{width:500}),t),titleCon:(a={marginTop:50,fontFamily:"Ubuntu"},Object(d.a)(a,e.breakpoints.between("xs","sm"),{fontSize:30}),Object(d.a)(a,e.breakpoints.up("sm"),{fontSize:40}),a),titlePub:(n={marginTop:"3%",fontFamily:"Ubuntu"},Object(d.a)(n,e.breakpoints.between("xs","sm"),{fontSize:30}),Object(d.a)(n,e.breakpoints.up("sm"),{fontSize:40}),n),paperImg:(s={backgroundColor:"#EFEBE9",width:330},Object(d.a)(s,e.breakpoints.between("xs","sm"),{marginLeft:"5%",marginTop:30}),Object(d.a)(s,e.breakpoints.between("sm","md"),{marginLeft:"30%",marginTop:30}),Object(d.a)(s,e.breakpoints.between("md","lg"),{marginLeft:"30%",marginTop:30}),Object(d.a)(s,e.breakpoints.between("lg","xl"),{marginLeft:"40%",marginTop:30}),Object(d.a)(s,e.breakpoints.up("xl"),{marginLeft:"45%",marginTop:30}),s),btnPub:(i={margin:e.spacing(1),borderRadius:25,color:"#FFFFFF",backgroundColor:"#2196f3",marginBottom:20,marginTop:40,height:45,minWidth:200},Object(d.a)(i,e.breakpoints.between("xs","sm"),{width:"50%"}),Object(d.a)(i,e.breakpoints.between("sm","md"),{fontSize:16,width:"30%"}),Object(d.a)(i,e.breakpoints.up("md"),{fontSize:16,width:"30%"}),i),btn:{color:"#424949",borderWidth:2,borderColor:"#e3f2fd",fontSize:16},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:M.a[500],width:60,height:60},form:{width:"150%",marginTop:e.spacing(7)},submit:{margin:e.spacing(3,0,2)},fileBtn:{padding:"10px 30px 10px 30px",background:"#66C1E4",border:"none",color:"#FFF",boxShadow:"1px 1px 1px #4C6E91"},button:{margin:e.spacing(1),fontSize:20,borderRadius:25,color:"#FFFFFF",backgroundColor:"#2196f3"},input:{height:40,borderRadius:5},inputNum:{height:40,borderRadius:5,width:"100%",fontSize:20}}}),{withTheme:!0})(pt),ut=Object(h.a)({palette:{primary:{main:"#FDFEFE"},secondary:{main:"#2196f3"}}}),ft=function(e){Object(c.a)(a,e);var t=Object(l.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props.classes;return Object(C.jsx)("div",{children:Object(C.jsxs)(u.a,{theme:ut,children:[Object(C.jsx)(A,{}),Object(C.jsx)(j.a,{component:"main",className:e.container,children:Object(C.jsx)("div",{className:e.paper,children:Object(C.jsx)(g.a,{color:"inherit",noWrap:!0,className:e.shouldKnow,children:Object(C.jsx)("b",{children:"\u656c\u8bf7\u671f\u5f85"})})})})]})})}}]),a}(n.Component),gt=Object(f.a)((function(e){var t,a,n,s;return{icon:{marginRight:e.spacing(2)},titleFont:{fontFamily:"Teko"},btn:{color:"#424949",borderWidth:2,borderColor:"#e3f2fd",fontSize:16},btnMain:(t={color:"#FFFFFF",borderColor:"#e3f2fd",borderWidth:2,borderRadius:25},Object(d.a)(t,e.breakpoints.between("xs","sm"),{fontSize:5}),Object(d.a)(t,e.breakpoints.between("sm","md"),{fontSize:10}),Object(d.a)(t,e.breakpoints.between("md","lg"),{fontSize:16}),Object(d.a)(t,e.breakpoints.between("lg","xl"),{fontSize:16,width:150}),Object(d.a)(t,e.breakpoints.up("xl"),{fontSize:30,width:300,height:70}),t),btnSecond:(a={color:"#03A9F4",borderColor:"#03A9F4",borderWidth:2,borderRadius:25},Object(d.a)(a,e.breakpoints.between("xs","sm"),{fontSize:5,width:95}),Object(d.a)(a,e.breakpoints.between("sm","md"),{fontSize:10}),Object(d.a)(a,e.breakpoints.between("md","lg"),{fontSize:16}),Object(d.a)(a,e.breakpoints.between("lg","xl"),{fontSize:16,width:150}),Object(d.a)(a,e.breakpoints.up("xl"),{fontSize:30,width:300,height:70}),a),paper:{marginTop:e.spacing(7),maxWidth:"150%"},content:(n={fontFamily:"Teko",marginTop:20,lineHeight:1.5},Object(d.a)(n,e.breakpoints.between("xs","sm"),{fontSize:16}),Object(d.a)(n,e.breakpoints.between("sm","md"),{fontSize:20}),Object(d.a)(n,e.breakpoints.between("md","lg"),{fontSize:20}),Object(d.a)(n,e.breakpoints.between("lg","xl"),{fontSize:20}),Object(d.a)(n,e.breakpoints.up("xl"),{fontSize:30}),n),shouldKnow:(s={fontFamily:"Teko",textAlign:"center"},Object(d.a)(s,e.breakpoints.between("xs","sm"),{fontSize:16}),Object(d.a)(s,e.breakpoints.between("sm","md"),{fontSize:20}),Object(d.a)(s,e.breakpoints.between("md","lg"),{fontSize:40}),Object(d.a)(s,e.breakpoints.between("lg","xl"),{fontSize:40}),Object(d.a)(s,e.breakpoints.up("xl"),{fontSize:60}),s)}}),{withTheme:!0})(ft),jt=function(){return Object(C.jsx)(z.a,{children:Object(C.jsxs)(R.c,{children:[Object(C.jsx)(R.a,{exact:!0,path:"/",component:E}),Object(C.jsx)(R.a,{exact:!0,path:"/introPublish",component:nt}),Object(C.jsx)(R.a,{exact:!0,path:"/buy",component:gt}),Object(C.jsx)(R.a,{exact:!0,path:"/publish",component:be}),Object(C.jsx)(R.a,{exact:!0,path:"/encryptedPublish",component:ht}),Object(C.jsx)(R.a,{exact:!0,path:"/sellSingle/:NFTId",component:Re}),Object(C.jsx)(R.a,{exact:!0,path:"/buySingle/:NFTId",component:Me}),Object(C.jsx)(R.a,{exact:!0,path:"/collections",component:Xe}),Object(C.jsx)(R.a,{exact:!0,path:"/NFT/:id",component:Ie}),Object(C.jsx)(R.a,{exact:!0,path:"/NFT/spark/:id",component:et})]})})};i.a.render(Object(C.jsx)(jt,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[977,1,2]]]);
//# sourceMappingURL=main.c9202f7b.chunk.js.map