{"version":3,"sources":["imgs/books.png","imgs/sparkLink.jpg","imgs/sparkLink.png","imgs/metamask.png","isMobile.js","LanguageBtn.js","TopBar.js","imgs/TP.png","App.js","serviceWorker.js","web3.js","contract.js","Publish.js","imgs/poster.png","imgs/imgloading.png","Poster.js","MaskLayer.js","NFTInfo.js","SellSingle.js","BuySingle.js","Collections.js","NFTSpark.js","IntroPublish.js","EncryptedPublish.js","Buy.js","Router.js","i18n.js","index.js","project.secret.js"],"names":["userAgent","navigator","toLowerCase","isMobile","test","tokenId","options","lngOptions","LanguageBtn","fontColor","userProfile","reactLocalStorage","getObject","language","i18next","indexInit","useState","selectedIndex","setSelectedIndex","React","anchorEl","setAnchorEl","handleCloseProfile","index","event","a","changeLanguage","setObject","Button","onClick","currentTarget","style","color","toUpperCase","Menu","id","keepMounted","open","Boolean","onClose","map","option","MenuItem","selected","value","TOKENPOCKET","METAMASK","LASTCONNECT","tp","require","TopBar","createTheme","breakpoints","values","xs","sm","md","lg","xl","palette","primary","main","secondary","state","isConnected","userAddress","accountInfo","dialogOpen","wallet","checkMetaMask","Web3","givenProvider","w3","window","web3","currentProvider","eth","getAccounts","accounts","console","log","length","setState","account","substring","localStorage","setItem","checkTokenPocket","getCurrentWallet","then","data","address","handleSelectTokenPockect","getTokenPocketAccount","handleSelectMetaMask","getMetaMaskAccount","handleDialogOpen","handleDialogClose","sleep","ms","Promise","resolve","setTimeout","request","method","alert","debug","getWallet","walletTypes","switch","handleTokenButtonOnClick","string","getItem","disconnect","removeItem","lastConnect","this","classes","props","t","Dialog","className","dialog","DialogTitle","title","Typography","component","noWrap","DialogContent","Grid","container","spacing","size","btnWallet","btnImg","src","metamaskpic","textAlign","Toolbar","direction","justifyContent","wrap","item","titleGrid","href","logo","btnGrid","btn","target","GithubOutlined","icon","variant","btnUser","titleToken","Component","withTranslation","withStyles","theme","down","fontSize","up","marginTop","marginBottom","fontFamily","between","minWidth","maxWidth","display","alignItems","width","borderColor","height","objectFit","content","fullLogo","sLogo","withTheme","App","ThemeProvider","page","Container","paper","title2","title3","books","btnMain","btnSecond","marginRight","titleFont","borderWidth","borderRadius","location","hostname","match","error","Contract","pinata_api_key","pinata_secret_api_key","FormData","bs58","Option","Select","abi","Publish","name","bonusFee","price","buffer","ipfsHashCover","ipfsMeta","fileIpfs","description","shareTimes","onLoading","rootNFTId","usedAcc","sig","fileType","finished","coverURL","token_addr","token_symbol","decimal","handleGetPubName","handleGetBonusFee","handleGetPrice","handleGetShareTimes","handleGetDescription","e","handleSearch","tokens_list","tokens","matched_data","reg","RegExp","token","symbol_lower_case","symbol","showed_text","info","text","includes","push","handleSelectChange","token_decimal","decimals","undefined","token_contract","methods","call","message","submit","obj","img_url","trimmed_des","replace","ethereum","file_url","JSONBody","axios","post","headers","response","IpfsHash","bytes","decode","bytesToContract","toString","price_with_decimal","ipfsToContract","getGasPrice","gasPrice","new_gas_price","Math","floor","parseInt","contract","publish","send","from","on","receipt","returned_values","events","returnValues","root_nft_id","issue_id","issueId","success","warning","checkDetail","new_url","params","chainId","TextArea","Input","d","prop","action","beforeUpload","file","reject","reader","FileReader","readAsArrayBuffer","onload","b","result","append","onChange","status","onDrop","dataTransfer","files","propFile","file_type","split","file_suffix","spinning","titleCon","Paper","paperImg","button","titlePub","form","noValidate","placeholder","allowClear","input","defaultValue","min","max","formatter","parser","inputNum","showSearch","defaultActiveFirstOption","showArrow","filterOption","onSearch","notFoundContent","rows","minHeight","accept","InboxOutlined","startIcon","CloudUploadOutlined","backgroundColor","marginLeft","flexDirection","avatar","margin","blue","fileBtn","padding","background","border","boxShadow","Poster","str","share","coverImg","coverHeight","coverWidth","splited","currency","imgRef","useRef","useEffect","draw","ctx","dataUrl","qrcode","Image","drawImage","crossOrigin","h","w","ratio","standardRatio","preWidth","preHeight","getImgPos","bg","bgImg","font","fillText","strokeRect","QRCode","toDataURL","errorCorrectionLevel","quality","canvas","document","createElement","getContext","globalCompositeOperation","dataURL","current","alt","ref","loading","MaskLayer","position","left","top","children","FileSaver","CryptoJS","NFTInfo","gateway","backend","showDecryptProgress","decryptPercentage","showProgress","percentage","Profit","loadItem","Cover","Name","Description","BonusFee","childrenNum","encrypted","isEncrypt","spark","tokenAddr","tokenSymbol","return","reload","claim","claimProfit","downloadIPFS","dataSplits","dataHash","cipher_config","url","onDownloadProgress","progress","round","loaded","total","ciphertext","signJSON","JSON","stringify","signDataAndDecrypt","open_config","responseType","URL","createObjectURL","Blob","link","suffix","fileName","download","body","appendChild","click","removeChild","revokeObjectURL","signer","json_str","personal","sign","payload","payload_str","req_key_url","res","key","AES","decrypt","plainText","enc","Utf8","wordArray","Hex","parse","BaText","wordArrayToByteArray","blob","saveAs","error_msg","wordToByteArray","word","lengthBefore","addedLength","hasOwnProperty","sigBytes","words","bytesAdded","current_bytes","i","added_info","percent","Uint8Array","flag","downloadPoster","getShillPriceByNFTId","ownerOf","owner","utils","toChecksumAddress","getTokenAddrByNFTId","getProfitByNFTId","profit","price_poster","tokenURI","meta","hash","getIssueIdByNFTId","issue","getRoyaltyFeeByIssueId","royalty","file_hash","request_url","timeout","fileAddr","attributes","trait_type","image","leafUrl","get","children_num","children_count","catch","gutterBottom","type","ArrowLeftOutlined","alignContent","cbutton","MoneyCollectOutlined","DollarCircleOutlined","Skeleton","animation","imagePapaer","imageStyle","content2","align","paragraph","cbutton2","DownloadOutlined","FireOutlined","toUrl","host","coverRef","getElementById","sell_info","SellSingle","ipfsHashMeta","toAddress","NFTId","onSale","copied","currentAcc","handleClickOpen","handleClose","handleGetAddr","handleClickLink","sell","determinePriceAndApprove","metadata","bonus","name_holder","getTransferPriceByNFTId","child_url","showSellBtn","btnSell","disabled","img","imgPaper","DialogContentText","DialogActions","onCopy","IconButton","CopyOutlined","BuySingle","sparkAddr","priceString","approvedAddr","approved","handleBuy","safeTransferFrom","handleApprove","approve","getApproved","allowance","buyButton","btnDisable","Collections","cards","isLogin","user_address","viewable","onloading","SkeletoNumber","noNFT","getMetadata","nft","metaDatas","ipfs_link","ipfs_hash_arr","ipfs_hash","getNft","balanceId","checksum_address","renderDescription","balanceOf","nft_number","ids","element","reversed_cards","reverse","_chainId","cardGrid","Array","card","Card","CardMedia","cardMedia","CardContent","cardContent","CardActions","showCard","heroContent","paddingTop","paddingBottom","flexGrow","NFTSpark","remainShillTimes","maxShillTimes","recommendNFT","shill","acceptShill","bouns","remain_shill_times","max_shill_times","shill_times","suggest_next_nft","showRecommend","imagePaper","Link","textDecoration","IntroPublish","shouldKnow","lineHeight","EncryptedPublish","allowSubmitPDF","jumped","handleGetNFTId","String","jump","submitWork","setURI","SetURI","nft_id","secret_key","lib","WordArray","create","cipher_text","encrypt","myblob","btnPub","Buy","BasicRoute","exact","path","Spark","use","XHR","LanguageDetector","initReactI18next","init","loadPath","react","useSuspense","fallbackLng","preload","keySeparator","interpolation","escapeValue","ReactDOM","render","Router","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.961bbbc5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/books.6e483aa8.png\";","export default __webpack_public_path__ + \"static/media/sparkLink.e9f284b5.jpg\";","export default __webpack_public_path__ + \"static/media/sparkLink.250e0a02.png\";","export default __webpack_public_path__ + \"static/media/metamask.31c2d1d3.png\";","//判断当前设备是否为移动设备\r\nvar isMobile;\r\nlet userAgent = navigator.userAgent.toLowerCase();\r\nif (/ipad|iphone|midp|rv:1.2.3.4|ucweb|android|windows ce|windows mobile/.test(userAgent)) {\r\n    isMobile = true;\r\n} else {\r\n    isMobile = false;\r\n}\r\nexport default isMobile;\r\n","import React, {useState} from 'react'\r\nimport TranslateIcon from \"@material-ui/icons/Translate\"\r\nimport DownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport PropTypes from \"prop-types\";\r\nimport {reactLocalStorage} from 'reactjs-localstorage'\r\nimport i18next from 'i18next'\r\n\r\nconst tokenId = \"multilanguage_demo\";\r\nconst options = ['English', \"中文\"];\r\nconst lngOptions = ['en', 'zh'];\r\n\r\nfunction LanguageBtn({fontColor}) {\r\n    let userProfile = reactLocalStorage.getObject(tokenId) || {};\r\n    const language = userProfile['lng'] || i18next.language;\r\n    const indexInit = (language === 'zh' || language === 'zh-CN' || language === 'zh-cn') ? 1 : 0;\r\n    const [selectedIndex, setSelectedIndex] = useState(indexInit);\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const handleCloseProfile = index => async event => {\r\n        if (index === selectedIndex) {\r\n            return;\r\n        }\r\n        setAnchorEl(null);\r\n        await i18next.changeLanguage(lngOptions[index])\r\n        userProfile['lng'] = lngOptions[index]\r\n        reactLocalStorage.setObject(tokenId, userProfile)\r\n        setSelectedIndex(index)\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                 aria-haspopup=\"true\"\r\n                 onClick={handleClick}\r\n             >\r\n                 <TranslateIcon  style={{color: fontColor}} />\r\n                 <p style={{color: fontColor}} >{options[selectedIndex].toUpperCase()}</p>\r\n                 <DownIcon style={{color: fontColor}} />\r\n             </Button>\r\n             <Menu\r\n                 id=\"simple-menu\"\r\n                 anchorEl={anchorEl}\r\n                 keepMounted\r\n                 open={Boolean(anchorEl)}\r\n                 onClose={handleClose}\r\n              >\r\n                  {options.map((option,index) => (\r\n                      <MenuItem\r\n                          key = {option}\r\n                          selected = {index === selectedIndex }\r\n                          onClick={handleCloseProfile(index)}\r\n                          value = {index}\r\n                      >\r\n                        {option}\r\n                      </MenuItem>\r\n                  ))}\r\n             </Menu>\r\n        </>\r\n    )\r\n}\r\n\r\nLanguageBtn.propTypes = {\r\n    classes: PropTypes.object\r\n};\r\n\r\nexport default LanguageBtn;\r\n","import React, { Component } from 'react';\r\nimport fullLogo from './imgs/sparkLink.jpg';\r\nimport sLogo from './imgs/sparkLink.png';\r\nimport './App.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { createTheme, withStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar'\r\n//import ChooseWalletDialog from './ChooseWalletDialog'\r\nimport { Dialog, DialogContent, DialogTitle, List, ListItem, ListItemAvatar, ListItemText } from \"@material-ui/core\"\r\nimport { GithubOutlined, WalletOutlined, WalletTwoTone, WalletFilled } from '@ant-design/icons';\r\nimport Web3 from 'web3';\r\nimport metamaskpic from './imgs/metamask.png'\r\nimport TPpic from './imgs/TP.png'\r\nimport { CenterFocusStrong, WallpaperOutlined, Web } from '@material-ui/icons';\r\nimport isMobile from './isMobile';\r\nimport { icons } from 'antd/lib/image/PreviewGroup';\r\nimport LanguageBtn from './LanguageBtn';\r\nimport { withTranslation } from 'react-i18next';\r\n//字符串常量\r\nconst TOKENPOCKET = \"TokenPocket\";\r\nconst METAMASK = \"MetaMask\";\r\nconst LASTCONNECT = \"lastConnect\";\r\nconst USERADDRESS = \"userAddress\"\r\n\r\n//TP钱包支持\r\nvar tp = require('tp-js-sdk');\r\n\r\nconst theme = createTheme({\r\n  breakpoints: {\r\n    values: {\r\n      xs: 300,\r\n      sm: 400,\r\n      md: 900,\r\n      lg: 1200,\r\n      xl: 1536,\r\n    },\r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n});\r\n\r\n\r\n//todo theme传参无用\r\nconst styles = theme => ({\r\n  icon: {\r\n    [theme.breakpoints.down('xl')]: {\r\n      fontSize: 19,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 27,\r\n    },\r\n  },\r\n  titleGrid: {\r\n    marginTop: 25,\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n  },\r\n  titleToken: {\r\n    fontSize: 22,\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 15,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 15,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 22,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 25,\r\n    },\r\n  },\r\n  title: {\r\n    fontSize: 25,\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 45,\r\n    },\r\n  },\r\n  btnGrid: {\r\n    // marginTop: 25,\r\n    marginBottom: 10,\r\n    minWidth: 400,\r\n    maxWidth: 800,\r\n    marginTop: 30,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n\r\n    // backgroundColor: '#e3f2fd',\r\n    [theme.breakpoints.between('xs','sm')]: {\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n    },\r\n  },\r\n  dialog: {\r\n    textAlign: 'center'\r\n  },\r\n  btnImg: {\r\n\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 20,\r\n      width: 100,\r\n\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n\r\n      width: 150,\r\n\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n\r\n      width: 150,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n\r\n      width: 150,\r\n\r\n    },\r\n  },\r\n  btnWallet: {\r\n    color: '#424949',\r\n    borderColor: '#e3f2fd',\r\n    textAlign: 'center',\r\n    fontSize: 15,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 20,\r\n      width: 100,\r\n      height: 100,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 22,\r\n      width: 155,\r\n      height: 155,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 22,\r\n      width: 155,\r\n      height: 155,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 28,\r\n      width: 155,\r\n      height: 155,\r\n    },\r\n  },\r\n  btnUser: {\r\n    color: '#424949',\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 15,\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 15,\r\n      width: 80,\r\n      height: 40,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 15,\r\n      width: 100\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 15,\r\n      width: 200\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 22,\r\n    },\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderColor: '#e3f2fd',\r\n    \r\n    fontSize:22,\r\n    [theme.breakpoints.down('xs')]: {\r\n      fontSize: 14\r\n    },\r\n    [theme.breakpoints.between('xs','sm')]: {\r\n      fontSize: 12\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n    },\r\n  },\r\n  logo: {\r\n    objectFit: 'contain',\r\n    content: 'url('+fullLogo+')',\r\n    width: '160px',\r\n    height: '40px',\r\n    [theme.breakpoints.down('sm')]: {\r\n      content: 'url('+sLogo+')',\r\n      width: '50px'\r\n    },\r\n    [theme.breakpoints.between('sm', 'lg')]: {\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n    },\r\n  }\r\n\r\n});\r\n\r\nclass TopBar extends Component {\r\n\r\n  state = {\r\n    isConnected: '',\r\n    userAddress: '',\r\n    accountInfo: '',\r\n    dialogOpen: false,\r\n    wallet: '',\r\n  };\r\n\r\n\r\n\r\n  async componentWillMount() {\r\n    //todo 从本地获取登陆状态（登陆记录）\r\n    let lastConnect = localStorage.getItem(LASTCONNECT)\r\n    console.log(\"lastconnect:  \" + lastConnect)\r\n    if (lastConnect === null) {\r\n      this.setState({\r\n        isConnected: false,\r\n      });\r\n    }\r\n    else if (lastConnect === METAMASK) {\r\n      this.checkMetaMask();\r\n    }\r\n    else if (lastConnect === TOKENPOCKET) {\r\n      this.checkTokenPocket();\r\n    }\r\n\r\n\r\n\r\n    // //在Web端仅检测小狐狸登陆状态\r\n    // if (!isMobile) {\r\n    //   this.checkMetaMask()\r\n    // }\r\n    // //在手机端先检测TP\r\n    // else {\r\n    //   tp.getCurrentWallet().then(value => {\r\n    //     const account = await value.data.address;\r\n    //     if (account.length == 0) {\r\n    //       this.setState({\r\n    //         isConnected: true\r\n    //       });\r\n    //     } else {\r\n    //       console.log(accounts)\r\n\r\n    //       this.setState({ accountInfo: account.substring(0, 5), });\r\n    //       this.setState({\r\n    //         isConnected: true\r\n    //       });\r\n    //       localStorage.setItem(USERADDRESS, account);\r\n    //     }\r\n\r\n    //     // })\r\n\r\n    //   })\r\n    // }\r\n\r\n\r\n    // if (Web3.givenProvider) {\r\n    //   //console.log(Web3.givenProvider)\r\n    //   //let w3 = new Web3(window.ethereum);\r\n    //   let w3 = new Web3(window.web3.currentProvider);\r\n    //   const accounts = await w3.eth.getAccounts();\r\n    //   if (accounts.length == 0) {\r\n    //     this.setState({\r\n    //       isConnected: false\r\n    //     });\r\n    //   } else {\r\n    //     console.log(accounts)\r\n    //     var account = accounts[0]\r\n    //     this.setState({ accountInfo: account.substring(0, 5), });\r\n    //     this.setState({\r\n    //       isConnected: true\r\n    //     });\r\n    //     localStorage.setItem(\"userAddress\", account);\r\n    //   }\r\n    //   console.log(Web3.givenProvider);\r\n    //   console.log(this.state.isConnected)\r\n    // }\r\n  }\r\n\r\n  //check小狐狸账户\r\n  checkMetaMask = async () => {\r\n    if (Web3.givenProvider) {\r\n      //console.log(Web3.givenProvider)\r\n      //let w3 = new Web3(window.ethereum);\r\n      let w3 = new Web3(window.web3.currentProvider);\r\n      const accounts = await w3.eth.getAccounts();\r\n      console.log(\"accounts: \" + accounts)\r\n      if (accounts.length == 0) {\r\n        this.setState({\r\n          isConnected: false\r\n        });\r\n      } else {\r\n        console.log(accounts)\r\n        var account = accounts[0]\r\n        console.log(\"account: \" + account);\r\n        this.setState({ accountInfo: account.substring(0, 5), });\r\n        this.setState({\r\n          isConnected: true\r\n        });\r\n        this.setState({ userAddress: account });\r\n        //localStorage.setItem(USERADDRESS, account);\r\n        localStorage.setItem(LASTCONNECT, METAMASK)\r\n      }\r\n      console.log(Web3.givenProvider);\r\n      console.log(this.state.isConnected)\r\n    }\r\n\r\n  }\r\n\r\n  //check TP账户\r\n  checkTokenPocket = async () => {\r\n    await tp.getCurrentWallet().then(value => {\r\n      const account = value.data.address;\r\n      if (account.length == 0) {\r\n        this.setState({\r\n          isConnected: false\r\n        });\r\n      } else {\r\n        //console.log(accounts)\r\n        this.setState({ accountInfo: account.substring(0, 5), });\r\n        this.setState({\r\n          isConnected: true\r\n        });\r\n        //localStorage.setItem(USERADDRESS, account);\r\n        this.setState({ userAddress: account });\r\n        localStorage.setItem(LASTCONNECT, TOKENPOCKET);\r\n      }\r\n\r\n      // })\r\n\r\n    })\r\n\r\n  }\r\n\r\n\r\n  //点击使用tokenpocket\r\n  handleSelectTokenPockect = () => {\r\n    this.getTokenPocketAccount()\r\n    this.setState({\r\n      dialogOpen: false,\r\n    });\r\n\r\n  }\r\n\r\n  //点击使用MetaMask\r\n  handleSelectMetaMask = () => {\r\n    this.getMetaMaskAccount()\r\n    this.setState({\r\n      dialogOpen: false,\r\n    });\r\n  }\r\n\r\n  handleDialogOpen = () => {\r\n    this.setState({\r\n      dialogOpen: true,\r\n    })\r\n  }\r\n\r\n  handleDialogClose = () => {\r\n    this.setState({\r\n      dialogOpen: false,\r\n    })\r\n  }\r\n\r\n  sleep = async (ms) => {\r\n    return new Promise((resolve) => setTimeout(resolve, ms));\r\n  }\r\n\r\n\r\n  //获取MetaMask用户地址\r\n  getMetaMaskAccount = async () => {\r\n    try {\r\n      //const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      const accounts = await window.web3.currentProvider.request({ method: 'eth_requestAccounts' })\r\n      const account = accounts[0];\r\n      alert('您已经连接metamask, 当前账户： ' + account)\r\n      this.setState({ isConnected: true, });\r\n      this.setState({ userAddress: account });\r\n      //localStorage.setItem(USERADDRESS, account);\r\n      localStorage.setItem(LASTCONNECT, METAMASK);\r\n    } catch (error) {\r\n      console.debug(error)\r\n      this.setState({ isConnected: false, });\r\n    }\r\n  }\r\n\r\n  //获取TokenPocket用户地址\r\n  getTokenPocketAccount = async () => {\r\n    if (this.state.isConnected) {\r\n      alert('您已经连接tokenpocket, 当前账户： ' + this.state.userAddress)\r\n    }\r\n    else {\r\n      try {\r\n        //todo 使用TP链接\r\n        let account;\r\n        await tp.getWallet({ walletTypes: ['matic'], switch: false }).then(\r\n          value => {\r\n            account = value.data.address;\r\n          }\r\n        )\r\n        alert('您已经连接tokenpocket, 当前账户： ' + account)\r\n        this.setState({ isConnected: true, });\r\n        this.setState({ userAddress: account });\r\n        //localStorage.setItem(USERADDRESS, account); //储存用户address\r\n        localStorage.setItem(LASTCONNECT, TOKENPOCKET); //储存上次登陆的信息\r\n      } catch (error) {\r\n        console.debug(error);\r\n        this.setState({ isConnected: false });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  //登陆后点击token按钮\r\n  handleTokenButtonOnClick = () => {\r\n    let string = localStorage.getItem(LASTCONNECT);\r\n    if (string === METAMASK) this.getMetaMaskAccount();\r\n    else if (string === TOKENPOCKET) this.getTokenPocketAccount();\r\n  }\r\n\r\n  //logout\r\n  //todo 未做登出\r\n  disconnect = () => {\r\n    this.setState({ isConnected: false });\r\n    //localStorage.removeItem(USERADDRESS);\r\n    localStorage.removeItem(LASTCONNECT);\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n\tconst { t } = this.props\r\n    return (\r\n      <div>\r\n        <Dialog className={classes.dialog} onClose={this.handleDialogClose} open={this.state.dialogOpen}>\r\n          <DialogTitle className={console.title}>\r\n            <Typography component=\"h1\" color=\"inherit\" noWrap className={classes.title} >\r\n              Connect Wallet\r\n            </Typography>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container spacing={1}>\r\n              <Button size=\"large\" className={classes.btnWallet} id='MetaMask' onClick={this.handleSelectMetaMask} >\r\n                <img className={classes.btnImg} src={metamaskpic}></img>\r\n              </Button>\r\n              <Button size=\"large\" className={classes.btnWallet} onClick={!isMobile ? this.handleSelectMetaMask : this.handleSelectTokenPockect}>\r\n                <img className={classes.btnImg} src={TPpic}></img>\r\n              </Button>\r\n            </Grid>\r\n            <Grid>\r\n              <Typography component=\"h1\" color=\"inherit\" style={{ textAlign: 'center' }} noWrap className={classes.title} >\r\n                . . .\r\n              </Typography>\r\n            </Grid>\r\n          </DialogContent>\r\n\r\n\r\n\r\n        </Dialog>\r\n\r\n        <Toolbar>\r\n          <Grid container direction=\"row\" justifyContent=\"space-between\" wrap=\"nowrap\"  >\r\n            <Grid item className={classes.titleGrid} >\r\n                <a href='/#/'  className={classes.logo} />\r\n            </Grid>\r\n            <Grid item className={classes.btnGrid}>\r\n              <Button size=\"medium \" className={classes.btn} href='/#/' >\r\n                <b>{t('index')}</b>\r\n              </Button>\r\n              <Button size=\"medium\" className={classes.btn} href='/#/introPublish'>\r\n                <b>{t('publish')}</b>\r\n              </Button>\r\n              <Button size=\"medium\" className={classes.btn} href='/#/collections'>\r\n                <b>{t('collection')}</b>\r\n              </Button>\r\n              <Button size=\"small\" href='https://github.com/SparkNFT' target=\"_blank\">\r\n                <GithubOutlined className={classes.icon} />\r\n              </Button>\r\n\t\t\t          <LanguageBtn />\r\n              {this.state.isConnected ? (\r\n                // <Button onClick={this.getAccount}>\r\n                //   <WalletTwoTone className={classes.icon} />\r\n                // </Button>\r\n                <Button size=\"small\" variant=\"contained\" className={classes.btnUser} onClick={this.handleTokenButtonOnClick}>\r\n                  <Typography component=\"\" color=\"inherit\" noWrap className={classes.titleToken}>\r\n                    {this.state.userAddress.substring(0, 6)}...{this.state.userAddress.substring(this.state.userAddress.length - 5, this.state.userAddress.length)}\r\n                  </Typography>\r\n                </Button>\r\n              ) : (\r\n                // <Button onClick={this.getAccount}>\r\n                //   <WalletFilled className={classes.icon} />\r\n                // </Button>\r\n                <Button variant=\"contained\" className={classes.btnUser} onClick={this.handleDialogOpen}>\r\n                  <Typography component=\"\" color=\"inherit\" noWrap className={classes.titleToken}>\r\n                    <b> Connect Wallet</b>\r\n                  </Typography>\r\n                </Button>\r\n              )}\r\n              {/* <Button onClick={this.disconnect}> akdalk</Button> */}\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(TopBar));\r\n/*\r\ntodo\r\n目前TP兼容仅作TopBar上的登陆，未处理其他交互的TP支持；\r\n界面未做logout操作，disconnect函数已写完；\r\nconnect Wallet界面UI待更改；\r\n*/\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAIQUExURUxpcQCm8gCm8gCm8gBa3gCm8gBa3gCm8gCm8wCm8gBa3gBa3QCn8wBa3gBa3gBa3gBb3gBa3QCn8wBa3gBa3QBa3gBo4gBa3gBa3gBa3QBb3gBa3gBa3QBa3gBa3QBa3QCn8wCl8gCn8wBa3gBa3QBa3gBa3gCm8gBa3QBa3gBa3gBa3gBb3gBa3gBa3QBa3gBa3gBa3gBa3gBa3gBa3QBb3gCn8wBa3gBa3QBa3gCl8gBZ3gBb3gBa3ABa3gBa3QBa3QBa3QBb3gBa3QBa3QBa3gBz5ABa3QBa3QBa3QBa3gBa3gBa3gBa3QBa3gCm8gBa3QCm8gCm8gBa3gBa3QBa3QBb3gCm8gBb3gBa3gBa3QBa3QBa3gBa3QBa3Quh8ACm8gCm8gCm8gCn8gCm8gCn8gCm8gCm8gBb3gCm8gBa3QBa3QBa3gCm8gCn8gCl8gBb3gBa3gBa3QCm8gCm8hGp8gBV3ABO2wOq8wdw4wBU3BSl8ABT2w+09Adq4gmt8wBa3QBa3QCm8gBa3gBb3gBa3ACn8gBb3QCl8gCn8wCm8wet8xGh7wBV3ABV2wBb3ABW3BGi7weu8xGi8ABZ3Qyx9BGh8Aes8wBT2wBV3Qau9AuP7ABW3QuQ7ABU3BCg7wBb3wBZ3Ayy9ASo8wCl8wuP6wBT2gBc3gas8wet9AuW7gJ/6A+29Q2W7BCi7wau8+4odCsAAACBdFJOUwDcCK2l4CemGGJb5Kb6+eSl/Nz0YeAByi1q7qmldFi6YqbgFTIX1+P9t7ogS0NWvZgbC4848XMe4/fhLxK6GV7R6YcJr8IGboONPEDOocSE7N9oKgp3nasEZZMP59skPHz2nxRdVP2wZ4awEVwTThpQTsabc2n8V3Oj3ObgEyferPQFEasAABqcSURBVHja7Fpbjx1HEc6DLWEQ0lreYAc7FopjK1YugGOEQhAkzo2QPJgIIsL1mbvgkav6VPX0zOzVNgrCspQ8IMET/EW6vq+qZ3afmLMSC9LprHbn3JyuqarvUn0ee2yzNmuzNmuzNmuzNmuzNmuzNmuzNmuzNmuzNmuz/t/Xl+9c3rpy5cyZK1tbV+oF1pnpzxb+nDmzxef4cAt/Ln/h7TtPbr/zo+u3/hfi+P7NrJoE/yXRlPA7i+SElbPmVJ+oP0kkac6pJCn2Qn3VPnrhldffvnr7Z6cdyNOv2nbVdlU3XIoFhSv7bSHYrkWKWHzF3lpDzFnsDVrjYEDy6m++9+uvnmogLz9u+6ibsttuV5lRqWjdvWVJtOasbjeLBYKslPpyfbrlEPfiwg9fvP3d0wvk0uM1ANsmdmM7j435zWaOSrbdW6Fx75aLkpE9+6xFWP87//mfXzu9QOrmxbZUy6Vu0qoGReWhIaJkTWNZSqgq+4CiFsVrstZfZhtdfOJrpxeIcN92l62TxapLsfHaCZaO1AoIWfO0WXlZcdXeQc0xVnn3iVunEwhaxKuqZO4MVSVsmeRvsKxYSqzFkcL6g7LTTLBrObz43GdOpdlZ9A5egra3igcAZ2ydf2vKooUK6ww58PLzYBUxvv/F/3ogf/ytEmC91mtYbJJcuDNyDJOmKCWxUiLPeN5YbRZzsVar/+KNT554Z7/41ScWrD/8+Pd/TsRZS4ZDMKikJkIZgPLuIyIkzYIsKc3gN9tbc6SsXp+/8+aJwnjzJ9/6ytm2njp+8dTRp8+e/dPvzu+h7pM0SkAEFZ1K1IthcEaRRc2hn9RrUqgMrNgc4ZCrm8+eJJBfrrC6la8Bj7qhPTkMqx6XeNTvPJBHNQpLhSAWIpeXvXjzEJDBiULUja5yMrXnM9E5slTkxvMnCOS9ukFu0f70vt+uRTFYaB7WYIHck73kaCtoa9a7akQVkWU8xxYAvonLGuNDYfJy49MK3DndfWH9QM61W2+bb4nB5i0xfDYCq4Hslr3k2BM6UdENCSqLzFJss6x/wnEtNbZM9icFNEQEk0ydltKF7RMF0vF+d1ZGs1Ci6PBSxLhzL+2neX9EOFkIwiXoxKNjlanO8kU5wzJrsfH9L22fIJCuH2aJ6FlrVlKehA6RINBV/3A3HcY2CMJiheL7g7A9smVKS00h89H42riwOLOqePwXvr5uIN0wdp2nBQ3Rjb1tvu+tRcZ+HNgkeMJKKx0WyhF0SLFdGxmA8rQBETRxyV543kmkFftoIURrLbmi6qSEd3z2uZP0iEcyAKTma5iV2Gho8BfrkeRyBGzXyHHiyCZT6hYL0wczxl4vrjcFbkwc0UKfyaeeXjMjrY+jD4ZxtRoZwlif8+aonV+vayBpP0c1wE4F8KjbxaQNZB2X1LWLRIACcVb1L2g/IlcmS29cWy8j1gs99j2sAmzr7V9NMTRKqZHtfKj703a9jBSkKIGpIHQzueXA+og0A77I/IzxkBMNH0pUHqTAT19bJxCLoOuZgd72v/LLbqzo24+eqKEDEFce+fiRdWZdtE5QVFZgtksQRxUkIpS5BruFQGvcbxa4ECoKlbFpRkPi+sDeygFA+sZaGQm2mDE899we92T6Cmir8X5tdleEDYQcPNVFbW1fRDOJxKg/db8FUs+4dvgLu0/Uu/D8ms1+nDna6h10EUjnqLVnfk9LKV7wzS6WEIREXA1DJfGD7Vu7WJoyhxPqnRNIYfIyv3J9XWY39TEeCaTrjpMjKm7nXjmMeYP1ukD1GhHSy3IOBBUl4mkJeSymQzTcvg0ocsQH9ocmswrMZXlxfc4psJv2b1hFmbVajXOGt5/7H+qeBqOhMaqmLwjHOqdYYRVBsdjdtWvCNBrGHSI/LZi8WKGhFiWx6ewt+aVL68MvmwA7HhqBVEDr/bVh1UrLwYmuxOJgVWSfDcmM06FG6AI1UTS76Ocj1164NHrMfKfcPEmPBMb2807pJ9o3eKtaa89nbF4zuTGBaNNSFbhyUB1jkBDF1IoGDlr8xeyspHgLivX8C2ur31Vj9/qXCSBazaTYQNEIQiDvSVwlJAalYsJdc3C7h6muxWo1iZtHuq7kdtghzRrLPvjGa4t5JNqjUsU4hQPABVDVTgGJ2MO+wi8J0aoF/MH7ngFcJRAY/SEF40ezIilzOEdthrlRCEcCGmrKMlKsVovo0pScY0P3EcxcYZlsRJjO8ZUca0Y+3tecji6IR5KgOumLDxmgjnmPUzqwd2W3Ym4rxcdjHGkYsilB7+atxaXVN7neuYin3GVqer4hjNUD3W9jkKQlO5+hWEKBiJusBq0qrvo1OqvJSgTpPS8+0FCTBs/cXhYIOI/3vHOQXbXguuN2vgZS9vM0SATmEmxno+BZahBbKbjtmbFmTu4hVLK6gWe/iDbvoun99eC3rzg79E4mMCOdmRHnlqG6L8Plng5x8rmi3rgcH9Y9HsQuc2Cv+8gMAiyeMjQV84e5V6LABx4IRq93ry92iP0RWdJE73HbW3lmvP+g7IXZ9j73sQiCasyhKaYTMouaylhmsiUGY4KDCFabQlOm/NY6PNLP9z2EvIoXR1p3M1YPdI81RFciU8GHV9eJ5NyvQOIjdz6ThxyjJT6IeWTimQvsJmS+vLFMooC+2d7DXP5OGepX05P3jdlzaQ5w8t+ZOITOZXjqSiWOrsJfecMArMSaXQjXlSCbUbPfd19eJuPZ4l3vveCcwt4YyefOlPX3zm7NiNMwnZGJPY6BCLtZHY8xT+FwRVzwZ3U/ZnegwKloSBf3xGGKa2KfeWthj/jt7ttsa2J6ophrr2p2Vw93yyH9VNEUSiVcaqRH04H7cs8BqkfjsMRJP2ef/HoMNvUDpyaf26fLi3tkcGZ3/OqOjrW6btWGd251m1XPDvwx0QlRMpsI5WmUZbSdp/MTH6p4eISCuDv24rsLDrPOjQ2zmkzsVz77bWjWdxHUP3b/fugjg0LLpzF+19zMfG7D+KyNcHDrxSfYfOwaLKaqR0RzVQFf+uYSHulIfoPz+dAP1CMIyAXjlCIMsQm3cUhltKwxe8zR1x5PTYEeqB44OGtwkLpuVsIXB5bwv37Ehf/J9qLS6hs+zYda3TDOpsChweAQ2aAFY1BynFN4hrCClmSVqOQolqbPoC8jA9pOvhzQJEAQYPLi0h7pHITnQIvSgmGfCUkYK4MbllHMF1vTYCivOaaKdO94veoONawVHxt5PmenwSw28XbC+17/9mLUmldQP83shqaLvel3fNKYeSTgzqSIc7S3sE+GfcaurfG5SzeRNPQyE9EycQj/rYvXFohGM+mjN4r7kA5uquPQ0dpmFVTZP/xnFY3WyFb29dYX1nZJ2SW59z6MSmwVbhD7F7Oz5u2V4AsOgRYoAYKUofSUP3h2WWkNRxLStYlvVSbjEf/Y9/fvlb3SiD3gNWN4GAJEIh853IbMiscnKjG+z+Fa1LW0zIZhn760KJCOIr5frfwsoXPwbWK+a6q+9shfsW2jZevroGp+Q4jH6Ur1WJz3JYdC8a89YExMNlc/2+K9oIizzwu+d5DeWSpRiFNt3tsNzo0+iOhaSDu7dvQmXv5s9zZjJKTGgbrPHyccsrlPZuHkKKY4Bp4Yth3G2Remri7yIwMmuzzLoTUffVzXcZw9TSX6yuyH9c4Tce1kIPP2CorJropRQAlZaF94ssMSSo/cBhIkEwzjYvCSxRGZ7sT+8fTBIh7pjllBiKrpYLebHZWMdj5SNLXDTNtgaYaRwtc1xpGBKflQ0NlNwuRw7kpTr+3kV90sby/JSFh26qp2+ztHYX/BAeDhvbzfcDXqhpOpkmJQkuMLBdPRSUmcIkKXaZpbsFIkTApG9iG+rPWf/M/9yMAWmI3haHB7wK7nxE7i8GA0qwuNiyLH6YKE16NoCtJQnSoeeUt+Po0vPVCpzY6IpB035tYskr+zCLXG+eS678iBY8yIPGV0wL35kSqerLINstQHDBCRxiqFhz6ZRyLu/cQVVe0sFNEBWdF5RmeH3Zwh0w9YaNtLUKubnb5NEjgGjMOqSS177V8fpcPUBqVu2HUOOXG8LnFmnWJMNOMS1dC6mmffDkzzsxS7/GAhav3NemCayMcQe+ydF2NA1K/uf5Qe2T7wnUX3TSXuaMmlaS6e7xrcYqdh/pwqcpmRJI/daGdykzIot6vLBnRUh8fX0GziMJv9QmuJz3igPIIzCMhxBIqDQZ67c9zr36eZOgdMkmHs/RilTMn7N3tX/iPHUYU7icRIycaWMXFILNuyZEJwCHYUQozAChGCQMA5iFAk7ht+RNz82FNVXd2z9s7aG3xh7CTGgXD8j3S973uvapwg2VKvVT9MaRKvVqPV1NTx3vuO14T8nr4b8KFjJjWgEBmzkoXeyV3BxnVySi6MAVG+bT0fywDCuZXyFsVTJA+Euep+Ug7e63RlAVP8cFoqg6ZIy7OUO2Tfx+8+jR+0LBlyYYs9lu9lIo3Y2bhtSBXGVjVm9oW2keeBV1EkJ+qVZgulYIi5m8txJP3hF5+6q+u3wEizGKXLhEkny6Rby2957hlPVIuwr/HsXlU08o2nHeY1l3dRLwLk/V5LE8Z6yms81Y/fvHOw8VvlNCRZwRSGuWZbWiTifZeksJKsTm786CEqlezRS9IoZIK3C8x7aoELKWTkB42hpQqCSjSJg97EE3dRWP3wx30m3QbLDRfYYVL/dri4qNcas19n0UvycK9lFHnncTlixHc7xhZcX0DtTVEQHKpiWQYJME5rxsAtKfL6Z+9cfXrg52/+8oEPG29+klUWMS8mKVd32q3oIapOTI7X6yeH6aL+8ORK5DbwhVIwRkchqmGuvOwilF4AMe5K9HT//xm/lYvMVgYwXUfGCmchyRogCATYLhR6YFmOyGACWddaGeiL0klushj0nnDB5bjo9n+jmWDMlGxXakEqrZTGqzbZGYUriWAQNXPLUsspUZLFQul30ZlizVAtjX8qwVFitf3SJGrgGQ5FCd4N3eL9i24bsO74kZZR9vpSQnXkXhHuRupwwMPA6Dxw0/EeixBsoBjGkkUW6oSWHL8Tf/DAZCtiKKMW8wJim04j0RrY+xG1hQu6a7QE1lCtiuXWKx0BvgdXlaqZmSXEKCXkoWaqiejh6IkH9+Ot9fZWm+XLlvB5nnJn0c0ZuqBRLwuwPYOfV57OtQaGyXlLp759/NhEExm6D0g1+1SzW1Cw75axoXVWALZ0K0XRxkrqgQ0UeYJ8xrGyksjjovb48dFpRPAz0NIdyeth0XeDJI1bEiMc+ScmWiqNjfJhhR7w4Hjg44n4IQL/ZphXdVMKJlH/hHOBIeVQM9XWMiUKIIlU/l4VmZOuRmCgJtSp5gTnSDivqAJNR5dl5CGFDOetfGFgxTXw3DPNZFtrRazZqYBZCvUYLGkyrqelFpaliqQfrii6AgOFTgQZvp6nKMm/ZMOCkJ1pJttaqhTooHhKVfClsymOwMOjx1tBORgSlvh18MCJqIIFhiiv4FP+rrK/aMsrkBHfP/65J5+eaCIbHQU14Eg7kWkjjZcPHqC18AA6g/IIMIoFCGW9nG7JfRNcghpeUC8HPJGcSZIURNImKWFIx+zIVIalGfD3xYKSAdPGbwdHSsrn+jpKdhIQVdTugpRYwR8VpRZUolbDDgY03hpgJA43E24tK0y6eRaebXPDO7jzEsEUBUOh7cJZVFGRLw0iwkSnxQum9M1YuEFzAanbK99tJlyRntj2nKm8TGQrtvk40wCjsYxgvNd3uLbUe1CXlX9tmaPWiaocDE8+2Ey5Ir2K+0Utn9L6qwCxkcYnQtkHANOetgOnRhfkVkqMeuoF2xgprMVxCQReQzo0DvEy4V0npvOMzoyDG4oL+MJZf8UT9tdcXMWaXlXATnHqtrhq4RQV5MRRaWa+MgWylV9w+z7bTLgiQ6nUIvWT4oiPWALU2pKKQI4IZ6LzqhRnEhKx70WMjcpQhY7MxABDjkn1UimUZ5sJJzKoRaHUB0FlqjZjWMCM0dCiTwmoiEQ+wJMQNNJQYUDxcFRRkNK74+S//4kpJ5Ixh141Kt1887wX6g3RcPxsy/QFC/BoYC4uYwImlpuM0xrfHOwGi7jdvBn+lPby7f5fN5NPZIVCHBfo/fPtOe+zz9MxvjnP5ETvMzpDmMPENovkIdB23qxJbdpShOzkXV8/MPFEyikQNSL1VioYEBfFAGp6ZL2HIT4tyBtCJ5T8+VbxOvJfcvue+Goz6UQWheRUCqtukQorl8GHoPUS7ljTMxKJd8HgBS0TDZO3FY1kEW0XhkeebyaeyHwhadZCFTXjOfl7UmJ7yPsBuqcjr9eQ0DkBV6h2g3CZmKNhRHIWZsGeWjuHkJ5MAC++3Ew8kVXdFuurzR1/Jcs2bic1dF0EPBA5HzRqAkFCI0GMxeWsmOYT3Mdx/+GJ59EclaOhgWQguZBWBK4DbB0rSULhc9XkxGxHPmcjWiN7SwFQYpKb3/fY1PNIhZVB2WqESTw73QqOoo0MPqC3gOowuSS8mZRcUOOPgETMMZmziDh930uTz6PZ0Hng0GNpEoe4RSsr4Z5AvkCA3qBNU1SolMTxWCucjpTqqwSHakex9EmB4h6efj2Q/WZicSiUD6E4vdxLrXh1ikMjLURaaG+cV97EIaLgRk4zMw2wbNPnXmh2ZSJEULLIY8AZoUPaiXbOUTkDXrxgQ/OH9OYOQTuC7JMJ6gaX7Xfq07sxj2bDjIgqRRF1EHItgwwIlgSJhhEbLAeUUqepEnKztDuTnSNKvvKFXZnHmDQOC5SGHUyXSbW1+OeN9pxku0nNkCR/jrXJMiW56sr3quPinSaClWiFr+SaSaMSaLlI4N13dqvVSxFHFtmSuHkxnoP7RnXvgXYimmCM8AgmLlFVRglvGXpN+Pi1jzW7NTaAm1DYAY1HNyTGyvjOoK4QGqkZNwApxJAbCKhlPVq/FLWWiG7Y7Tn4xq7NAyuSZRFEsVMcMY6vVUKtZXsUb1ZpUHBi31GRXNZlKZQVmW89+mCzi2NWSghEVpPK982LbsuzEwoDdXT4RdojguGiR5IY3oMRBaBPIyxMcvUGKOvaJw7tbn+qmVVVJb0wBsRt8EoED5V4Vn2jZ9Gn6KfFFlc4xukLS0v4yKGnmt0ds15Mo0Nh3+tSzS6sbjD4B3l6wKZRehNIm+ge4eXFSWpzPxeBHtv9v3ls99tSzTpKnFaq9qs32i3PGG0yAEliYzbYu6AC0vTdR+ZkPveKwNo9ceaeND+aCd3edSZpFHmgsLohqEAxOsfMEMISmKbNZA93tPRAg+IdNvZxHR9+9OTh55t7MmbW5aUwUqMvCjDzwI4PPqp9p822PV7EuXGNKelceO0rJ3917N61B5vNV7g3hnepEDXDDRACWqsmSXcFHREN8J5XPnX8yPEj4zh++vjp08dPHDxz8msvfebYF798T9tpzVTub+qzbj6n6RhhzyGGgOBJZ3fZmsIsHaNTzzc1jNnQUfQEByJqrKsX3TUyNmxCsUR1qGJq7X8QfDz1gzomouqNXqx8Ha7iMSCeK4t0Z1Qz+1N4JlDjrx76SCUTKeWBgzVBctekzYbq3Q24QgGC1iKAtPbWMZGNFQRl6KVZBxq8sBiJ0hpBIQYIloJaMMZRy4r0qe1D12URR8ogJUUxUT5BUu4z3F6SKArCWMlEjqqaTsW/BB/U0WOwocLQ2QCCkryaFaGLZMWVuEhbK1piVfSUoz6pEMe6eg77vOg9wBW5MG4tlztiSv1UkCNGZKXzXstEBuvJkTyjyFP6zZ32HPoAEp+L0aH9ASQxYsJNcxxTyr21bK3e/GLWBSJF9m3jdL01OAtqFnbsg5Zur4q2ViclSbfo1RDXX9j5xzUBRYI2VaawBuUGSTXgWw9VE0dKjw8tltTGOzNRsfUvLDGu6M/hatlaR0Xb1AnVLk5EmdalHX9Fep2gFxj1vMGcMK2AVVKE1HJrbaj+BE0nu2FI1iusSEA9EqPLoGfBrwXIZCrKtUSG3Wceccx+b7itJZouRqOh2CbEjLdoAhwqOux6yLPyX1WmSyNqTagYHOXVUI611Vy/g9xZQ1bMjrkX+JFAiRh9htShqGoXsv/xn2qSRnQMQ3TvMxy0DZLABZ8biVgLOuuRUlH225X+sX6w3kHbVO0HU8UaPI3DE2gj3ltRipKt+uxVlTrV3GbzogpTG/sFlTTEmibSoe2DOHcHenWvJaZKG824FWteyrGWVBB4X88ZyZG9186sZHUDO8tF6jiS3ho+48AnKFR0RnKzVus90I251hjZqdJ1UVss8mEXPhTdTGuayLxsz4wfEq1gfjzA1JBlRm0DgWifTk0tpW4vLE+vPA/Ovhx2EQQEKdGjNiZmGx4PYX8Su/u9Fa3IgFYc0r9NgC05I2gTYA8e8F4b02RiLVYUEMe7imoUcSCnhr90hkbzDqvyzwf2NmuVbquo1O1u8+9Ksbt53m2FLL+m2l/6lann23p/17O1uttkpqKNf3s70eu0S3innVyg76d8VNzEVZ2R3LoGXQfmmzupHuGjHQAFRe1NmmXVIitzFU1kkVsEck4XxHbBpwgxGHrt5gACy+tTX6qpENXO01soSYbKsO3Q+6AtGhOLzp+qXa8PgagHfNA2Z11ubLF59q3tWLSW9G2p00fTKZU7fO+NWm6t+W2tnlLLnZ233nsrj3fS6x0m7ubnhlDTnXqmkjPygSctjCf+5qV/X758+b3rly9fuXz9yvXx3/H1h8/v+ZDx+Lebem6tIRtDBzHD9Dcv/evW327xNY6/3rr13z//8cEPjhdebmqZiBVVfdENv7/5l2K8O77e/c/vm5rHrGgjUoDyMLwib+nlv77/U90Tyf21oA3KnYBXrK9dP/9d3RPRR8T0RVnSF8j8YE9XqXwi7BlkON2K5FSILO2o+7nKJ1I031npoFlU8kDp657IhsFZZtnt+tyxNRFAA/XmdW+tB4w3LNsA991Kl3n870dVT+RVba+FozCwRUpX6OXZmuMXP6t6Ij/9yev33cH46H2vv3p/sx7rsR7rsR7rsR7rsR7rsR7rsR7/2ygYBaNgFIyCUUAAAAB6870Joa5QcgAAAABJRU5ErkJggg==\"","import books from './imgs/books.png';\r\nimport './App.css';\r\nimport React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport TopBar from './TopBar';\r\nimport { withTranslation } from 'react-i18next';\r\nimport LanguageBtn from './LanguageBtn';\r\nconst styles = theme => ({\r\n  title: {\r\n    fontFamily: 'Teko',\r\n    marginTop: '25%',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 100,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 150,\r\n    },\r\n  },\r\n  title2: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 15,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 55,\r\n    },\r\n  },\r\n  title3: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 8,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 15,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 45,\r\n    },\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  titleFont: {\r\n    fontFamily: 'Teko',\r\n  },\r\n  btnMain: {\r\n    // marginTop: theme.spacing(3),\r\n    color: '#FFFFFF',\r\n    borderColor: '#e3f2fd',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  btnSecond: {\r\n    // marginTop: theme.spacing(3),\r\n    color: '#03A9F4',\r\n    borderColor: '#03A9F4',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(7),\r\n    textAlign: 'center'\r\n  },\r\n  container: {\r\n    maxWidth: '100%'\r\n  },\r\n  books: {\r\n    width: '90%',\r\n    height: 'auto'\r\n  }\r\n});\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#FDFEFE',\r\n    },\r\n    secondary: {\r\n      main: '#2196f3',\r\n    }\r\n  },\r\n});\r\n\r\nclass App extends Component {\r\n  render() {\r\n\tconst { t } = this.props;\r\n    const { classes } = this.props\r\n    return (\r\n      <div>\r\n\r\n        <ThemeProvider theme={theme}>\r\n          <div className={classes.page}>\r\n            <TopBar />\r\n            <Container component=\"main\" className={classes.container}>\r\n              <div className={classes.paper}>\r\n                <Grid container justifyContent=\"center\" >\r\n                  <Grid item style={{ minWidth: '50%' }}>\r\n                    <Typography color=\"inherit\" noWrap className={classes.title} >\r\n                      <b>SparkLink</b>\r\n                    </Typography>\r\n                    <Typography color=\"inherit\" noWrap className={classes.title2}>\r\n                      <b>{t('index_slogan')}</b>\r\n                    </Typography>\r\n                    <Typography color=\"inherit\" noWrap className={classes.title3}>\r\n                      {t('index_slogan_bottom')}\r\n                    </Typography>\r\n\r\n                  </Grid>\r\n                  <Grid item xs={5} >\r\n                    <img src={books} className={classes.books} />\r\n                  </Grid>\r\n                  <Grid container justifyContent=\"center\" spacing={5} >\r\n                    <Grid item >\r\n                      <Button size=\"large\" variant=\"contained\" color=\"secondary\" className={classes.btnMain} href='/#/introPublish'>\r\n                        <b>{t('go_publish')}</b>\r\n                      </Button>\r\n                    </Grid>\r\n                    <Grid item >\r\n                      <Button size=\"large\" variant=\"outlined\" color=\"secondary\" className={classes.btnSecond} href='/#/buy'>\r\n                        <b>{t('go_buy')}</b>\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </div>\r\n            </Container>\r\n          </div>\r\n        </ThemeProvider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default  withTranslation()(withStyles(styles, { withTheme: true })(App));","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n//todo ","import Web3 from 'web3';\r\nvar web3;\r\ntry {\r\n  //web3 = new Web3(window.ethereum);\r\n  web3 = new Web3(window.web3.currentProvider);\r\n  // web3 = new Web3(new Web3.providers.HttpProvider('https://matic-mainnet--jsonrpc.datahub.figment.io/apikey/e84b63fff0e37deb30837101f20eb793/'))\r\n} catch (error) {\r\n  web3 = new Web3('ws://localhost:8546');\r\n}\r\nexport default web3;","import web3 from './web3';\r\n\r\nconst address = '0xb42d4525841008A69E427026DF354067fD6A524f'; // rinkeby 0x7B5B92B0eD1DfeafdbD724b177A7733Bda67497F\r\nconst abi = [\r\n  {\r\n    \"inputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"constructor\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"approved\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"Approval\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"operator\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"approved\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"name\": \"ApprovalForAll\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"receiver\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"amount\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"name\": \"Claim\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"transfer_price\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"name\": \"DeterminePrice\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"transfer_price\",\r\n        \"type\": \"uint128\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"DeterminePriceAndApprove\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"string\",\r\n        \"name\": \"content\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"name\": \"Label\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"issue_id\",\r\n        \"type\": \"uint32\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"publisher\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"rootNFTId\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"token_addr\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"Publish\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"bytes32\",\r\n        \"name\": \"old_URI\",\r\n        \"type\": \"bytes32\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"bytes32\",\r\n        \"name\": \"new_URI\",\r\n        \"type\": \"bytes32\"\r\n      }\r\n    ],\r\n    \"name\": \"SetURI\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"from\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"Transfer\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"acceptShill\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"approve\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"balanceOf\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"claimProfit\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"_price\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"name\": \"determinePrice\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"_price\",\r\n        \"type\": \"uint128\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_to\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"determinePriceAndApprove\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"getApproved\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getDepthByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getEditionIdByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"pure\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getFatherByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getIssueIdByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"pure\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [],\r\n    \"name\": \"getLossRatio\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint8\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint8\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"pure\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getProfitByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getRemainShillTimesByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint16\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint16\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"getRootNFTIdByIssueId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"pure\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"getRoyaltyFeeByIssueId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint8\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint8\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getShillPriceByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"getShillTimesByIssueId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint16\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint16\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"getTokenAddrByIssueId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getTokenAddrByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"getTotalAmountByIssueId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getTransferPriceByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"operator\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"isApprovedForAll\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"isEditionExisting\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"isIssueExisting\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"isRootNFT\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"pure\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"internalType\": \"string\",\r\n        \"name\": \"content\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"name\": \"label\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [],\r\n    \"name\": \"name\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"string\",\r\n        \"name\": \"\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"ownerOf\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"_first_sell_price\",\r\n        \"type\": \"uint128\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint8\",\r\n        \"name\": \"_royalty_fee\",\r\n        \"type\": \"uint8\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint16\",\r\n        \"name\": \"_shill_times\",\r\n        \"type\": \"uint16\"\r\n      },\r\n      {\r\n        \"internalType\": \"bytes32\",\r\n        \"name\": \"_ipfs_hash\",\r\n        \"type\": \"bytes32\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_token_addr\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"publish\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"from\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"safeTransferFrom\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"from\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"bytes\",\r\n        \"name\": \"_data\",\r\n        \"type\": \"bytes\"\r\n      }\r\n    ],\r\n    \"name\": \"safeTransferFrom\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"operator\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"approved\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"name\": \"setApprovalForAll\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"internalType\": \"bytes32\",\r\n        \"name\": \"ipfs_hash\",\r\n        \"type\": \"bytes32\"\r\n      }\r\n    ],\r\n    \"name\": \"setURI\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"bytes4\",\r\n        \"name\": \"interfaceId\",\r\n        \"type\": \"bytes4\"\r\n      }\r\n    ],\r\n    \"name\": \"supportsInterface\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [],\r\n    \"name\": \"symbol\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"string\",\r\n        \"name\": \"\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"tokenURI\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"string\",\r\n        \"name\": \"\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"from\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"transferFrom\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  }\r\n]\r\n\r\nexport default new web3.eth.Contract(abi, address);","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport { blue } from '@material-ui/core/colors'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { message } from 'antd'\r\nimport { InboxOutlined } from '@ant-design/icons'\r\nimport Dragger from 'antd/lib/upload/Dragger'\r\nimport { CloudUploadOutlined } from '@ant-design/icons'\r\n// import CloudUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport { Input, InputNumber, Select, Spin } from 'antd'\r\nimport 'antd/dist/antd.css'\r\nimport TopBar from './TopBar'\r\nimport axios from 'axios'\r\nimport contract from './contract'\r\nimport web3 from './web3'\r\nimport ReactLoading from 'react-loading'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport * as tokens from './tokens_list.json'\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nconst {\r\n  pinata_api_key,\r\n  pinata_secret_api_key,\r\n} = require('./project.secret.js')\r\n\r\nconst FormData = require('form-data')\r\nconst bs58 = require('bs58')\r\nconst { Option } = Select\r\nconst abi = require('erc-20-abi')\r\n\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      width: '60%'\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 500\r\n    },\r\n  },\r\n  titleCon: {\r\n    marginTop: 50,\r\n    fontFamily: 'Ubuntu',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 30\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      fontSize: 40\r\n    },\r\n  },\r\n  paperImg: {\r\n    backgroundColor: '#EFEBE9',\r\n    width: 330,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: '5%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '30%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '30%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '40%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '45%',\r\n      marginTop: 30,\r\n    },\r\n  },\r\n  titlePub: {\r\n    marginTop: \"3%\",\r\n    fontFamily: 'Ubuntu',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 30\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      fontSize: 40\r\n    },\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: blue[500],\r\n    width: 60,\r\n    height: 60\r\n  },\r\n  form: {\r\n    width: '150%',\r\n    marginTop: theme.spacing(7),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  fileBtn: {\r\n    padding: '10px 30px 10px 30px',\r\n    background: '#66C1E4',\r\n    border: 'none',\r\n    color: '#FFF',\r\n    boxShadow: '1px 1px 1px #4C6E91',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    fontSize: 20,\r\n    borderRadius: 25,\r\n    color: '#FFFFFF',\r\n    backgroundColor: '#2196f3'\r\n  },\r\n  input: {\r\n    height: 40,\r\n    borderRadius: 3,\r\n    width: '100%',\r\n  },\r\n  inputNum: {\r\n    height: 40,\r\n    borderRadius: 3,\r\n    width: '100%',\r\n    fontSize: 20,\r\n  }\r\n})\r\n\r\n\r\nclass Publish extends Component {\r\n  state = {\r\n    name: '',\r\n    bonusFee: 0,\r\n    price: 0,\r\n    buffer: null,\r\n    ipfsHashCover: '',\r\n    ipfsMeta: '',\r\n    fileIpfs: '',\r\n    description: '',\r\n    shareTimes: 0,\r\n    onLoading: false,\r\n    rootNFTId: '',\r\n    usedAcc: '',\r\n    sig: '',\r\n    fileType: '',\r\n    finished: false,\r\n    coverURL: '',\r\n    data: [],\r\n    token_addr: null,\r\n    token_symbol: 'MATIC',\r\n    decimal: 0,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\tconst { t } = this.props;\r\n    if (!window.ethereum) {\r\n      alert(t('please_install_metamask'))\r\n      window.location.href = '/#/introPublish'\r\n      return\r\n    }\r\n    // const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n    if (chainId !== '0x89') {\r\n      alert(t('please_set_polygon'))\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n  }\r\n\r\n  handleGetPubName = (event) => {\r\n    this.setState({\r\n      name: event.target.value,\r\n    })\r\n  }\r\n\r\n  handleGetBonusFee = (value) => {\r\n    this.setState({\r\n      bonusFee: value,\r\n    })\r\n  }\r\n\r\n  handleGetPrice = (value) => {\r\n    this.setState({\r\n      price: value,\r\n    })\r\n  }\r\n\r\n  handleGetShareTimes = (value) => {\r\n    this.setState({\r\n      shareTimes: value,\r\n    })\r\n  }\r\n\r\n  handleGetDescription = (e) => {\r\n    this.setState({\r\n      description: e.target.value,\r\n    })\r\n  }\r\n\r\n  handleSearch = async (value) => {\r\n    if (value) {\r\n      var value = value.toLowerCase()\r\n      var tokens_list = tokens.tokens\r\n      var matched_data = []\r\n      let reg = new RegExp(value)\r\n      for (let token of tokens_list) {\r\n        var symbol_lower_case = token.symbol.toLowerCase()\r\n        var showed_text = `\\\"${token.symbol}\\\"` + \"   \" + token.address\r\n        var info = {\r\n          value: token.address,\r\n          text: showed_text\r\n        }\r\n        if (reg.test(symbol_lower_case) && !matched_data.includes(info)) {\r\n          matched_data.push(info)\r\n        }\r\n      }\r\n      if (value.includes('0x') && value.length == 42) {\r\n        var info = {\r\n          value: value,\r\n          text: value\r\n        }\r\n        matched_data = [info]\r\n      }\r\n      this.setState({\r\n        data: matched_data\r\n      })\r\n    } else {\r\n      this.setState({ data: [] })\r\n    }\r\n  }\r\n\r\n  handleSelectChange = async (value) => {\r\n\tconst {t} = this.props\r\n    var tokens_list = tokens.tokens\r\n    let address\r\n    let token_symbol\r\n    let token_decimal\r\n    for (let token of tokens_list) {\r\n      if (value === token.address) {\r\n        address = value\r\n        token_symbol = token.symbol\r\n        token_decimal = token.decimals\r\n      }\r\n    }\r\n    if (token_symbol == undefined) {\r\n\r\n      try {\r\n        const token_contract = new web3.eth.Contract(abi, value)\r\n        token_symbol = await token_contract.methods.symbol().call()\r\n        token_decimal = await token_contract.methods.decimals().call()\r\n        address = value\r\n      } catch (error) {\r\n        message.error(t('error_no_erc20'))\r\n      }\r\n\r\n    }\r\n    // console.debug(token_symbol)\r\n    this.setState({\r\n      token_addr: address,\r\n      token_symbol: token_symbol,\r\n      decimal: token_decimal\r\n    })\r\n\r\n  }\r\n\r\n  submit = async (event) => {\r\n\t  \r\n    /*TODO: call smart contract publish() and wait for publish success event\r\n     * then call backend to get a secret key. Then encrypt the pdf file and upload it to IPFS\r\n     * Finally, form a new metadata json file and send its ipfs hash to backend and publish it\r\n    */\r\n    let obj = this\r\n    if (this.state.price === 0 || this.state.bonusFee === 0 || this.state.shareTimes === 0 || this.state.ipfsHashCover === '' || this.state.fileIpfs === '' || this.state.token_addr === null) {\r\n      message.error({\r\n        content: \"你有信息尚未填写\",\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    } else {\r\n\r\n      this.setState({\r\n        onLoading: true\r\n      })\r\n      var img_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.ipfsHashCover\r\n      this.setState({\r\n        coverURL: img_url\r\n      })\r\n      console.debug(\"coverURL: \", this.state.coverURL)\r\n      var trimmed_des = this.state.description.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, \" \")\r\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      const account = accounts[0]\r\n      this.setState({\r\n        usedAcc: account\r\n      })\r\n      var file_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.fileIpfs\r\n      var JSONBody = {\r\n        \"name\": this.state.name,\r\n        \"description\": trimmed_des,\r\n        \"image\": this.state.coverURL,\r\n        \"attributes\": [\r\n          {\r\n            \"display_type\": \"boost_percentage\",\r\n            \"trait_type\": \"Bonuse Percentage\",\r\n            \"value\": this.state.bonusFee\r\n          },\r\n          {\r\n            \"trait_type\": \"File Address\",\r\n            \"value\": file_url\r\n          },\r\n          {\r\n            \"value\": this.state.fileType\r\n          },\r\n          {\r\n            \"trait_type\": \"Encrypted\",\r\n            \"value\": \"FALSE\"\r\n          }\r\n        ]\r\n      }\r\n\r\n      const url = `https://api.pinata.cloud/pinning/pinJSONToIPFS`\r\n\r\n      try {\r\n        const response = await axios.post(url, JSONBody, {\r\n          headers: {\r\n            pinata_api_key: pinata_api_key,\r\n            pinata_secret_api_key: pinata_secret_api_key\r\n          },\r\n        })\r\n        console.debug(\"metadata: \", response.data.IpfsHash)\r\n        const bytes = bs58.decode(response.data.IpfsHash)\r\n        const bytesToContract = bytes.toString('hex').substring(4,)\r\n        this.setState({\r\n          ipfsMeta: bytesToContract\r\n        })\r\n\r\n        var price_with_decimal = this.state.price * (10 ** this.state.decimal)\r\n        price_with_decimal = price_with_decimal.toString()\r\n        console.debug(\"price_with_decimal: \", price_with_decimal)\r\n        var ipfsToContract = '0x' + bytesToContract\r\n\r\n        var gasPrice = await web3.eth.getGasPrice()\r\n        var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n        contract.methods.publish(price_with_decimal, this.state.bonusFee, this.state.shareTimes, ipfsToContract, this.state.token_addr).send({\r\n          from: this.state.usedAcc,\r\n          gasPrice: new_gas_price\r\n        })\r\n          .on('receipt', function (receipt) {\r\n            console.log(receipt)\r\n            var publish_event = receipt.events.Publish\r\n            var returned_values = publish_event.returnValues\r\n            var root_nft_id = returned_values.rootNFTId\r\n            var issue_id = returned_values.issue_id\r\n            obj.setState({\r\n              onLoading: false,\r\n              rootNFTId: root_nft_id,\r\n              issueId: issue_id,\r\n              finished: true\r\n            })\r\n            message.success({\r\n              content: \"已经成功发布作品\",\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n          })\r\n          .on('error', function (error) {\r\n            obj.setState({\r\n              onLoading: false,\r\n            })\r\n            if (error.message.includes('not mined')) {\r\n              message.warning({\r\n                content: \"交易已提交，当前网络较拥堵，请稍等后去我的收藏中查看\",\r\n                className: 'custom-class',\r\n                style: {\r\n                  marginTop: '10vh',\r\n                },\r\n              })\r\n            } else {\r\n              console.debug(error.message)\r\n              message.error({\r\n                content: `Error: ${error.message}`,\r\n                className: 'custom-class',\r\n                style: {\r\n                  marginTop: '10vh',\r\n                },\r\n              })\r\n            }\r\n          })\r\n\r\n\r\n      } catch (error) {\r\n        console.debug(error)\r\n        message.error({\r\n          content: `似乎遇到了些小问题： ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  checkDetail = async (event) => {\r\n    var new_url = '/#/NFT/' + this.state.rootNFTId\r\n    window.open(new_url, '_self')\r\n  }\r\n\r\n  render() {\r\n\tconst { t } = this.props\r\n    const { classes } = this.props\r\n    let obj = this\r\n    const { TextArea } = Input\r\n    const options = this.state.data.map(d => <Option key={d.value}>{d.text}</Option>)\r\n    const prop = {\r\n      name: 'file',\r\n      action: `https://api.pinata.cloud/pinning/pinFileToIPFS`,\r\n      headers: {\r\n        pinata_api_key: pinata_api_key,\r\n        pinata_secret_api_key: pinata_secret_api_key\r\n      },\r\n      data: this.state.buffer,\r\n      beforeUpload: file => {\r\n        return new Promise((resolve, reject) => {\r\n          try {\r\n            const reader = new FileReader()\r\n            reader.readAsArrayBuffer(file)\r\n            reader.onload = (e) => {\r\n              var b = e.target.result\r\n              let params = new FormData()\r\n              params.append('file', b)\r\n              this.setState({\r\n                buffer: params\r\n              })\r\n            }\r\n            resolve()\r\n          } catch (e) {\r\n            message.error('Read file error')\r\n            reject()\r\n          }\r\n        })\r\n      },\r\n      async onChange(info) {\r\n        const { status } = info.file\r\n        // text/plain image/jpeg application/pdf\r\n        if (status === 'done') {\r\n          message.success(`${info.file.name} file uploaded successfully.`)\r\n          obj.setState({\r\n            ipfsHashCover: info.file.response.IpfsHash\r\n          })\r\n\r\n        } else if (status === 'error') {\r\n          message.error(`${info.file.name} file upload failed.`)\r\n        }\r\n      },\r\n      onDrop(e) {\r\n        message.error(`Only image file supported`)\r\n        console.log('Dropped files', e.dataTransfer.files)\r\n      },\r\n    }\r\n\r\n    const propFile = {\r\n      name: 'file',\r\n      action: `https://api.pinata.cloud/pinning/pinFileToIPFS`,\r\n      headers: {\r\n        pinata_api_key: pinata_api_key,\r\n        pinata_secret_api_key: pinata_secret_api_key\r\n      },\r\n      data: this.state.buffer,\r\n      beforeUpload: file => {\r\n        return new Promise((resolve, reject) => {\r\n          try {\r\n            const reader = new FileReader()\r\n            reader.readAsArrayBuffer(file)\r\n            reader.onload = (e) => {\r\n              var b = e.target.result\r\n              let params = new FormData()\r\n              params.append('file', b)\r\n              this.setState({\r\n                buffer: params\r\n              })\r\n            }\r\n            resolve()\r\n          } catch (e) {\r\n            message.error('Read file error')\r\n            reject()\r\n          }\r\n        })\r\n      },\r\n      async onChange(info) {\r\n        const { status } = info.file\r\n        // console.debug(typeof info.file.type)\r\n        // text/plain image/jpeg application/pdf\r\n        if (status === 'done') {\r\n          message.success(`${info.file.name} file uploaded successfully.`)\r\n          var file_type = info.file.name.split('\\.')\r\n          var file_suffix = file_type[file_type.length - 1]\r\n          console.debug(file_suffix)\r\n          console.debug(\"file ipfs hash: \", info.file.response.IpfsHash)\r\n          obj.setState({\r\n            fileIpfs: info.file.response.IpfsHash,\r\n            fileType: file_suffix\r\n          })\r\n\r\n\r\n        } else if (status === 'error') {\r\n          message.error(`${info.file.name} file upload failed.`)\r\n        }\r\n      },\r\n      onDrop(e) {\r\n        message.error(`Only image file supported`)\r\n        console.log('Dropped files', e.dataTransfer.files)\r\n      },\r\n    }\r\n\r\n\r\n    // if (this.state.onLoading) {\r\n    //   return (\r\n    //     <div>\r\n    //       <ThemeProvider theme={theme}>\r\n    //         <TopBar />\r\n    //         <div style={{ marginLeft: '35%', marginTop: '10%' }}>\r\n    //           <ReactLoading type={'bars'} color={'#2196f3'} width={'40%'} />\r\n    //         </div>\r\n    //       </ThemeProvider>\r\n    //     </div>\r\n    //   )\r\n    // } else \r\n    if (this.state.finished) {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <div style={{ textAlign: 'center' }}>\r\n              <Typography className={classes.titleCon}>\r\n                <b>{t('pulish_success')}</b>\r\n              </Typography>\r\n\r\n              <Paper className={classes.paperImg}>\r\n                <img style={{ width: 300, marginTop: 20, marginBottom: 50 }} src={this.state.coverURL}></img>\r\n              </Paper>\r\n              <Typography variant=\"h4\" style={{ marginTop: 20, fontFamily: 'Ubuntu' }}>\r\n                <b>{t('you_gain_nft')} #{this.state.rootNFTId}</b>\r\n              </Typography>\r\n\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                style={{ marginTop: 50, width: 200, height: 50, marginBottom: 50 }}\r\n                onClick={this.checkDetail}\r\n              >\r\n                {t('show_detail')}\r\n              </Button>\r\n            </div>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    } else {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large' style={{marginTop: 1000}}>\r\n\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <Container component=\"main\" maxWidth=\"xs\" className={classes.main}>\r\n              <div className={classes.paper}>\r\n                {/* {showLoading()} */}\r\n                <Typography className={classes.titlePub}>\r\n                  <b>{t('art_info')}</b>\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                  <Grid container spacing={2}>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginBottom: 10 }}>{t('art_name')} <span style={{ color: \"red\"}}>*</span></label>\r\n                      <Input\r\n                        placeholder={t('art_name')}\r\n                        allowClear\r\n                        id=\"pubName\"\r\n                        onChange={this.handleGetPubName}\r\n                        value={this.state.name}\r\n                        className={classes.input}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('fit_rate')} <span style={{ color: \"red\"}}>*</span></label>\r\n                      <p style={{ fontSize: 14 }}>{t('fit_rate_tip')}</p>\r\n                      <InputNumber\r\n                        id=\"bonusFee\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        max={100}\r\n                        formatter={value => `${value}%`}\r\n                        parser={value => value.replace('%', '')}\r\n                        onChange={this.handleGetBonusFee}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('access_coin')} <span style={{ color: \"red\"}}>*</span></label>\r\n                      <p style={{ fontSize: 14 }}>{t('access_coin_tip')}</p>\r\n                      <Select\r\n                        showSearch\r\n                        value={this.state.token_addr}\r\n                        placeholder={t('please_input_coin')}\r\n                        // className={classes.input}\r\n                        style={{ width: \"100%\" }}\r\n                        size=\"large\"\r\n                        defaultActiveFirstOption={false}\r\n                        showArrow={false}\r\n                        filterOption={false}\r\n                        onSearch={this.handleSearch}\r\n                        onChange={this.handleSelectChange}\r\n                        notFoundContent={null}\r\n                      >\r\n                        {options}\r\n                      </Select>\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('price')} ({this.state.token_symbol})<span style={{ color: \"red\"}}>*</span></label>\r\n                      <InputNumber\r\n                        id=\"price\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        onChange={this.handleGetPrice}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('max_share')} (MAX： 65535)<span style={{ color: \"red\"}}>*</span></label>\r\n                      <p style={{ fontSize: 14 }}>{t('max_share_tip')}</p>\r\n                      <InputNumber\r\n                        id=\"shareTimes\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        max={65535}\r\n                        onChange={this.handleGetShareTimes}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }} >\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('art_desc')} <span style={{ color: \"red\"}}>*</span></label>\r\n                      <p style={{ fontSize: 14 }}>{t('art_desc_tip')}</p>\r\n                      <TextArea\r\n                        rows={6}\r\n                        id=\"Description\"\r\n                        onChange={this.handleGetDescription}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                  <label style={{ fontSize: 18, marginTop: 50 }}>{t('pic_cover')} <span style={{ color: \"red\"}}>*</span></label>\r\n                  <p style={{ fontSize: 14 }}>{t('pic_cover_tip')}</p>\r\n                  <Dragger {...prop} style={{ width: '100%', minHeight: 200 }} id=\"Uploader\" accept=\".png, .jpg, .jpeg\" >\r\n                    <p className=\"ant-upload-drag-icon\">\r\n                      <InboxOutlined />\r\n                    </p>\r\n                    <p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n                    <p className=\"ant-upload-hint\">\r\n                      {t('upload_file_tip2')}\r\n                    </p>\r\n                  </Dragger>\r\n\r\n                  <label style={{ fontSize: 18, marginTop: 50 }}>{t('art_file')} <span style={{ color: \"red\"}}>*</span></label>\r\n                  <p style={{ fontSize: 14 }}> {t('art_file_tip')}</p>\r\n                  <Dragger {...propFile} style={{ width: '100%', minHeight: 200 }} id=\"Uploader2\" >\r\n                    <p className=\"ant-upload-drag-icon\">\r\n                      <InboxOutlined />\r\n                    </p>\r\n                    <p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n                    <p className=\"ant-upload-hint\">\r\n                      {t('upload_file_tip2')}\r\n                    </p>\r\n                  </Dragger>\r\n                </form>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  className={classes.button}\r\n                  startIcon={<CloudUploadOutlined />}\r\n                  style={{ marginTop: 50, width: 200, height: 50, marginBottom: 50 }}\r\n                  onClick={this.submit}\r\n                >\r\n                  {t('submit')}\r\n                </Button>\r\n              </div>\r\n            </Container>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\n\r\nexport default  withTranslation()(withStyles(styles, { withTheme: true })(Publish))\r\n//todo 涉及交易\r\n","export default __webpack_public_path__ + \"static/media/poster.d78136d7.png\";","export default __webpack_public_path__ + \"static/media/imgloading.2250a670.png\";","import React, { useRef, useEffect } from 'react';\r\nimport bgImg from './imgs/poster.png'\r\nimport loading from './imgs/imgloading.png'\r\nimport QRCode from 'qrcode';\r\n\r\n\r\n\r\n\r\nconst Poster = (props) => {\r\n  \r\n  let {str,share, coverImg, coverHeight, coverWidth} = props;\r\n  //coverImg = document.getElementById('cover')\r\n  \r\n  const splited = str.split(' ')\r\n  let price = splited[0]\r\n  let currency = splited[1]\r\n  const imgRef = useRef(null)\r\n  useEffect(() => {\r\n    function draw(ctx,dataUrl){  \r\n      \r\n      let qrcode = new Image()\r\n      qrcode.onload=function(){\r\n        ctx.drawImage(qrcode, 307,331,73,73)\r\n        coverImg.crossOrigin = 'anonymous'\r\n        ctx.drawImage(coverImg, ...getImgPos(coverHeight, coverWidth))\r\n        \r\n      }\r\n      qrcode.src = dataUrl\r\n\r\n      let bg = new Image()\r\n\r\n      bg.onload=function(){\r\n        ctx.drawImage(bg, 0, 0,424,600)\r\n      }\r\n      bg.src = bgImg\r\n\r\n      \r\n      \r\n      \r\n      ctx.font = \"18px serif\";\r\n      ctx.fillText(price, 122, 384)\r\n      ctx.font = '12px serif'\r\n      ctx.fillText(currency,210,382)\r\n      \r\n      ctx.strokeRect(30,50,364,260)\r\n    }\r\n    function getPixelRatio (context) {\r\n      const backingStore = context.backingStorePixelRatio ||\r\n          context.webkitBackingStorePixelRatio ||\r\n          context.mozBackingStorePixelRatio ||\r\n          context.msBackingStorePixelRatio ||\r\n          context.oBackingStorePixelRatio ||\r\n          context.backingStorePixelRatio || 1;\r\n      return (window.devicePixelRatio || 1) / backingStore;\r\n    };\r\n    function getImgPos(h,w) {\r\n      console.log(h,w)\r\n      const ratio = h/w\r\n      const standardRatio = 260 /364\r\n      if(ratio - standardRatio < 0.01 && ratio - standardRatio > -0.01){\r\n        return [30,50,364,260]\r\n      }else if(ratio > standardRatio){\r\n        const preWidth = 260 * w/h\r\n        const preX = 212 - (preWidth / 2)\r\n        return [preX,50,preWidth,260]\r\n      }else {\r\n        const preHeight = 364 * ratio\r\n        const preY = 180 - (preHeight / 2)\r\n        return [30,preY,364,preHeight]\r\n      }\r\n    }\r\n\r\n    QRCode.toDataURL(share,{ errorCorrectionLevel: 'H', quality:1, margin: 0 }).then((data) => {\r\n      \r\n      const canvas = document.createElement('canvas')\r\n      canvas.width=424\r\n      canvas.height=600\r\n      const ctx = canvas.getContext('2d')\r\n      //const ratio = getPixelRatio(ctx);\r\n      canvas.style.width = canvas.width + 'px';\r\n      canvas.style.height = canvas.height + 'px';\r\n      ctx.globalCompositeOperation = 'destination-over'\r\n      draw(ctx,data)\r\n      \r\n      setTimeout(()=>{\r\n        const dataURL = canvas.toDataURL('image/jpeg',1.0);\r\n        const img = imgRef.current\r\n        img.src=dataURL\r\n      },700)\r\n    })\r\n})\r\n\r\n  return (\r\n    <img alt='poster' width='424' height='600' ref={imgRef}  src={loading} />\r\n  )\r\n\r\n}\r\n\r\nexport default Poster\r\n","import React, { Component } from 'react'\r\n\r\n\r\n\r\nconst MaskLayer = (props) => {\r\n  const styles = {\r\n    modal: {\r\n      position: 'fixed',\r\n      left: 0,\r\n      top: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      backgroundColor: 'rgba(0,0,0,0.3)'\r\n    }\r\n  }\r\n  return (\r\n    <div\r\n      onClick={\r\n        e => {\r\n          console.log('click')\r\n          if(e.target.className === 'MaskLayer'){\r\n            props.onClose()\r\n          }\r\n        }\r\n      }\r\n      className='MaskLayer'\r\n      style = {styles.modal}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MaskLayer\r\n","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TopBar from \"./TopBar\"\r\nimport Poster from './Poster'\r\nimport MaskLayer from './MaskLayer'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { DownloadOutlined, FireOutlined, ArrowLeftOutlined, MoneyCollectOutlined, CopyOutlined, DollarCircleOutlined } from '@ant-design/icons'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport { IconButton, Container } from \"@material-ui/core\"\r\nimport contract from './contract'\r\nimport { Progress, Spin, message } from 'antd'\r\nimport axios from 'axios'\r\nimport web3 from './web3'\r\n\r\n//字符串常量\r\nconst TOKENPOCKET = \"TokenPocket\";\r\nconst METAMASK = \"MetaMask\";\r\nconst LASTCONNECT = \"lastConnect\";\r\n\r\nconst tp = require('tp-js-sdk');\r\nconst FileSaver = require('file-saver')\r\nvar CryptoJS = require(\"crypto-js\")\r\nconst abi = require('erc-20-abi')\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    maxWidth: 1500,\r\n  },\r\n  cbutton: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-end\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"flex-end\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"flex-end\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  btnMain: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#FFFFFF',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 120,\r\n    maxWidth: '20rem',\r\n    minWidth: '10rem',\r\n  },\r\n  btnSecond: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#03A9F4',\r\n    borderWidth: 3,\r\n    borderColor: '#03A9F4',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 120,\r\n    maxWidth: '20rem',\r\n    minWidth: '10rem',\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    maxWidth: 1370,\r\n    // backgroundColor: \"green\"\r\n  },\r\n  imagePapaer: {\r\n\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      backgroundColor: '#EFEBE9', width: 330, marginLeft: 25\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      backgroundColor: '#EFEBE9', width: 340, marginLeft: 25\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, marginLeft: 25\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, marginLeft: 10\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, marginLeft: 10\r\n    },\r\n  },\r\n  imageStyle: {\r\n    objectFit: 'contain',\r\n    // object- fit: cover\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      width: 280,\r\n      height: 365,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      width: 290,\r\n      height: 385,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      width: 300,\r\n      height: 420,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      width: 300,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      width: 300,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n  },\r\n  content2: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: 10, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: 90, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: 80, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: 50, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: 60, maxWidth: 500\r\n    },\r\n  },\r\n  cbutton2: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-end\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  share: {\r\n    fontFamily: 'Teko',\r\n    marginBottom: '10%',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 14,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 18,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 20,\r\n    },\r\n\r\n  }\r\n\r\n\r\n})\r\n\r\n\r\nclass NFTInfo extends Component {\r\n  gateway = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/'\r\n  backend = 'https://api.sparklink.io'\r\n  state = {\r\n    price:'',\r\n    loading: false,\r\n    showDecryptProgress: null,\r\n    decryptPercentage: 0,\r\n    showProgress: false,\r\n    percentage: 0,\r\n    Profit: '',\r\n    account: null,\r\n    loadItem: true,\r\n    Cover: '',\r\n    Name: '',\r\n    Description: '',\r\n    BonusFee: 0,\r\n    childrenNum: 0,\r\n    encrypted: '未知',\r\n    dataUrl: null,\r\n    isEncrypt: false,\r\n    fileType: '',\r\n    spark: false,\r\n    tokenAddr: '',\r\n    tokenSymbol: '',\r\n  }\r\n  async componentDidMount() {\r\n    if (!window.ethereum) {\r\n      alert(\"请先安装metamask\");\r\n      window.location.href = '/#/collections';\r\n      return;\r\n    }\r\n\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' });\r\n    if (chainId !== '0x89') {\r\n      alert(\"请切换至Polygon 主网络\");\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n    \r\n    const price = await contract.methods.getShillPriceByNFTId(this.props.match.params.id).call()\r\n    const owner = await contract.methods.ownerOf(this.props.match.params.id).call()\r\n\r\n    //获取账号\r\n    var account;\r\n    const lastConnect = localStorage.getItem(LASTCONNECT);\r\n    if (lastConnect === METAMASK) {\r\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      account = accounts[0];\r\n    }\r\n    else if(lastConnect === TOKENPOCKET) {\r\n      await tp.getCurrentWallet().then(\r\n        value => {\r\n          account = value.data.address;\r\n        }\r\n      )\r\n      if(account.length === 0){\r\n        await tp.getWallet({ walletTypes: ['matic'], switch: false }).then(\r\n          value => {\r\n            account = value.data.address;\r\n          }\r\n        )\r\n      } \r\n      \r\n    }\r\n    // const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    // const account = accounts[0]\r\n    if (web3.utils.toChecksumAddress(account) !== owner) {\r\n      // alert(\"这枚nft不属于你\");\r\n      message.warning({\r\n        content: \"这枚nft不属于你\",\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n      window.location.href = '/#/';\r\n    }\r\n\r\n    const token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.id).call()\r\n    const res = await contract.methods.getProfitByNFTId(this.props.match.params.id).call()  \r\n    if (token_addr == '0x0000000000000000000000000000000000000000') {\r\n      var price_with_decimal = res / (10 ** 18)\r\n      var profit = price_with_decimal + \" MATIC\"\r\n\r\n      var price_poster = price/(10**18)\r\n      price_poster = price_poster+ 'MATIC'\r\n      this.setState({\r\n        price:price_poster,\r\n        tokenAddr: '0x0000000000000000000000000000000000000000',\r\n        tokenSymbol: 'MATIC',\r\n        Profit: profit\r\n      })\r\n    } else {\r\n      const token_contract = new web3.eth.Contract(abi, token_addr)\r\n      const token_symbol = await token_contract.methods.symbol().call()\r\n      const decimal = await token_contract.methods.decimals().call()\r\n      var price_with_decimal = res / (10 ** decimal)\r\n      var price_poster = price / (10 ** decimal)\r\n      price_poster = price_poster+\" \"+token_symbol\r\n      var profit = price_with_decimal + ` ${token_symbol}`\r\n      this.setState({\r\n        price: price_poster,\r\n        tokenAddr: token_addr,\r\n        tokenSymbol: token_symbol,\r\n        Profit: profit\r\n      })\r\n    }\r\n    const meta = await contract.methods.tokenURI(this.props.match.params.id).call()\r\n    // https://coldcdn.com/api/cdn/v5ynur/ipfs/QmV7s3xrtwxfBa7VDcqHGFKcSjKdLZL7offiC31yM2NSqz\r\n    let hash = meta.split('/');\r\n    const issue = await contract.methods.getIssueIdByNFTId(this.props.match.params.id).call()\r\n    const royalty = await contract.methods.getRoyaltyFeeByIssueId(issue).call()\r\n    var file_hash = hash[hash.length - 1]\r\n    var request_url = \"https://coldcdn.com/api/cdn/v5ynur/ipfs/\" + file_hash\r\n    \r\n    try {\r\n      const res = await axios({\r\n        method: 'get',\r\n        url: request_url,\r\n        timeout: 1000 * 5,\r\n      })\r\n      let data = res.data;\r\n      let bouns = 0;\r\n      let fileAddr = \"\";\r\n      let isEncrypt = false;\r\n      let fileType = data.attributes[2].value\r\n      let encrypted = '未知';\r\n\r\n      for (let i = 0; i < data.attributes.length; i++) {\r\n        if (data.attributes[i].trait_type === \"Bonuse Percentage\") {\r\n          bouns = data.attributes[i].value;\r\n        }\r\n        if (data.attributes[i].trait_type === \"File Address\") {\r\n          fileAddr = data.attributes[i].value;\r\n        }\r\n        if (data.attributes[i].trait_type === \"Encrypted\") {\r\n          if (data.attributes[i].value === \"FALSE\") {\r\n            isEncrypt = false\r\n            encrypted = '否';\r\n          } else {\r\n            isEncrypt = true\r\n            encrypted = '是';\r\n          }\r\n        }\r\n      }\r\n\r\n      this.setState({\r\n        Name: data.name,\r\n        Description: data.description,\r\n        BonusFee: royalty,\r\n        Cover: data.image,\r\n        dataUrl: fileAddr,\r\n        isEncrypt: isEncrypt,\r\n        encrypted: encrypted,\r\n        fileType: fileType,\r\n        loadItem: false\r\n      });\r\n\r\n    } catch (error) {\r\n      this.setState({ Name: 'SparkNFT' });\r\n      this.setState({ Description: '暂时无法获取到该nft的相关描述' });\r\n      this.setState({ BonusFee: royalty });\r\n      this.setState({ Cover: 'https://via.placeholder.com/100x140.png?text=SparkNFT' });\r\n      this.setState({ dataUrl: 'fileAddr_PlaceHolder', loadItem: false, });\r\n    }\r\n\r\n    const leafUrl = this.backend + '/api/v1/nft/info?nft_id=' + this.props.match.params.id\r\n    axios.get(leafUrl).then(res => {\r\n      var children_num = res.data.children_count\r\n      this.setState({\r\n        childrenNum: children_num\r\n      })\r\n    }).catch(error => {\r\n      if (error.response === undefined) {\r\n        message.error({\r\n          content: \"错误：服务器未响应\",\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n        return;\r\n      }\r\n      if (error.response.status === 400 && error.response.data.message.includes(\"children not found\")) {\r\n        console.debug(\"no children\")\r\n      } else {\r\n        message.error({\r\n          content: `获取nft子节点情况页面失败： ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  return = async () => {\r\n    window.location.reload(true)\r\n  }\r\n\r\n  claim = async () => {\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    var gasPrice = await web3.eth.getGasPrice()\r\n    var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n    try{\r\n      await contract.methods.claimProfit(this.props.match.params.id).send({\r\n        from: this.state.account,\r\n        gasPrice: new_gas_price\r\n      })\r\n    } catch (error){\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    } finally {\r\n      this.setState({\r\n        loading: false\r\n      })\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  downloadIPFS = async () => {\r\n    let obj = this\r\n    let dataSplits = this.state.dataUrl.split('/')\r\n    var dataHash = dataSplits[dataSplits.length - 1]\r\n    var dataUrl = this.gateway + dataHash\r\n    this.setState({\r\n      showProgress: true\r\n    })\r\n    if(this.state.isEncrypt){\r\n      var cipher_config = {\r\n        method: 'get',\r\n        url: dataUrl,\r\n        onDownloadProgress(progress) {\r\n          var percentage = Math.round(progress.loaded / progress.total * 100)\r\n          obj.setState({\r\n            percentage: percentage\r\n          })\r\n        }\r\n      }\r\n\r\n      const response = await axios(cipher_config)\r\n      let ciphertext = response.data\r\n      let accounts = await await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      let account = accounts[0]\r\n      let signJSON = {\r\n        account: account,\r\n        root_nft_id: this.props.match.params.id\r\n      }\r\n      signJSON = JSON.stringify(signJSON)\r\n      this.setState({\r\n        showProgress: false\r\n      })\r\n      await this.signDataAndDecrypt(account, ciphertext)\r\n    } else {\r\n      var open_config = {\r\n        url: dataUrl, //your url\r\n        method: 'GET',\r\n        responseType: 'blob', // important\r\n        onDownloadProgress(progress) {\r\n          var percentage = Math.round(progress.loaded / progress.total * 100)\r\n          obj.setState({\r\n            percentage: percentage\r\n          })\r\n        }\r\n      }\r\n      try{\r\n        const response = await axios(open_config)\r\n        const url = window.URL.createObjectURL(new Blob([response.data]))\r\n        const link = document.createElement('a')\r\n        link.href = url\r\n        link.style.display = 'none'\r\n        var suffix = '.' + obj.state.fileType\r\n        var fileName = this.state.Name + suffix\r\n        link.download = fileName\r\n        document.body.appendChild(link)\r\n        link.click()\r\n        document.body.removeChild(link)\r\n        URL.revokeObjectURL(url)\r\n      } catch(error){\r\n        message.error({\r\n          content: `Error: ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      } finally {\r\n        this.setState({ showProgress: false })\r\n      }\r\n    }\r\n  }\r\n\r\n  signDataAndDecrypt = async (signer, ciphertext) => {\r\n    var JSONBody = {\r\n      \"account\": signer,\r\n      \"nft_id\": this.props.match.params.id\r\n    }\r\n    var json_str = JSON.stringify(JSONBody)\r\n    const sig = await web3.eth.personal.sign(json_str, signer)\r\n\r\n    this.setState({\r\n      showDecryptProgress: true\r\n    })\r\n\r\n    var payload = {\r\n      \"account\": signer,\r\n      \"nft_id\": this.props.match.params.id,\r\n      \"signature\": sig\r\n    }\r\n    var payload_str = JSON.stringify(payload)\r\n    var req_key_url = this.backend + \"/api/v1/key/claim\"\r\n    try{\r\n      const res = await axios.post(req_key_url, payload_str, {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n\r\n      if (res.status == 200) {\r\n        let key = res.data.key\r\n        let data = CryptoJS.AES.decrypt(ciphertext, key)\r\n        let plainText = data.toString(CryptoJS.enc.Utf8)\r\n        const wordArray = CryptoJS.enc.Hex.parse(plainText)\r\n        let BaText = this.wordArrayToByteArray(wordArray, wordArray.length)\r\n        var blob = new Blob([BaText])\r\n        let suffix = '.' + this.state.fileType\r\n        FileSaver.saveAs(blob, this.state.Name + suffix)\r\n\r\n      } else {\r\n        var error_msg = res.data.message\r\n        message.error({\r\n          content: `Error: ${error_msg}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  wordToByteArray = (result, word, length) => {\r\n    const lengthBefore = result.length\r\n    const xff = 0xFF\r\n    if (length > 0)\r\n      result.push(word >>> 24)\r\n    if (length > 1)\r\n      result.push((word >>> 16) & xff)\r\n    if (length > 2)\r\n      result.push((word >>> 8) & xff)\r\n    if (length > 3)\r\n      result.push(word & xff)\r\n\r\n    var info = {\r\n      result: result,\r\n      addedLength: result.length - lengthBefore\r\n    }\r\n    return info\r\n  }\r\n\r\n  wordArrayToByteArray = (wordArray, length) => {\r\n    console.debug(\"enter in wordArrayToByte\")\r\n    if (wordArray.hasOwnProperty(\"sigBytes\") && wordArray.hasOwnProperty(\"words\")) {\r\n      length = wordArray.sigBytes\r\n      wordArray = wordArray.words\r\n    }\r\n\r\n    var result = [],\r\n      bytesAdded,\r\n      current_bytes = 0,\r\n      lengthBefore = length,\r\n      i = 0\r\n    while (length > 0) {\r\n      var added_info = this.wordToByteArray(result, wordArray[i], Math.min(4, length))\r\n      result = added_info.result\r\n      bytesAdded = added_info.addedLength\r\n      current_bytes = current_bytes + bytesAdded\r\n      var percent = Math.round(current_bytes / lengthBefore * 100)\r\n      if (percent !== this.state.decryptPercentage) {\r\n        this.setState({\r\n          decryptPercentage: percent\r\n        })\r\n      }\r\n      length -= bytesAdded\r\n      i++\r\n    }\r\n\r\n    return new Uint8Array(result)\r\n  }\r\n\r\n  spark = () => {\r\n    const flag = this.state.spark\r\n    this.setState({ spark: !flag });\r\n  }\r\n\r\n  downloadPoster = (res) => {\r\n    console.log(res)\r\n  }\r\n  render(){\r\n    const {classes} = this.props\r\n    const sell_info = () => {\r\n      let url = window.location.host;\r\n      let toUrl = \"https://\" + url + '/#/NFT/Spark/' + this.props.match.params.id;\r\n      let share = '分享复制链接：' + toUrl;\r\n      // this.state.onSale\r\n      if (this.state.spark) {\r\n        const coverRef = document.getElementById('cover')\r\n        const coverHeight = coverRef.height\r\n        const coverWidth = coverRef.width\r\n        return (\r\n          <div>\r\n            {this.state.spark?(\r\n            <MaskLayer onClose={this.spark}>\r\n              <Poster  str={this.state.price} share={toUrl} coverImg = {coverRef} coverWidth={coverWidth} coverHeight={coverHeight} />\r\n            </MaskLayer>):null}\r\n          \r\n          </div>\r\n        );\r\n      } \r\n    }\r\n\r\n    if (this.state.showDecryptProgress){\r\n      return(\r\n        <Spin spinning={this.state.loading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <div style={{ textAlign: 'center', marginTop: '2%', marginLeft: 40 }}>\r\n              <Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 24 }}>\r\n                <b>正在解密文件</b>\r\n              </Typography>\r\n            </div>\r\n            <div style={{ textAlign: 'center', marginTop: '10%' }}>\r\n              <Progress type=\"circle\" percent={this.state.decryptPercentage} width={200} />\r\n            </div>\r\n            <div style={{ textAlign: 'center' }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                style={{ marginTop: 50, width: 200, height: 50, marginBottom: 50 }}\r\n                onClick={this.return}\r\n              >\r\n                返回信息页面\r\n              </Button>\r\n            </div>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    } else if(this.state.showProgress){\r\n      return(\r\n        <Spin spinning={this.state.loading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <div style={{ textAlign: 'center', marginTop: '2%', marginLeft: 40 }}>\r\n              <Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 24 }}>\r\n                <b>正在下载文件</b>\r\n              </Typography>\r\n            </div>\r\n            <div style={{ textAlign: 'center', marginTop: '10%' }}>\r\n              <Progress type=\"circle\" percent={this.state.percentage} width={200} />\r\n            </div>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    } else {\r\n      return(\r\n        <Spin spinning={this.state.loading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <Container component=\"main\" className={classes.container}>\r\n              <Button\r\n                startIcon={<ArrowLeftOutlined style={{ fontSize: '2rem' }} />}\r\n                href='/#/collections'\r\n                style={{ marginTop: 20, marginBottom: 10, fontSize: '2rem' }}\r\n              >\r\n                回到我的收藏馆\r\n              </Button>\r\n              <Grid container direction=\"row\" justifyContent=\"center\" alignContent=\"flex-start\">\r\n                <Grid container direction=\"row\" className={classes.cbutton}> \r\n\r\n                  <Grid item>\r\n                    <Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 14 }}>\r\n                      <b>目前收益: {this.state.Profit}</b>\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Button style={{ marginTop: 10, marginRight: 30, marginBottom: 20 }} size=\"large\" variant=\"contained\" color=\"primary\" className={classes.btnMain} startIcon={<MoneyCollectOutlined />} onClick={this.claim} >\r\n                      <Typography id=\"isSpark\" variant=\"button\" component=\"h3\" gutterBottom >\r\n                        <font size=\"3\" color='white'>\r\n                          领收益\r\n                        </font>\r\n                      </Typography>\r\n                    </Button>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Button style={{ marginTop: 10, marginBottom: 20 }} size=\"large\" variant=\"outlined\" color=\"secondary\" className={classes.btnSecond} startIcon={<DollarCircleOutlined />} href={'/#/sellSingle/' + this.props.match.params.id}  >\r\n                      <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                        <font size=\"3\">\r\n                          售卖\r\n                        </font>\r\n                      </Typography>\r\n                    </Button>\r\n                  </Grid>\r\n\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <div className={classes.paper}>\r\n                {this.state.loadItem ? (\r\n                  <Grid container className={classes.content} spacing = {5}>\r\n\r\n                    <Grid item xs = {4}>\r\n                      <Skeleton variant=\"rect\" width={300} height={500} style={{ width: 370, marginLeft: 50, marginBottom: 50 }} />\r\n                    </Grid>\r\n\r\n                    <Grid item xs style={{ marginLeft: '5%' }}>\r\n                      <Skeleton animation=\"wave\" variant=\"text\" width={200} height={30} />\r\n                      <Skeleton animation=\"wave\" variant=\"text\" width={400} height={70} />\r\n                      <Skeleton animation=\"wave\" variant=\"rect\" width={500} height={300} style={{ marginBottom: 50 }} />\r\n                    </Grid>\r\n\r\n                  </Grid>\r\n                ):(\r\n                  <Grid container direction=\"row\" justifyContent=\"space-between\" spacing={5} className={classes.content}>\r\n\r\n                    <Grid style={{ maxWidth: 200 }}>\r\n                      <Paper className={classes.imagePapaer}>\r\n                        <img className={classes.imageStyle} src={this.state.Cover} id='cover' ></img>\r\n                      </Paper>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={2}></Grid>\r\n\r\n                    <Grid item className={classes.content2} >\r\n                      <Typography color=\"inherit\" align=\"left\" color=\"textSecondary\" noWrap style={{ fontFamily: 'Teko', fontSize: 16, marginTop: '2%' }}>\r\n                        #{this.props.match.params.id}\r\n                      </Typography>\r\n                      <Typography color=\"inherit\" align=\"left\" noWrap style={{ fontFamily: 'Teko', fontSize: 34, marginTop: '2%' }}>\r\n                        <b>{this.state.Name}</b>\r\n                      </Typography>\r\n                      <Typography align=\"justify\" color=\"textSecondary\" paragraph style={{ marginTop: '2%', maxWidth: '100%', fontSize: 16 }}>\r\n                        {this.state.Description}\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '6%', maxWidth: '100%', fontSize: 24 }}>\r\n                        分红比例: {this.state.BonusFee} %\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n                        当前拥有的子节点数量: {this.state.childrenNum}\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n                        NFT作品是否加密: {this.state.encrypted}\r\n                      </Typography>\r\n\r\n                      <Grid container direction=\"row\" className={classes.cbutton2}>\r\n                        <Grid item>\r\n                          <Button size=\"small\" variant=\"contained\" color=\"primary\" target=\"_blank\" className={classes.btnMain} startIcon={<DownloadOutlined />} onClick={this.downloadIPFS} >\r\n                            <font size=\"3\" color='white'>\r\n                              下载\r\n                            </font>\r\n                          </Button>\r\n                        </Grid>\r\n\r\n                        <Grid>\r\n                          <Button size=\"small\" variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} startIcon={<FireOutlined />} onClick={this.spark} >\r\n                            <font size=\"3\">\r\n                              点火分享\r\n                            </font>\r\n                          </Button>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                )}\r\n              </div>\r\n\r\n              {sell_info()}\r\n            </Container>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    }\r\n  }\r\n\r\n}\r\nexport default withStyles(styles, { withTheme: true })(NFTInfo)\r\n//todo 涉及交易\r\n//account的获取方式做了修改","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport { Button, Grid } from '@material-ui/core'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport TopBar from './TopBar'\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton } from \"@material-ui/core\"\r\nimport { Typography, Paper, Container } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport { DollarCircleOutlined, ArrowLeftOutlined, CopyOutlined } from '@ant-design/icons'\r\nimport { Spin, message } from 'antd'\r\nimport { Input, InputNumber } from 'antd'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport contract from './contract'\r\nimport web3 from './web3'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\n\r\nconst abi = require('erc-20-abi')\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    maxWidth: 1500,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    maxWidth: 1500,\r\n  },\r\n  btnSell: {\r\n    margin: theme.spacing(1),\r\n    fontSize: 16,\r\n    borderRadius: 10,\r\n    borderWidth: 2,\r\n    borderColor: '#2196f3',\r\n    color: '#2196f3',\r\n    marginLeft: '10%',\r\n    width: 100\r\n  },\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  img: {\r\n    width: 300,\r\n    marginBottom: 50,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '30%'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '40%'\r\n    },\r\n  },\r\n  content2: {\r\n    fontFamily: 'Teko',\r\n    textAlign: 'center',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: 90, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: 80, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: 50, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: 60, maxWidth: 500\r\n    },\r\n  },\r\n  share: {\r\n    fontFamily: 'Teko',\r\n    marginBottom: '10%',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 14,\r\n      // width: '5%'\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 18,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 20,\r\n    },\r\n  },\r\n  imgPaper: {\r\n    width: 350,\r\n    marginBottom: 50,\r\n    backgroundColor: '#EFEBE9',\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '30%'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '35%'\r\n    },\r\n  },\r\n  inputNum: {\r\n    height: 40,\r\n    borderRadius: 5,\r\n    width: 550,\r\n    fontSize: 20,\r\n  },\r\n  input: {\r\n    height: 40,\r\n    borderRadius: 5,\r\n  },\r\n})\r\n\r\nclass SellSingle extends Component {\r\n  gateway = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/'\r\n  backend = 'https://api.sparklink.io'\r\n  state = {\r\n    name: '',\r\n    bonusFee: 0,\r\n    coverURL: '',\r\n    description: '',\r\n    price: 0,\r\n    ipfsHashMeta: '',\r\n    open: false,\r\n    toAddress: '',\r\n    NFTId: '',\r\n    onSale: false,\r\n    copied: false,\r\n    onLoading: false,\r\n    owner: '',\r\n    currentAcc: '',\r\n    childrenNum: 0,\r\n    loadItem: true,\r\n    tokenAddr: null,\r\n    tokenSymbol: '',\r\n    decimal: 0,\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n    if (chainId !== '0x89') {\r\n      alert(\"请切换至Polygon 主网络\")\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    const account = accounts[0]\r\n    let obj = this \r\n    this.setState({\r\n      currentAcc: account,\r\n      NFTId: this.props.match.params.NFTId\r\n    })\r\n    const issueId = await contract.methods.getIssueIdByNFTId(this.state.NFTId).call()\r\n    const royalty = await contract.methods.getRoyaltyFeeByIssueId(issueId).call()\r\n    const metadata = await contract.methods.tokenURI(this.props.match.params.NFTId).call()\r\n    let hash = metadata.split('/')\r\n    this.setState({ ipfsHashMeta: hash[hash.length - 1] })\r\n    var url = this.gateway + this.state.ipfsHashMeta\r\n    try {\r\n      const res = await axios({method: 'get', url: url, timeout: 1000*2})\r\n      let content = res.data\r\n      let bonus = content.attributes[0].value\r\n      let encrypted = content.attributes[3].value\r\n      this.setState({\r\n        loadItem: false,\r\n        name: content.name,\r\n        description: content.description,\r\n        bonusFee: bonus,\r\n        coverURL: content.image\r\n      })\r\n    } catch (error) {\r\n      var name_holder = 'SparkNFT#' + this.props.match.params.NFTId\r\n      obj.setState({\r\n        loadItem: false,\r\n        name: name_holder,\r\n        description: '暂时无法获取到该nft的相关描述',\r\n        bonusFee: royalty,\r\n        coverURL: 'https://via.placeholder.com/100x140.png?text=SparkNFT'\r\n      })\r\n      console.debug(error)\r\n    }\r\n\r\n    var owner = await contract.methods.ownerOf(this.props.match.params.NFTId).call()\r\n    var price = await contract.methods.getTransferPriceByNFTId(this.props.match.params.NFTId).call()\r\n    var token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.NFTId).call()\r\n    if(price = '0'){\r\n      this.setState({\r\n        owner: owner.toLowerCase(),\r\n        onSale: false\r\n      })\r\n    } else {\r\n      this.setState({\r\n        owner: owner.toLowerCase(),\r\n        onSale: true\r\n      })\r\n    }\r\n\r\n    if (token_addr == \"0x0000000000000000000000000000000000000000\") {\r\n      this.setState({\r\n        tokenAddr: token_addr,\r\n        tokenSymbol: \"MATIC\",\r\n        decimal: 18\r\n      })\r\n    } else {\r\n      try{\r\n        const token_contract = new web3.eth.Contract(abi, token_addr)\r\n        const token_symbol = await token_contract.methods.symbol().call()\r\n        const decimal = await token_contract.methods.decimals().call()\r\n        this.setState({\r\n          tokenAddr: token_addr,\r\n          tokenSymbol: token_symbol,\r\n          decimal: decimal\r\n        })\r\n      } catch (error){\r\n        message.error({\r\n          content: `Error: ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    }\r\n\r\n    const child_url = this.backend + '/api/v1/nft/info?nft_id=' + this.state.NFTId\r\n    try{\r\n      const res = await axios.get(child_url)\r\n      var children_num = res.data.children_count\r\n      this.setState({\r\n        childrenNum: children_num\r\n      })\r\n    } catch (error) {\r\n      if (error.response === undefined) {\r\n        message.error({\r\n          content: \"错误：服务器未响应\",\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n        return\r\n      }\r\n      if (error.response.status === 400 && error.response.data.message.includes(\"children not found\")) {\r\n        console.debug(\"no children\")\r\n      } else {\r\n        message.error({\r\n          content: `获取nft子节点情况页面失败： ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  handleClickOpen = (e) => {\r\n    this.setState({\r\n      open: true,\r\n    })\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    this.setState({\r\n      open: false,\r\n    })\r\n  }\r\n\r\n  handleGetPrice = (value) => {\r\n    this.setState({\r\n      price: value,\r\n    })\r\n  }\r\n\r\n  handleGetAddr = (e) => {\r\n    this.setState({\r\n      toAddress: e.target.value,\r\n    })\r\n  }\r\n\r\n  handleClickLink = (event) => {\r\n    var new_url = '/#/NFT/' + this.state.NFTId\r\n    window.open(new_url, '_self')\r\n  }\r\n\r\n  sell = async (e) => {\r\n    this.setState({\r\n      open: false,\r\n    })\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\r\n    const account = accounts[0];\r\n\r\n    var price_with_decimal = this.state.price * (10 ** this.state.decimal)\r\n    price_with_decimal = price_with_decimal.toString()\r\n    var obj = this\r\n    this.setState({\r\n      onLoading: true\r\n    })\r\n    var gasPrice = await web3.eth.getGasPrice()\r\n    var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n    contract.methods.determinePriceAndApprove(this.state.NFTId, price_with_decimal, this.state.toAddress).send({\r\n      from: account,\r\n      gasPrice: new_gas_price\r\n    })\r\n      .on('receipt', function (receipt) {\r\n        obj.setState({\r\n          onSale: true,\r\n          onLoading: false\r\n        })\r\n        message.success({\r\n          content: \"已经成功授权买方\",\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      })\r\n      .on('error', function (error) {\r\n        obj.setState({\r\n          onLoading: false\r\n        })\r\n        message.error({\r\n          content: `Error: ${error.message}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n    const sell_info = () => {\r\n      let host = window.location.host\r\n      let toUrl = \"https://\" + host + '/#/buySingle/' + this.state.NFTId\r\n      if (this.state.onSale) {\r\n        return (\r\n          <Grid container >\r\n            <Grid item xs>\r\n              <Typography color=\"inherit\" align=\"center\" noWrap className={classes.share} >\r\n                请将下方链接分享给买方，<br /> 买方会进入此链接来购买这个NFT <br />\r\n                {toUrl}\r\n                <CopyToClipboard text={toUrl}\r\n                  onCopy={() => this.setState({ copied: true })}>\r\n                  <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                    <CopyOutlined />\r\n                  </IconButton>\r\n                </CopyToClipboard>\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        )\r\n      }\r\n    }\r\n\r\n    const showSellBtn = () => {\r\n      if (this.state.currentAcc == this.state.owner) {\r\n        return (\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            startIcon={< DollarCircleOutlined style={{ fontSize: 22 }} />}\r\n            className={classes.btnSell}\r\n            onClick={this.handleClickOpen}\r\n          >\r\n            售卖\r\n          </Button>\r\n        )\r\n      } else {\r\n        return (\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<DollarCircleOutlined style={{ fontSize: 22 }} />}\r\n            className={classes.btnSell}\r\n            disabled\r\n          >\r\n            售卖\r\n          </Button>\r\n        )\r\n      }\r\n    }\r\n\r\n    return(\r\n      <Spin spinning={this.state.onLoading} size='large'>\r\n        <ThemeProvider theme={theme}>\r\n          <TopBar />\r\n          <Container component=\"main\" className={classes.container}>\r\n            <Button\r\n              startIcon={<ArrowLeftOutlined style={{ fontSize: 22 }} />}\r\n              onClick={this.handleClickLink}\r\n              style={{ marginTop: 50, marginBottom: 100, fontSize: 22 }}\r\n            >\r\n              返回\r\n            </Button>\r\n            <div className={classes.paper}>\r\n              {this.state.loadItem?(\r\n                <Grid container spacing={5} className={classes.content}>\r\n                  <Grid item xs={4}>\r\n                    <Skeleton variant=\"rect\" width={300} height={500} className={classes.img} />\r\n                  </Grid>\r\n                  <Grid item xs style={{ marginLeft: '5%', maxWidth: 500, minWidth: 350 }}>\r\n                    <Skeleton animation=\"wave\" variant=\"text\" width={'70%'} height={30} />\r\n                    <Skeleton animation=\"wave\" variant=\"text\" width={'100%'} height={70} />\r\n                    <Skeleton animation=\"wave\" variant=\"rect\" width={'100%'} height={300} style={{ marginBottom: 50 }} />\r\n                    {showSellBtn()}\r\n                  </Grid>\r\n                </Grid>\r\n              ):(\r\n                <Grid container className={classes.content} spacing={5}>\r\n                  <Grid item xs={4} style={{ maxWidth: 600 }}>\r\n                    <Paper className={classes.imgPaper}>\r\n                      <img style={{ width: 300, marginTop: 20, marginBottom: 50, objectFit: 'contain' }} src={this.state.coverURL}></img>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item xs className={classes.content2}>\r\n                    <Typography color=\"inherit\" align=\"left\" color=\"textSecondary\" noWrap style={{ fontFamily: 'Teko', fontSize: 16, marginTop: '2%' }}>\r\n                      #{this.state.NFTId}\r\n                    </Typography>\r\n                    <Typography color=\"inherit\" align=\"left\" noWrap style={{ fontFamily: 'Teko', fontSize: 30, marginTop: '2%' }}>\r\n                      <b>{this.state.name}</b>\r\n                    </Typography>\r\n                    <Typography align=\"justify\" color=\"textSecondary\" paragraph style={{ marginTop: '2%', maxWidth: '100%', fontSize: 16 }}>\r\n                      {this.state.description}\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '6%', maxWidth: '65%', fontSize: 20 }}>\r\n                      创作者分红比例: {this.state.bonusFee} %\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n                      当前拥有的子节点数量: {this.state.childrenNum}\r\n                    </Typography>\r\n                    {showSellBtn()}\r\n                    <Dialog\r\n                      open={this.state.open}\r\n                      onClose={this.handleClose}\r\n                      aria-labelledby=\"form-dialog-title\"\r\n                    >\r\n                      <DialogTitle id=\"form-dialog-title\">填写售卖信息</DialogTitle>\r\n                      <DialogContent>\r\n                        <DialogContentText>\r\n                          请在下方区域填写你希望售卖的价格，以及售卖对象的钱包地址。\r\n                        </DialogContentText>\r\n                        <label style={{ fontSize: 14, marginBottom: 10 }}>售卖价格 ({this.state.tokenSymbol})*</label>\r\n                        <InputNumber\r\n                          defaultValue={0}\r\n                          min={0}\r\n                          onChange={this.handleGetPrice}\r\n                          className={classes.inputNum}\r\n                        />\r\n                        <label style={{ fontSize: 14, marginBottom: 10, marginTop: 10 }}>买方钱包地址 *</label>\r\n                        <Input\r\n                          placeholder=\"买方钱包地址\"\r\n                          allowClear\r\n                          id=\"pubName\"\r\n                          onChange={this.handleGetAddr}\r\n                          className={classes.input}\r\n                        />\r\n                      </DialogContent>\r\n                      <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">\r\n                          取消\r\n                        </Button>\r\n                        <Button variant=\"contained\" onClick={this.sell} color=\"primary\" >\r\n                          卖出\r\n                        </Button>\r\n                      </DialogActions>\r\n                    </Dialog>\r\n                    \r\n                  </Grid>\r\n                </Grid>\r\n              )}\r\n            </div>\r\n            <div style={{ marginTop: 50 }}>\r\n              {sell_info()}\r\n            </div>\r\n          </Container>\r\n        </ThemeProvider>\r\n      </Spin>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default withStyles(styles, {withTheme: true}) (SellSingle)\r\n//todo 涉及交易","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport TopBar from './TopBar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport axios from 'axios'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Container from '@material-ui/core/Container'\r\nimport { DollarCircleOutlined, ArrowLeftOutlined } from '@ant-design/icons'\r\nimport { Spin, message } from 'antd'\r\nimport contract from './contract'\r\nimport web3 from './web3'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\n\r\nconst abi = require('erc-20-abi')\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    maxWidth: 1500,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    maxWidth: 1500,\r\n  },\r\n  btnDisable: {\r\n    margin: theme.spacing(1),\r\n    fontSize: 16,\r\n    borderRadius: 10,\r\n    borderWidth: 3,\r\n    borderColor: '#909497',\r\n    color: '#909497',\r\n    marginLeft: '10%',\r\n    width: 100\r\n  },\r\n  btnSell: {\r\n    margin: theme.spacing(1),\r\n    fontSize: 16,\r\n    borderRadius: 10,\r\n    borderWidth: 2,\r\n    borderColor: '#2196f3',\r\n    color: '#2196f3',\r\n    marginLeft: '10%',\r\n    width: 100\r\n  },\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  img: {\r\n    width: 300,\r\n    marginBottom: 50,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '30%'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '40%'\r\n    },\r\n  },\r\n  imgPaper: {\r\n    width: 350,\r\n    marginBottom: 50,\r\n    backgroundColor: '#EFEBE9',\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '30%'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '35%'\r\n    },\r\n  },\r\n  content2: {\r\n    fontFamily: 'Teko',\r\n    textAlign: 'center',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: 90, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: 80, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: 50, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: 60, maxWidth: 500\r\n    },\r\n  },\r\n\r\n})\r\n\r\n\r\nclass BuySingle extends Component {\r\n  gateway = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/'\r\n  backend = 'https://api.sparklink.io'\r\n  sparkAddr = '0xb42d4525841008A69E427026DF354067fD6A524f'\r\n  state = {\r\n    name: '',\r\n    bonusFee: 0,\r\n    coverURL: '',\r\n    description: '',\r\n    price: 0,\r\n    priceString: '',\r\n    ipfsHashMeta: '',\r\n    open: false,\r\n    address: '',\r\n    NFTId: '',\r\n    onSale: false,\r\n    owner: '',\r\n    approvedAddr: '',\r\n    currentAcc: '',\r\n    onLoading: false,\r\n    childrenNum: 0,\r\n    loadItem: true,\r\n    encrypted: '未知',\r\n    tokenAddr: null,\r\n    tokenSymbol: '',\r\n    decimal: 0,\r\n    approved: false,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  async componentDidMount () {\r\n    const accounts = await window.ethereum.request({method: 'eth_requestAccounts'})\r\n    const account = accounts[0]\r\n    this.setState({\r\n      currentAcc: account,\r\n      NFTId: this.props.match.params.NFTId\r\n    })\r\n    const issueId = await contract.methods.getIssueIdByNFTId(this.state.NFTId).call()\r\n    const royalty = await contract.methods.getRoyaltyFeeByIssueId(issueId).call()\r\n    const metadata = await contract.methods.tokenURI(this.props.match.params.NFTId).call()\r\n    let hash = metadata.split('/')\r\n    this.setState({\r\n      ipfsHashMeta: hash[hash.length-1]\r\n    })\r\n    var url = this.gateway + this.state.ipfsHashMeta\r\n    try {\r\n      const res = await axios({method: 'get', url: url, timeout: 1000*3})\r\n      let content = res.data\r\n      let bonus = content.attributes[0].value\r\n      let encrypted\r\n      if (content.attributes[3].value.toUpperCase() === 'TRUE'){\r\n        encrypted = '是'\r\n      } else {\r\n        encrypted = '否'\r\n      }\r\n\r\n      this.setState({\r\n        loadItem: false,\r\n        name: content.name,\r\n        description: content.description,\r\n        bonusFee: bonus,\r\n        coverURL: content.image,\r\n        encrypted: encrypted\r\n      })\r\n    } catch (error) {\r\n      var name_holder = 'SparkNFT#' + this.props.match.params.NFTId\r\n      this.setState({\r\n        loadItem: false,\r\n        name: name_holder,\r\n        description: '暂时无法获取到该nft的相关描述',\r\n        bonusFee: royalty,\r\n        coverURL: 'https://via.placeholder.com/100x140.png?text=SparkNFT'\r\n      })\r\n    }\r\n\r\n    var owner = await contract.methods.ownerOf(this.props.match.params.NFTId).call()\r\n    var approved = await contract.methods.getApproved(this.props.match.params.NFTId).call()\r\n    var price = await contract.methods.getTransferPriceByNFTId(this.props.match.params.NFTId).call()\r\n    var token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.NFTId).call()\r\n    this.setState({\r\n      owner: owner,\r\n      approvedAddr: approved,\r\n      price: price\r\n    })\r\n    if (token_addr == '0x0000000000000000000000000000000000000000') {\r\n      this.setState({\r\n        tokenAddr: token_addr,\r\n        tokenSymbol: \"MATIC\",\r\n        decimal: 18,\r\n        approved: true\r\n      })\r\n    } else {\r\n      try{\r\n        const token_contract = new web3.eth.Contract(abi, token_addr)\r\n        const token_symbol = await token_contract.methods.symbol().call()\r\n        const decimal = await token_contract.methods.decimals().call()\r\n        const approved_amount = await token_contract.methods.allowance(account, this.sparkAddr).call()\r\n        if(approved_amount >= price){\r\n          this.setState({\r\n            approved: true\r\n          })\r\n        } else {\r\n          this.setState({\r\n            approved: false\r\n          })\r\n        }\r\n        this.setState({\r\n          tokenAddr: token_addr,\r\n          tokenSymbol: token_symbol,\r\n          decimal: decimal\r\n        })\r\n      } catch (error) {\r\n        message.error({\r\n          content: `Error: ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    }\r\n\r\n    var price_with_decimal = price / (10 ** this.state.decimal)\r\n    price_with_decimal = price_with_decimal + \" \" + this.state.tokenSymbol\r\n    this.setState({\r\n      priceString: price_with_decimal\r\n    })\r\n\r\n    const child_url = this.backend + '/api/v1/nft/info?nft_id=' + this.state.NFTId\r\n    try{\r\n      const response = await axios.get(child_url)\r\n      var children_num = response.data.children_count\r\n      this.setState({\r\n        childrenNum: children_num\r\n      })\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  handleBuy = async (e) => {\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    const account = accounts[0]\r\n    \r\n    var gasPrice = await web3.eth.getGasPrice()\r\n    var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n    let obj = this\r\n    if (this.state.tokenAddr == '0x0000000000000000000000000000000000000000') {\r\n      this.setState({\r\n        onLoading: true\r\n      })\r\n      contract.methods.safeTransferFrom(this.state.owner, account, this.state.NFTId).send({\r\n        from: account,\r\n        value: this.state.price,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          obj.setState({\r\n            onLoading: false\r\n          })\r\n          message.success({\r\n            content: \"交易已经上链\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    } else {\r\n      this.setState({\r\n        onLoading: true\r\n      })\r\n      contract.methods.safeTransferFrom(this.state.owner, account, this.state.NFTId).send({\r\n        from: account,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          obj.setState({\r\n            onLoading: false\r\n          })\r\n          message.success({\r\n            content: \"交易已经上链\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    }\r\n  }\r\n\r\n  handleApprove = async (e) => {\r\n    const accounts = await window.ethereum.request({method: 'eth_requestAccounts'})\r\n    const account = accounts[0]\r\n\r\n    this.setState({\r\n      onLoading: true\r\n    })\r\n    let obj = this\r\n    try{\r\n      const token_contract = new web3.eth.Contract(abi, this.state.tokenAddr)\r\n      var gasPrice = await web3.eth.getGasPrice()\r\n      var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n      var price = this.state.price.toString()\r\n\r\n      token_contract.methods.approve(this.sparkAddr, price).send({\r\n        from: account,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          obj.setState({\r\n            onLoading: false,\r\n            approved: true\r\n          })\r\n          message.success({\r\n            content: \"已经成功授权合约\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false,\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleGetPrice = (value) => {\r\n    this.setState({\r\n      price: value,\r\n    })\r\n  }\r\n\r\n  handleGetAddr = (e) => {\r\n    this.setState({\r\n      address: e.target.value,\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const {classes} = this.props\r\n    \r\n    const buyButton = ()=> {\r\n      if(this.state.approvedAddr.toLowerCase() !== this.state.currentAcc.toLowerCase()){\r\n        return (\r\n          <Button\r\n            variant = 'outlined'\r\n            startIcon={<DollarCircleOutlined style={{ fontSize: 22 }}/>}\r\n            className={classes.btnDisable}\r\n            disabled\r\n          >\r\n            购买\r\n          </Button>\r\n        )\r\n      } else if (! this.state.approved) {\r\n        return(\r\n          <Button\r\n            variant = 'outlined'\r\n            color = 'primary'\r\n            className = { classes.btnSell }\r\n            onClick={this.handleApprove}\r\n          >\r\n            授权合约\r\n          </Button>\r\n        )\r\n      } else {\r\n        return(\r\n          <Button\r\n            variant='outlined'\r\n            startIcon={<DollarCircleOutlined style={{ fontSize: 22 }} />}\r\n            className={classes.btnSell}\r\n            onClick={this.handleBuy}\r\n          >\r\n            购买\r\n          </Button>\r\n        )\r\n      }\r\n    }\r\n\r\n    return(\r\n      <Spin spinning={this.state.onLoading} size='large'>\r\n        <ThemeProvider theme={theme}>\r\n          <TopBar />\r\n          <Container component=\"main\" className={classes.container}>\r\n            <Button\r\n              startIcon={<ArrowLeftOutlined style={{ fontSize: '2rem' }} />}\r\n              href='/'\r\n              style={{ marginTop: 20, marginBottom: 10, fontSize: '2rem' }}\r\n            >\r\n              回到首页\r\n            </Button>\r\n            <div className={classes.paper}>\r\n              {this.state.loadItem ? (\r\n                <Grid container spacing={5} className={classes.content}>\r\n                  <Grid item xs={4}>\r\n                    <Skeleton variant=\"rect\" width={300} height={500} className={classes.img} />\r\n                  </Grid>\r\n\r\n                  <Grid item xs style={{ marginLeft: '5%', maxWidth: 500, minWidth: 350 }}>\r\n                    <Skeleton animation=\"wave\" variant=\"text\" width={'70%'} height={30} />\r\n                    <Skeleton animation=\"wave\" variant=\"text\" width={'100%'} height={70} />\r\n                    <Skeleton animation=\"wave\" variant=\"rect\" width={'100%'} height={300} style={{ marginBottom: 50 }} />\r\n                    {buyButton()}\r\n                  </Grid>\r\n                </Grid>\r\n              ):(\r\n                <Grid container className={classes.content} spacing={5}>\r\n                  <Grid item xs={4} style={{ maxWidth: 600 }}>\r\n                    <Paper className={classes.imgPaper}>\r\n                      <img style={{ width: 300, marginTop: 20, marginBottom: 50, objectFit: 'contain' }} src={this.state.coverURL}></img>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item xs className={classes.content2}>\r\n                    <Typography color=\"inherit\" align=\"left\" color=\"textSecondary\" noWrap style={{ fontFamily: 'Teko', fontSize: 16, marginTop: '2%' }}>\r\n                      #{this.state.NFTId}\r\n                    </Typography>\r\n                    <Typography color=\"inherit\" align=\"left\" noWrap style={{ fontFamily: 'Teko', fontSize: 34 }}>\r\n                      <b>{this.state.name}</b>\r\n                    </Typography>\r\n                    <Typography align=\"justify\" color=\"textSecondary\" paragraph style={{ marginTop: '2%', maxWidth: '100%', fontSize: 16 }}>\r\n                      {this.state.description}\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '2%', maxWidth: '65%', fontSize: 20 }}>\r\n                      创作者分红比例: {this.state.bonusFee} %\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '2%', maxWidth: '100%', fontSize: 18 }}>\r\n                      售价: {this.state.priceString}\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '1%', maxWidth: '65%', fontSize: 12 }}>\r\n                      当前拥有者: {this.state.owner}\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n                      当前拥有的子节点数量: {this.state.childrenNum}\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n                      NFT作品是否加密: {this.state.encrypted}\r\n                    </Typography>\r\n                    {buyButton()}\r\n                  </Grid>\r\n                </Grid>\r\n              )}\r\n            </div>\r\n          </Container>\r\n        </ThemeProvider>\r\n      </Spin>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true})(BuySingle)\r\n//todo  涉及交易","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport contract from './contract';\r\nimport TopBar from \"./TopBar\";\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport { Empty } from 'antd';\r\nimport axios from 'axios';\r\nimport web3 from './web3';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#FDFEFE',\r\n    },\r\n    secondary: {\r\n      main: '#2196f3',\r\n    }\r\n  },\r\n});\r\n\r\nconst styles = theme => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  titleFont: {\r\n    fontFamily: 'Teko',\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderWidth: 8,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(36, 0, 6),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(8),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    // paddingTop: '56.25%', // 16:9\r\n    objectFit: 'contain',\r\n    paddingTop: '100%', // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 2,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(7),\r\n    textAlign: 'center'\r\n  },\r\n  container: {\r\n    maxWidth: '100%'\r\n  },\r\n  btnMain: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#FFFFFF',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 150\r\n  },\r\n  btnSecond: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#03A9F4',\r\n    borderWidth: 3,\r\n    borderColor: '#03A9F4',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 150\r\n  },\r\n  title: {\r\n    fontFamily: 'Teko',\r\n    marginTop: '5%',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 40,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 55,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 90,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 110,\r\n    },\r\n  },\r\n  title2: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 45,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 55,\r\n    },\r\n  },\r\n});\r\n\r\nclass Collections extends Component {\r\n  gateway = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/';\r\n  backend = 'https://api.sparklink.io'\r\n  web3;\r\n  cards = [];\r\n  state = {\r\n    isLogin: false,\r\n    user_address: null,\r\n    name: '',\r\n    viewable: false,\r\n    cards: [],\r\n    onloading: false,\r\n    SkeletoNumber: 0,\r\n    noNFT: true,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\r\n    if (accounts.length === 0) {\r\n      alert(\"请先连接Metamask\")\r\n    }\r\n    const account = accounts[0];\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' });\r\n    if (chainId !== '0x89') {\r\n      alert(\"请切换至Polygon 主网络\");\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n\r\n    let cards = [];\r\n\r\n    const nft_number = await contract.methods.balanceOf(account).call()\r\n    console.log('nft_number: ', nft_number)\r\n    if (nft_number === 0) {\r\n      return;\r\n    }\r\n\r\n    let ids = await this.getNft(contract, account);\r\n    if (ids.length === 0) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      noNFT: false\r\n    })\r\n    let data = await this.getMetadata(contract, ids);\r\n    for (let i = 0; i < ids.length; i++) {\r\n      let element = {\r\n        id: ids[i],\r\n        title: data[i].name,\r\n        description: data[i].description,\r\n        bonusFee: data[i].attributes.value,\r\n        image: data[i].image,\r\n      }\r\n      cards.push(element);\r\n    }\r\n    var reversed_cards = cards.reverse()\r\n    this.setState({ viewable: true, });\r\n    this.setState({ cards: reversed_cards, });\r\n    this.setState({\r\n      onloading: false,\r\n      SkeletoNumber: 0\r\n    })\r\n\r\n  }\r\n\r\n  getMetadata = async (nft, id) => {\r\n    let metaDatas = [];\r\n    for (let i = 0; i < id.length; i++) {\r\n      let ipfs_link = await nft.methods.tokenURI(id[i]).call();\r\n      var ipfs_hash_arr = ipfs_link.split('/')\r\n      var ipfs_hash = ipfs_hash_arr[ipfs_hash_arr.length - 1]\r\n      var meta = \"https://coldcdn.com/api/cdn/v5ynur/ipfs/\" + ipfs_hash\r\n      // console.debug(\"meta: \" + id[i] + \" \" + meta)\r\n      await axios({\r\n        method: 'get',\r\n        url: meta,\r\n        timeout: 1000 * 2,\r\n      }).then(res => {\r\n        // console.log(\"meta: \", res.data)\r\n        metaDatas.push(res.data)\r\n      }).catch(error => {\r\n        var name_holder = 'SparkNFT#' + id[i]\r\n        var placeholder = {\r\n          \"name\": name_holder,\r\n          \"description\": '暂时无法获取到该nft的相关描述',\r\n          \"image\": 'https://testnets.opensea.io/static/images/placeholder.png',\r\n          \"attributes\": [\r\n            {\r\n              \"display_type\": \"boost_percentage\",\r\n              \"trait_type\": \"Bonuse Percentage\",\r\n              \"value\": 0\r\n            },\r\n            {\r\n              \"trait_type\": \"File Address\",\r\n              \"value\": 'file_url'\r\n            }\r\n          ]\r\n        }\r\n        metaDatas.push(placeholder);\r\n      })\r\n    }\r\n    return metaDatas;\r\n  }\r\n\r\n  getNft = async (nft, account) => {\r\n    let balanceId = [];\r\n    //0x9452644E9fdd59bD46A4d9eC24462995ADfD8d01\r\n    var checksum_address = web3.utils.toChecksumAddress(account);\r\n    var url = this.backend + '/api/v1/nft/list?owner=' + checksum_address\r\n    console.debug('owner: ', checksum_address)\r\n    try {\r\n      var res = await axios.get(url)\r\n      balanceId = res.data.nft\r\n      this.setState({\r\n        onloading: true,\r\n        SkeletoNumber: balanceId.length\r\n      })\r\n      return balanceId;\r\n    } catch (error) {\r\n      // alert('无法获取您当前拥有的nft')\r\n      return [];\r\n    }\r\n  };\r\n\r\n\r\n  renderDescription = (description) => {\r\n    if (description.length <= 150) {\r\n\r\n      return (description);\r\n    } else {\r\n      let newDescription = description.substring(0, 150) + \"..........\";\r\n      return (newDescription);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n    let obj = this;\r\n    window.ethereum.on('chainChanged', handleChainChanged);\r\n\r\n    function handleChainChanged(_chainId) {\r\n      window.location.reload();\r\n    }\r\n\r\n    function showCard(card, index) {\r\n      let res = (\r\n        <Grid item key={index} xs={12} sm={6} md={4}>\r\n          {\r\n            card ? (<Card className={classes.card}>\r\n              <CardMedia\r\n                className={classes.cardMedia}\r\n                image={card.image}\r\n                title=\"Image title\"\r\n              />\r\n              <CardContent className={classes.cardContent}>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  <b>{card.title}</b>\r\n                </Typography>\r\n                <Typography>\r\n                  {obj.renderDescription(card.description)}\r\n                </Typography>\r\n              </CardContent>\r\n              <CardActions>\r\n                <Button size=\"small\" variant=\"contained\" color=\"primary\" href={'/#/NFT/' + card.id} >\r\n                  <b>查看 </b>\r\n                </Button>\r\n                <Typography variant=\"body2\" gutterBottom>\r\n                  <b>NFT id: {card.id} </b>\r\n                </Typography>\r\n              </CardActions>\r\n            </Card>) : (\r\n              <Card className={classes.card}>\r\n                <Skeleton variant=\"rect\" style={{ marginLeft: 70, }} width={260} height={288} />\r\n                <Skeleton width=\"60%\" style={{ marginTop: 40, }} height={33} />\r\n                <Skeleton height={33} />\r\n                <Skeleton height={33} />\r\n                <Skeleton height={33} />\r\n              </Card>\r\n            )\r\n          }\r\n        </Grid>\r\n      );\r\n\r\n      return res;\r\n\r\n    }\r\n    return (\r\n      <div>\r\n        <ThemeProvider theme={theme}>\r\n          <TopBar />\r\n          <Container component=\"main\" className={classes.container}>\r\n            <div className={classes.paper}>\r\n              <Grid container justifyContent=\"center\">\r\n                <Grid item xs={10}>\r\n                  <Typography color=\"inherit\" noWrap className={classes.title}>\r\n                    <b>我的收藏馆</b>\r\n                  </Typography>\r\n                  <Typography color=\"inherit\" noWrap className={classes.title2}>\r\n                    <b>An ERC721 Token Trying to Solve Existing Publishing Dilemma</b>\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Container>\r\n        </ThemeProvider>\r\n        {this.state.noNFT ? (\r\n          <Empty \r\n            description={\r\n              <span style={{ fontFamily: 'Teko' }}>\r\n                <b>暂无可展示NFT</b>\r\n              </span>\r\n            }\r\n            style={{marginTop: 100}}\r\n            />\r\n        ):(\r\n          <main>\r\n            { <Container className = {classes.cardGrid} maxWidth=\"md\">\r\n              <Grid container spacing={4}>\r\n                {\r\n                  (this.state.onloading ? Array.from(new Array(this.state.SkeletoNumber)) : this.state.cards).map((card, index) => {\r\n                    return showCard(card, index);\r\n                  })\r\n                }\r\n              </Grid>\r\n            </Container>}\r\n          </main>\r\n        )}\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Collections);\r\n//todo 涉及交易","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TopBar from \"./TopBar\"\r\nimport { Paper, Container, Link } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport contract from './contract'\r\nimport web3 from './web3'\r\nimport { ArrowLeftOutlined, FireOutlined } from '@ant-design/icons'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport { Progress, message, Spin } from 'antd'\r\n\r\n//字符串常量\r\nconst TOKENPOCKET = \"TokenPocket\";\r\nconst METAMASK = \"MetaMask\";\r\nconst LASTCONNECT = \"lastConnect\";\r\n\r\nconst tp = require('tp-js-sdk');\r\nconst abi = require('erc-20-abi');\r\n\r\n\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    maxWidth: 1500,\r\n    // backgroundColor: '#2196f3'\r\n  },\r\n  btnMain: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#FFFFFF',\r\n    backgroundColor: '#03A9F4',\r\n    borderWidth: 3,\r\n    // borderColor: '#03A9F4',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 150,\r\n    maxWidth: '20rem',\r\n    minWidth: '10rem',\r\n  },\r\n  btnSecond: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#03A9F4',\r\n    borderWidth: 3,\r\n    borderColor: '#03A9F4',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 150,\r\n    maxWidth: '20rem',\r\n    minWidth: '10rem',\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    maxWidth: 1400,\r\n  },\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  imagePaper: {\r\n\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      backgroundColor: '#EFEBE9', width: 330, height: 420, marginLeft: 10\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      backgroundColor: '#EFEBE9', width: 340, height: 440, marginLeft: 10\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, height: 465, marginLeft: 10\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, marginLeft: 10\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, marginLeft: 10\r\n    },\r\n  },\r\n  imageStyle: {\r\n    objectFit: 'contain',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      width: 280,\r\n      height: 365,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      width: 290,\r\n      height: 385,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      width: 300,\r\n      height: 420,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      width: 300,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      width: 300,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n  },\r\n  content2: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: 10, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: 90, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: 80, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: 50, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: 60, maxWidth: 500\r\n    },\r\n  },\r\n  title: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 48,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 60,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 70,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 75,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 80,\r\n    },\r\n  },\r\n\r\n})\r\n\r\nclass NFTSpark extends Component {\r\n  gateway = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/'\r\n  backend = 'https://api.sparklink.io'\r\n  sparkAddr = '0xb42d4525841008A69E427026DF354067fD6A524f'\r\n  state = {\r\n    Name: '',\r\n    Description: '',\r\n    BonusFee: 0,\r\n    Cover: '',\r\n    price: '',\r\n    priceString: '',\r\n    onLoading: false,\r\n    loadItem: true,\r\n    open: false,\r\n    approved: false,\r\n    tokenAddr: '',\r\n    tokenSymbol: '',\r\n    isEncrypt: true,\r\n    percentage: 0,\r\n    showProgress: false,\r\n    fileType: '',\r\n    remainShillTimes: 0,\r\n    maxShillTimes: 0,\r\n  }\r\n\r\n  async componentDidMount() {\r\n    //?RPC请求\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n    if (chainId !== '0x89') {\r\n      alert(\"请切换至Polygon 主网络\")\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n\r\n\r\n    var account;\r\n    const lastConnect = localStorage.getItem(LASTCONNECT);\r\n    if (lastConnect === METAMASK) {\r\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      account = accounts[0];\r\n    }\r\n    else if(lastConnect === TOKENPOCKET) {\r\n      await tp.getWallet({ walletTypes: ['matic'], switch: false }).then(\r\n        value => {\r\n          account = value.data.address;\r\n        }\r\n      )\r\n    }\r\n\r\n    // const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    // const account = accounts[0]\r\n\r\n    const meta = await contract.methods.tokenURI(this.props.match.params.id).call()\r\n    let hash = meta.split('/')\r\n    this.setState({ hash: hash[hash.length - 1] })\r\n    let isEncrypt\r\n    try {\r\n      var url = this.gateway + this.state.hash\r\n      const res = await axios.get(url)\r\n      let data = res.data\r\n      let bouns = data.attributes[0].value\r\n      let fileAddr = data.attributes[1].value\r\n      let fileType = data.attributes[2].value\r\n      if (data.attributes[3].value === \"FALSE\") {\r\n        isEncrypt = false\r\n      } else {\r\n        isEncrypt = true\r\n      }\r\n      this.setState({\r\n        Name: data.name,\r\n        Description: data.description,\r\n        BonusFee: bouns,\r\n        Cover: data.image,\r\n        fileType: fileType,\r\n        dataUrl: fileAddr,\r\n        isEncrypt: isEncrypt\r\n      })\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n\r\n    const price = await contract.methods.getShillPriceByNFTId(this.props.match.params.id).call()\r\n    const token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.id).call()\r\n\r\n    this.setState({\r\n      price: price,\r\n      tokenAddr: token_addr\r\n    })\r\n\r\n    if (token_addr == '0x0000000000000000000000000000000000000000') {\r\n      var price_with_decimal = price / (10 ** 18)\r\n      price_with_decimal = price_with_decimal + \" MATIC\"\r\n      this.setState({\r\n        priceString: price_with_decimal,\r\n        approved: true\r\n      })\r\n    } else {\r\n      try {\r\n        const token_contract = new web3.eth.Contract(abi, token_addr)\r\n        const decimals = await token_contract.methods.decimals().call()\r\n        const token_symbol = await token_contract.methods.symbol().call()\r\n        var price_with_decimal = price / (10 ** decimals)\r\n        price_with_decimal = price_with_decimal + \" \" + token_symbol\r\n        this.setState({ priceString: price_with_decimal })\r\n        const approved_amount = await token_contract.methods.allowance(account, this.sparkAddr).call()\r\n        if (approved_amount >= price) {\r\n          this.setState({\r\n            approved: true\r\n          })\r\n        } else {\r\n          this.setState({\r\n            approved: false\r\n          })\r\n        }\r\n      } catch (error) {\r\n        message.error({\r\n          content: `Error: ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    }\r\n\r\n    const leafUrl = this.backend + '/api/v1/nft/info?nft_id=' + this.props.match.params.id\r\n    try {\r\n      const res = await axios.get(leafUrl)\r\n      var children_num = res.data.children_count\r\n      var remain_shill_times = res.data.max_shill_times - res.data.shill_times\r\n      var max_shill_times = res.data.max_shill_times\r\n      this.setState({\r\n        remainShillTimes: remain_shill_times,\r\n        maxShillTimes: max_shill_times\r\n      })\r\n      if (res.data.suggest_next_nft === this.props.match.params.id) {\r\n        this.setState({\r\n          childrenNum: children_num,\r\n          recommendNFT: res.data.suggest_next_nft,\r\n          showRecommend: false,\r\n        })\r\n      } else if (res.data.suggest_next_nft === '0') {\r\n        this.setState({\r\n          childrenNum: children_num,\r\n          recommendNFT: res.data.suggest_next_nft,\r\n          showRecommend: false\r\n        })\r\n      } else {\r\n        this.setState({\r\n          childrenNum: children_num,\r\n          recommendNFT: res.data.suggest_next_nft,\r\n          showRecommend: true\r\n        })\r\n      }\r\n    } catch (error) {\r\n      if (error.response === undefined) {\r\n        message.error({\r\n          content: \"错误：服务器未响应\",\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n        return\r\n      }\r\n      if (error.response.status === 400 && error.response.data.message.includes(\"children not found\")) {\r\n        console.debug(\"no children\")\r\n      } else {\r\n        message.error({\r\n          content: `获取nft子节点情况页面失败： ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    } finally {\r\n      this.setState({\r\n        loadItem: false\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  handleClickLink = (event) => {\r\n    var new_url = '/#/NFT/Spark/' + this.state.recommendNFT\r\n    window.open(new_url)\r\n  }\r\n\r\n  downloadIPFS = async (event) => {\r\n    let obj = this\r\n    let dataSplits = this.state.dataUrl.split('/')\r\n    var dataHash = dataSplits[dataSplits.length - 1]\r\n    var dataUrl = this.gateway + dataHash\r\n    this.setState({\r\n      showProgress: true\r\n    })\r\n    var open_config = {\r\n      url: dataUrl, //your url\r\n      method: 'GET',\r\n      responseType: 'blob', // important\r\n      onDownloadProgress(progress) {\r\n        var percentage = Math.round(progress.loaded / progress.total * 100)\r\n        obj.setState({\r\n          percentage: percentage\r\n        })\r\n      }\r\n    }\r\n\r\n    try {\r\n      const response = await axios(open_config)\r\n      const url = window.URL.createObjectURL(new Blob([response.data]))\r\n      const link = document.createElement('a')\r\n      link.href = url\r\n      link.style.display = 'none'\r\n      var suffix = '.' + this.state.fileType\r\n      var fileName = this.state.Name + suffix\r\n      link.download = fileName\r\n      document.body.appendChild(link)\r\n      link.click()\r\n      document.body.removeChild(link)\r\n      URL.revokeObjectURL(url)\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    } finally {\r\n      this.setState({ showProgress: false })\r\n    }\r\n  }\r\n\r\n  approve = async (event) => {\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    const account = accounts[0]\r\n    this.setState({ onLoading: true })\r\n\r\n    let obj = this\r\n    try {\r\n      const price = this.state.price.toString()\r\n      const token_contract = new web3.eth.Contract(abi, this.state.tokenAddr)\r\n      var gasPrice = await web3.eth.getGasPrice()\r\n      var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n      token_contract.methods.approve(this.sparkAddr, price).send({\r\n        from: account,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          message.success({\r\n            content: \"已经成功授权合约\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n          obj.setState({\r\n            onLoading: false,\r\n            approved: true\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false,\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  shill = async (event) => {\r\n    // const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    // const account = accounts[0]\r\n    var account;\r\n    const lastConnect = localStorage.getItem(LASTCONNECT);\r\n    if (lastConnect === METAMASK) {\r\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      account = accounts[0];\r\n    }\r\n    else if(lastConnect === TOKENPOCKET) {\r\n      await tp.getWallet({ walletTypes: ['matic'], switch: false }).then(\r\n        value => {\r\n          account = value.data.address;\r\n        }\r\n      )\r\n    }\r\n    var gasPrice = await web3.eth.getGasPrice()\r\n    var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n    let obj = this\r\n\r\n    this.setState({ onLoading: true });\r\n    if (this.state.tokenAddr == '0x0000000000000000000000000000000000000000') {\r\n      contract.methods.acceptShill(this.props.match.params.id).send({\r\n        from: account,\r\n        value: this.state.price,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          message.success({\r\n            content: \"交易已经上链\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n          obj.setState({\r\n            onLoading: false,\r\n            onSale: true\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false,\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    } else {\r\n      contract.methods.acceptShill(this.props.match.params.id).send({\r\n        from: account,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          message.success({\r\n            content: \"交易已经上链\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n          obj.setState({\r\n            onLoading: false,\r\n            onSale: true\r\n          });\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false,\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n    const showBtn = () => {\r\n      if (this.state.showRecommend) {\r\n        return (\r\n          <div>\r\n            {this.state.isEncrypt ? (\r\n              <Grid container justifyContent=\"space-around\" >\r\n                <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" className={classes.btnMain} disabled>\r\n                  <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                    <font size=\"4\"> 下 载 </font>\r\n                  </Typography>\r\n                </Button>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '2rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} startIcon={<FireOutlined />} disabled>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 铸造  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            ) : (\r\n              <Grid container direction=\"row\" justifyContent=\"space-around\" >\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" className={classes.btnMain} onClick={this.downloadIPFS}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                      <font size=\"4\"> 下 载 </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '2rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} startIcon={<FireOutlined />} disabled>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 铸造  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </div>\r\n        )\r\n      } else if (!this.state.approved) {\r\n        return (\r\n          <div>\r\n            {this.state.isEncrypt ? (\r\n              <Grid container justifyContent=\"space-around\" >\r\n                <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" color=\"primary\" className={classes.btnMain} disabled>\r\n                  <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                    <font size=\"4\"> 下 载 </font>\r\n                  </Typography>\r\n                </Button>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} onClick={this.approve}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 授权合约  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            ) : (\r\n              <Grid container direction=\"row\" justifyContent=\"space-around\" >\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" color=\"primary\" className={classes.btnMain} onClick={this.downloadIPFS}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                      <font size=\"4\"> 下载 </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} onClick={this.approve}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 授权合约  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </div>\r\n        )\r\n      } else {\r\n        return (\r\n          <div>\r\n            {this.state.isEncrypt ? (\r\n              <Grid container justifyContent=\"space-around\" >\r\n                <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" color=\"primary\" className={classes.btnMain} disabled>\r\n                  <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                    <font size=\"4\"> 下 载 </font>\r\n                  </Typography>\r\n                </Button>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} startIcon={<FireOutlined />} onClick={this.shill}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 铸造  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            ) : (\r\n              <Grid container direction=\"row\" justifyContent=\"space-around\" >\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" color=\"primary\" className={classes.btnMain} onClick={this.downloadIPFS}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                      <font size=\"4\"> 下 载 </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} startIcon={<FireOutlined />} onClick={this.shill}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 铸造  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n\r\n    if (this.state.showProgress) {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <div style={{ textAlign: 'center', marginTop: '2%', marginLeft: 40 }}>\r\n              <Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 24 }}>\r\n                <b>正在下载文件</b>\r\n              </Typography>\r\n            </div>\r\n            <div style={{ textAlign: 'center', marginTop: '10%' }}>\r\n              <Progress type=\"circle\" percent={this.state.percentage} width={200} />\r\n            </div>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    } else {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <Container component=\"main\" className={classes.container}>\r\n              <Button\r\n                startIcon={<ArrowLeftOutlined style={{ fontSize: '2rem' }} />}\r\n                href='/#/collections'\r\n                style={{ marginTop: 20, marginBottom: 10, fontSize: '2rem' }}\r\n              >\r\n                回到我的收藏馆\r\n              </Button>\r\n              <Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"center\" xs={12}>\r\n                <Typography color=\"inherit\" noWrap className={classes.title}>\r\n                  🔥 NFT 🔥\r\n                </Typography>\r\n              </Grid>\r\n\r\n              <div className={classes.paper}>\r\n                {this.state.loadItem ? (\r\n                  <Grid container spacing={5} className={classes.content}>\r\n                    <Grid item>\r\n                      <Skeleton variant=\"rect\" width={300} height={500} style={{ width: 370, marginLeft: 50, marginBottom: 50 }} />\r\n                    </Grid>\r\n                    <Grid item style={{ marginLeft: '5%' }}>\r\n                      <Skeleton animation=\"wave\" variant=\"text\" width={200} height={30} />\r\n                      <Skeleton animation=\"wave\" variant=\"text\" width={400} height={70} />\r\n                      <Skeleton animation=\"wave\" variant=\"rect\" width={500} height={300} style={{ marginBottom: 50 }} />\r\n                    </Grid>\r\n                  </Grid>\r\n                ) : (\r\n                  <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.content}>\r\n                    <Grid item style={{ maxWidth: 200 }}>\r\n                      <Paper className={classes.imagePaper}>\r\n                        <img className={classes.imageStyle} src={this.state.Cover}></img>\r\n                      </Paper>\r\n                    </Grid>\r\n\r\n                    <Grid xs={2}></Grid>\r\n\r\n                    <Grid item xs className={classes.content2} >\r\n                      <Typography color=\"inherit\" align=\"left\" color=\"textSecondary\" noWrap style={{ fontFamily: 'Teko', fontSize: 16, marginTop: '2%' }}>\r\n                        #{this.props.match.params.id}\r\n                      </Typography>\r\n                      <Typography color=\"inherit\" align=\"left\" noWrap style={{ fontFamily: 'Teko', fontSize: 34, marginTop: '2%' }}>\r\n                        <b>{this.state.Name}</b>\r\n                      </Typography>\r\n                      <Typography align=\"justify\" color=\"textSecondary\" paragraph style={{ marginTop: '2%', maxWidth: '100%', fontSize: 16 }}>\r\n                        {this.state.Description}\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '6%', maxWidth: '100%', fontSize: 24 }}>\r\n                        点火价格: {this.state.priceString}\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '100%', fontSize: 18 }}>\r\n                        最大分享次数: {this.state.maxShillTimes} 次\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '100%', fontSize: 18 }}>\r\n                        剩余分享次数: {this.state.remainShillTimes} 次\r\n                      </Typography>\r\n                      {this.state.isEncrypt ?\r\n                        (\r\n                          <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '100%', fontSize: 16 }}>\r\n                            加密作品\r\n                          </Typography>\r\n                        ) : (\r\n                          <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '100%', fontSize: 16 }}>\r\n                            开源作品\r\n                          </Typography>\r\n                        )}\r\n                      {showBtn()}\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                )}\r\n\r\n                {this.state.showRecommend ? (\r\n                  <Grid style={{ marginTop: 50 }}>\r\n                    <Typography variant=\"h4\" gutterBottom >\r\n                      此NFT的子节点已经售完，我们给您推荐了其他还能购买的节点：\r\n                    </Typography>\r\n                    <Link onClick={this.handleClickLink} style={{ fontSize: 20, textDecoration: 'underline' }}>\r\n                      {window.location.host + '/#/NFT/Spark/' + this.state.recommendNFT}\r\n                    </Link>\r\n                  </Grid>\r\n                ) : (\r\n                  <div></div>\r\n                )}\r\n              </div>\r\n            </Container>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(NFTSpark)\r\n//todo 涉及交易\r\n//account的获取方式做了修改","import './App.css';\r\nimport React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport TopBar from './TopBar';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nconst styles = theme => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  titleFont: {\r\n    fontFamily: 'Teko',\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n  },\r\n  btnMain: {\r\n    color: '#FFFFFF',\r\n    borderColor: '#e3f2fd',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    '&:hover':{\r\n      color: '#FFFFFF',\r\n    },\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  btnSecond: {\r\n    // marginTop: theme.spacing(3),\r\n    color: '#FFFFFF',\r\n    borderColor: '#e3f2fd',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    '&:hover':{\r\n      color: '#FFFFFF',\r\n    },\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n      width: 95\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(7),\r\n    maxWidth: '150%',\r\n\r\n  },\r\n\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    marginTop: 20,\r\n    lineHeight: 1.5,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n    },\r\n  },\r\n\r\n  shouldKnow: {\r\n    fontFamily: 'Teko',\r\n    textAlign: 'center',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 40,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 40,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 60,\r\n    },\r\n  },\r\n});\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#FDFEFE',\r\n    },\r\n    secondary: {\r\n      main: '#2196f3',\r\n    }\r\n  },\r\n});\r\n\r\nclass IntroPublish extends Component {\r\n  render() {\r\n\tconst { t } = this.props\r\n    const { classes } = this.props\r\n    return (\r\n      <div>\r\n\r\n        <ThemeProvider theme={theme}>\r\n          <TopBar />\r\n          <Container component=\"main\" className={classes.container}>\r\n            <div className={classes.paper}>\r\n              <Typography color=\"inherit\" noWrap className={classes.shouldKnow}>\r\n                <b>发布须知</b>\r\n              </Typography>\r\n              <Typography variant=\"h4\" paragraph className={classes.content}>\r\n                在去发布您的作品之前，您需要了解以下信息，它们将有助于您了解完整的发布流程：\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n                <b>1.</b> 您的作品将被存储在IPFS（InterPlanetary File System）中，而存储地址将被记录在以太坊上，与您的NFT绑定在一起\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n                <b>2.</b> 您可以选择是将您的作品开源得保存在IPFS上，或者加密保存在IPFS上。针对加密的作品，只有持有您发行的NFT的读者才能访问。 <br />\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n                <b>3.</b> 如果您选择加密保存在IPFS上，您需要在将作品基本信息上传到链上后，再设置作品的地址。这个过程我们会引导您完成，请勿担心。 <br />\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n                <b>4.</b> 当您将作品发布在我们平台时，我们默认您会支持二次创作，处于您宣传网络中的读者有权将他们持有的NFT对应的地址替换为他们自己的二次创作作品。 <br />\r\n              </Typography>\r\n              <Grid container justifyContent=\"center\" style={{ fontFamily: 'Teko', marginTop: 70 }}>\r\n                <Grid item xs={4} >\r\n                  <Button size=\"large\" variant=\"contained\" color=\"secondary\" className={classes.btnMain} href='/#/encryptedPublish'>\r\n                    <b>{t('publish_encry')}</b>\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item xs={3} >\r\n                  <Button size=\"large\" variant=\"contained\" color=\"secondary\" className={classes.btnSecond} href='/#/publish'>\r\n                    <b>{t('publish_open')}</b>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Container>\r\n        </ThemeProvider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(IntroPublish));","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport { blue } from '@material-ui/core/colors'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { message } from 'antd'\r\nimport { InboxOutlined } from '@ant-design/icons'\r\nimport Dragger from 'antd/lib/upload/Dragger'\r\nimport { CloudUploadOutlined } from '@ant-design/icons'\r\nimport { Input, InputNumber, Select, Spin } from 'antd'\r\nimport 'antd/dist/antd.css'\r\nimport TopBar from './TopBar'\r\nimport axios from 'axios'\r\nimport contract from './contract'\r\nimport web3 from './web3'\r\nimport ReactLoading from 'react-loading'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Link } from \"@material-ui/core\"\r\nimport * as tokens from './tokens_list.json'\r\nimport { withTranslation } from 'react-i18next';\r\nconst {\r\n  pinata_api_key,\r\n  pinata_secret_api_key,\r\n} = require('./project.secret.js')\r\nconst FormData = require('form-data')\r\nconst bs58 = require('bs58')\r\nvar CryptoJS = require(\"crypto-js\")\r\nconst { Option } = Select\r\nconst abi = require('erc-20-abi')\r\n\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      width: '60%'\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 500\r\n    },\r\n  },\r\n  titleCon: {\r\n    marginTop: 50,\r\n    fontFamily: 'Ubuntu',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 30\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      fontSize: 40\r\n    },\r\n  },\r\n  titlePub: {\r\n    marginTop: \"3%\",\r\n    fontFamily: 'Ubuntu',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 30\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      fontSize: 40\r\n    },\r\n  },\r\n  paperImg: {\r\n\r\n    backgroundColor: '#EFEBE9',\r\n    width: 330,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: '5%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '30%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '30%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '40%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '45%',\r\n      marginTop: 30,\r\n    },\r\n  },\r\n  btnPub: {\r\n    margin: theme.spacing(1),\r\n    borderRadius: 25,\r\n    color: '#FFFFFF',\r\n    backgroundColor: '#2196f3',\r\n    marginBottom: 20,\r\n    marginTop: 40,\r\n    height: 45,\r\n    minWidth: 200,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      width: '50%',\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 16,\r\n      width: '30%',\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      fontSize: 16,\r\n      width: '30%',\r\n    },\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: blue[500],\r\n    width: 60,\r\n    height: 60\r\n  },\r\n  form: {\r\n    width: '150%',\r\n    marginTop: theme.spacing(7),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  fileBtn: {\r\n    padding: '10px 30px 10px 30px',\r\n    background: '#66C1E4',\r\n    border: 'none',\r\n    color: '#FFF',\r\n    boxShadow: '1px 1px 1px #4C6E91',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    fontSize: 20,\r\n    borderRadius: 25,\r\n    color: '#FFFFFF',\r\n    backgroundColor: '#2196f3'\r\n  },\r\n  input: {\r\n    height: 40,\r\n    borderRadius: 5,\r\n  },\r\n  inputNum: {\r\n    height: 40,\r\n    borderRadius: 5,\r\n    width: '100%',\r\n    fontSize: 20,\r\n  }\r\n})\r\n\r\n\r\nclass EncryptedPublish extends Component {\r\n  backend = 'https://api.sparklink.io' //http://192.168.0.64:3000\r\n  state = {\r\n    name: '',\r\n    bonusFee: 0,\r\n    price: 0,\r\n    buffer: null,\r\n    file: null,\r\n    ipfsHashCover: '',\r\n    ipfsMeta: '',\r\n    fileType: '',\r\n    fileIpfs: '',\r\n    description: '',\r\n    shareTimes: 0,\r\n    onLoading: false,\r\n    rootNFTId: '',\r\n    issueId: '',\r\n    allowSubmitPDF: false,\r\n    usedAcc: '',\r\n    sig: '',\r\n    finished: false,\r\n    open: false,\r\n    coverURL: '',\r\n    jumped: false,\r\n    data: [],\r\n    token_addr: null,\r\n    token_symbol: 'MATIC',\r\n    decimal: 0,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\tconst { t } = this.props;\r\n    if (!window.ethereum) {\r\n      alert(t('please_install_metamask'))\r\n      window.location.href = '/#/introPublish'\r\n      return\r\n    }\r\n\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n    if (chainId !== '0x89') {\r\n      alert(t('please_set_polygon'))\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n  }\r\n\r\n  handleGetPubName = (event) => {\r\n    this.setState({\r\n      name: event.target.value,\r\n    })\r\n  }\r\n\r\n  handleGetBonusFee = (value) => {\r\n    this.setState({\r\n      bonusFee: value,\r\n    })\r\n  }\r\n\r\n  handleGetPrice = (value) => {\r\n    this.setState({\r\n      price: value,\r\n    })\r\n  }\r\n\r\n  handleGetShareTimes = (value) => {\r\n    this.setState({\r\n      shareTimes: value,\r\n    })\r\n  }\r\n\r\n  handleGetDescription = (e) => {\r\n    this.setState({\r\n      description: e.target.value,\r\n    })\r\n  }\r\n\r\n  handleGetNFTId = (value) => {\r\n    this.setState({\r\n      rootNFTId: String(value),\r\n    })\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    this.setState({\r\n      open: false,\r\n    })\r\n  }\r\n\r\n  handleClickOpen = (e) => {\r\n    this.setState({\r\n      open: true,\r\n    })\r\n  }\r\n\r\n  handleSearch = async (value) => {\r\n    if (value) {\r\n      value = value.toLowerCase()\r\n      var tokens_list = tokens.tokens\r\n      var matched_data = []\r\n      let reg = new RegExp(value)\r\n      for (let token of tokens_list) {\r\n        var symbol_lower_case = token.symbol.toLowerCase()\r\n        var showed_text = `\\\"${token.symbol}\\\"` + \"   \" + token.address\r\n        var info = {\r\n          value: token.address,\r\n          text: showed_text\r\n        }\r\n        if (reg.test(symbol_lower_case) && !matched_data.includes(info)) {\r\n          matched_data.push(info)\r\n        }\r\n      }\r\n      if (value.includes('0x') && value.length == 42) {\r\n        var info = {\r\n          value: value,\r\n          text: value\r\n        }\r\n        matched_data = [info]\r\n      }\r\n      this.setState({\r\n        data: matched_data\r\n      })\r\n    } else {\r\n      this.setState({ data: [] })\r\n    }\r\n  }\r\n\r\n  handleSelectChange = async (value) => {\r\n\tconst {t} = this.props\r\n    var tokens_list = tokens.tokens\r\n    let address\r\n    let token_symbol\r\n    let token_decimal\r\n    for (let token of tokens_list) {\r\n      if (value === token.address) {\r\n        address = value\r\n        token_symbol = token.symbol\r\n        token_decimal = token.decimals\r\n      }\r\n    }\r\n    if (token_symbol == undefined) {\r\n\r\n      try {\r\n        const token_contract = new web3.eth.Contract(abi, value)\r\n        token_symbol = await token_contract.methods.symbol().call()\r\n        token_decimal = await token_contract.methods.decimals().call()\r\n        address = value\r\n      } catch (error) {\r\n        message.error(t('error_no_erc20'))\r\n      }\r\n\r\n    }\r\n    // console.debug(token_symbol)\r\n    this.setState({\r\n      token_addr: address,\r\n      token_symbol: token_symbol,\r\n      decimal: token_decimal\r\n    })\r\n  }\r\n\r\n  jump = async (event) => {\r\n\t  const {t} = this.props\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    const account = accounts[0]\r\n    this.setState({\r\n      usedAcc: account\r\n    })\r\n\r\n    const owner = await contract.methods.ownerOf(this.state.rootNFTId).call()\r\n    var issueId = await contract.methods.getIssueIdByNFTId(this.state.rootNFTId).call()\r\n\r\n    var bonus = await contract.methods.getRoyaltyFeeByIssueId(issueId).call()\r\n\r\n    if (account == owner.toLowerCase()) {\r\n      this.setState({\r\n        onLoading: false,\r\n        allowSubmitPDF: true,\r\n        jumped: true,\r\n        bonusFee: bonus\r\n      })\r\n    } else {\r\n      message.warning({\r\n        content: t('no_NFT_owner'),\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  submit = async (event) => {\r\n    /*TODO: call smart contract publish() and wait for publish success event\r\n     * then call backend to get a secret key. Then encrypt the pdf file and upload it to IPFS\r\n     * Finally, form a new metadata json file and send its ipfs hash to backend and publish it\r\n    */\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    const account = accounts[0]\r\n    this.setState({\r\n      usedAcc: account\r\n    })\r\n    let obj = this\r\n    if (this.state.price === 0 || this.state.bonusFee === 0 || this.state.shareTimes === 0 || this.state.token_addr === null) {\r\n      message.error({\r\n        content: \"你有信息尚未填写\",\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    } else {\r\n\r\n      this.setState({\r\n        onLoading: true\r\n      })\r\n      var price_with_decimal = this.state.price * (10 ** this.state.decimal)\r\n      price_with_decimal = price_with_decimal.toString()\r\n      var ipfsToContract = '0x0000000000000000000000000000000000000000000000000000000000000000'\r\n      console.debug('price_with_decimal: ', price_with_decimal)\r\n      var gasPrice = await web3.eth.getGasPrice()\r\n      var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n      contract.methods.publish(price_with_decimal, this.state.bonusFee, this.state.shareTimes, ipfsToContract, this.state.token_addr).send({\r\n        from: this.state.usedAcc,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          console.log(receipt)\r\n          var publish_event = receipt.events.Publish\r\n          var returned_values = publish_event.returnValues\r\n          var root_nft_id = String(returned_values.rootNFTId)\r\n          console.debug(typeof root_nft_id)\r\n          var issue_id = returned_values.issue_id\r\n          obj.setState({\r\n            onLoading: false,\r\n            rootNFTId: root_nft_id,\r\n            issueId: issue_id,\r\n            allowSubmitPDF: true\r\n          })\r\n          message.success({\r\n            content: \"作品基本信息已提交成功\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false,\r\n          })\r\n          if (error.message.includes('not mined')) {\r\n            message.warning({\r\n              content: \"交易已提交，当前网络较拥堵，请稍等后去我的收藏中查看\",\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n          } else {\r\n            console.debug(error.message)\r\n            message.error({\r\n              content: `Error: ${error.message}`,\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n          }\r\n        })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  checkDetail = async (event) => {\r\n    var new_url = '/#/NFT/' + this.state.rootNFTId\r\n    window.open(new_url, '_self')\r\n  }\r\n\r\n  submitWork = async () => {\r\n    if (this.state.ipfsHashCover === '' || this.state.fileIpfs === '') {\r\n      message.error({\r\n        content: \"你有信息尚未填写\",\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    } else {\r\n\r\n      var img_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.ipfsHashCover\r\n      this.setState({\r\n        coverURL: img_url\r\n      })\r\n      console.debug(\"coverURL: \", this.state.coverURL)\r\n      var trimmed_des = this.state.description.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, \" \")\r\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      const account = accounts[0]\r\n      if (account !== this.state.usedAcc) {\r\n        message.warning({\r\n          content: \"账户发生变化，请切换回原账户\",\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n        return\r\n      }\r\n      var file_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.fileIpfs\r\n      var JSONBody = {\r\n        \"name\": this.state.name,\r\n        \"description\": trimmed_des,\r\n        \"image\": this.state.coverURL,\r\n        \"attributes\": [\r\n          {\r\n            \"display_type\": \"boost_percentage\",\r\n            \"trait_type\": \"Bonuse Percentage\",\r\n            \"value\": this.state.bonusFee\r\n          },\r\n          {\r\n            \"trait_type\": \"File Address\",\r\n            \"value\": file_url\r\n          },\r\n          {\r\n            \"value\": this.state.fileType\r\n          },\r\n          {\r\n            \"trait_type\": \"Encrypted\",\r\n            \"value\": \"TRUE\"\r\n          }\r\n        ]\r\n      }\r\n      console.debug(JSONBody)\r\n      const url = `https://api.pinata.cloud/pinning/pinJSONToIPFS`\r\n      let obj = this\r\n      this.setState({\r\n        onLoading: true\r\n      })\r\n\r\n      try {\r\n        const response = await axios.post(url, JSONBody, {\r\n          headers: {\r\n            pinata_api_key: pinata_api_key,\r\n            pinata_secret_api_key: pinata_secret_api_key\r\n          },\r\n        })\r\n        console.debug(\"metadata: \", response.data.IpfsHash)\r\n        const bytes = bs58.decode(response.data.IpfsHash)\r\n        const bytesToContract = bytes.toString('hex').substring(4,)\r\n        console.log(bytesToContract)\r\n        console.log(response.data.IpfsHash)\r\n        this.setState({\r\n          ipfsMeta: bytesToContract\r\n        })\r\n\r\n        var ipfsToContract = '0x' + bytesToContract\r\n\r\n        var gasPrice = await web3.eth.getGasPrice()\r\n        var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\r\n        contract.methods.setURI(obj.state.rootNFTId, ipfsToContract).send({\r\n          from: obj.state.usedAcc,\r\n          gasPrice: new_gas_price\r\n        })\r\n          .on('receipt', function (receipt) {\r\n            console.debug(receipt.events.SetURI)\r\n            message.success({\r\n              content: \"作品基本信息已提交成功\",\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n            obj.setState({\r\n              allowSubmitPDF: false,\r\n              finished: true,\r\n              onLoading: false\r\n            })\r\n          })\r\n          .on('error', function (error) {\r\n            obj.setState({\r\n              onLoading: false\r\n            })\r\n            message.error({\r\n              content: `Error: ${error.message}`,\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n          })\r\n\r\n      } catch (error) {\r\n        message.error({\r\n          content: `Error: ${error.message}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n\tconst { t } = this.props\r\n    const { classes } = this.props\r\n\tconsole.log(t,classes)\r\n    let obj = this\r\n    const { TextArea } = Input\r\n    const options = this.state.data.map(d => <Option key={d.value}>{d.text}</Option>)\r\n    const prop = {\r\n      name: 'file',\r\n      action: `https://api.pinata.cloud/pinning/pinFileToIPFS`,\r\n      headers: {\r\n        pinata_api_key: pinata_api_key,\r\n        pinata_secret_api_key: pinata_secret_api_key\r\n      },\r\n      data: this.state.buffer,\r\n      beforeUpload: file => {\r\n        return new Promise((resolve, reject) => {\r\n          try {\r\n            const reader = new FileReader()\r\n            reader.readAsArrayBuffer(file)\r\n            reader.onload = (e) => {\r\n              var b = e.target.result\r\n              let params = new FormData()\r\n              params.append('file', b)\r\n              this.setState({\r\n                buffer: params\r\n              })\r\n            }\r\n            resolve()\r\n          } catch (e) {\r\n            message.error('Read file error')\r\n            reject()\r\n          }\r\n        })\r\n      },\r\n      async onChange(info) {\r\n        const { status } = info.file\r\n        // text/plain image/jpeg application/pdf\r\n        if (status === 'done') {\r\n          message.success(`${info.file.name} file uploaded successfully.`)\r\n          obj.setState({\r\n            ipfsHashCover: info.file.response.IpfsHash\r\n          })\r\n\r\n        } else if (status === 'error') {\r\n          message.error(`${info.file.name} file upload failed.`)\r\n        }\r\n      },\r\n      onDrop(e) {\r\n        message.error(`Only image file supported`)\r\n        console.log('Dropped files', e.dataTransfer.files)\r\n      },\r\n    }\r\n\r\n    const propFile = {\r\n      name: 'file',\r\n      action: `https://api.pinata.cloud/pinning/pinFileToIPFS`,\r\n      headers: {\r\n        pinata_api_key: pinata_api_key,\r\n        pinata_secret_api_key: pinata_secret_api_key\r\n      },\r\n      beforeUpload: file => {\r\n        return new Promise(async (resolve, reject) => {\r\n          try {\r\n            const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n            const signer = accounts[0]\r\n            var message = {\r\n              account: signer,\r\n              nft_id: obj.state.rootNFTId\r\n            }\r\n            const sig = await web3.eth.personal.sign(JSON.stringify(message), signer)\r\n            console.debug(sig)\r\n            var payload = {\r\n              \"nft_id\": obj.state.rootNFTId,\r\n              \"account\": signer,\r\n              \"signature\": sig\r\n            }\r\n            var payload_str = JSON.stringify(payload)\r\n            console.log(payload_str)\r\n            var req_key_url = this.backend + '/api/v1/key/claim'\r\n            try {\r\n              const res = await axios.post(req_key_url, payload_str, {\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              })\r\n              var secret_key = res.data.key//res.data.key\r\n              console.debug(secret_key)\r\n              // if (file.type === 'text/plain') {\r\n              const reader = new FileReader()\r\n              reader.readAsArrayBuffer(file)\r\n              reader.onload = (e) => {\r\n                var b = e.target.result\r\n                var wordArray = CryptoJS.lib.WordArray.create(b)\r\n                const str = CryptoJS.enc.Hex.stringify(wordArray)\r\n                var cipher_text = CryptoJS.AES.encrypt(str, secret_key).toString()\r\n                var myblob = new Blob([cipher_text])\r\n                resolve(myblob)\r\n              }\r\n\r\n            } catch (error) {\r\n              if (error.response.status == 400) {\r\n                if (error.response.data.message.includes(\"signature invalid\")) {\r\n                  message.error({\r\n                    content: \"您的签名有误，请查看签名账号是否正确\",\r\n                    className: 'custom-class',\r\n                    style: {\r\n                      marginTop: '10vh',\r\n                    },\r\n                  })\r\n                } else if (error.response.data.message.includes(\"param invalid\")) {\r\n                  message.error({\r\n                    content: \"参数错误\",\r\n                    className: 'custom-class',\r\n                    style: {\r\n                      marginTop: '10vh',\r\n                    },\r\n                  })\r\n                } else if (error.response.data.message.includes(\"not owned\")) {\r\n                  message.error({\r\n                    content: \"您并不拥有此nft\",\r\n                    className: 'custom-class',\r\n                    style: {\r\n                      marginTop: '10vh',\r\n                    },\r\n                  })\r\n                } else if (error.response.data.message.includes(\"not found\")) {\r\n                  message.error({\r\n                    content: \"此nft还未生成\",\r\n                    className: 'custom-class',\r\n                    style: {\r\n                      marginTop: '10vh',\r\n                    },\r\n                  })\r\n                }\r\n              } else {\r\n                message.error({\r\n                  content: \"请求文件加密密钥失败\",\r\n                  className: 'custom-class',\r\n                  style: {\r\n                    marginTop: '10vh',\r\n                  },\r\n                })\r\n              }\r\n            }\r\n\r\n\r\n          } catch (e) {\r\n            message.error({\r\n              content: \"Read file error\",\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n            reject()\r\n          }\r\n        })\r\n      },\r\n      onChange(info) {\r\n        const { status } = info.file\r\n        if (status === 'done') {\r\n          var file_type = info.file.name.split('\\.')\r\n          var file_suffix = file_type[file_type.length - 1]\r\n          obj.setState({\r\n            fileIpfs: info.file.response.IpfsHash,\r\n            fileType: file_suffix\r\n          })\r\n          console.debug(\"encrypted file hash: \", info.file.response.IpfsHash)\r\n          message.success(`${info.file.name} file uploaded successfully.`)\r\n        }\r\n\r\n      },\r\n      onDrop(e) {\r\n        console.log('Dropped files', e.dataTransfer.files)\r\n      },\r\n    }\r\n\r\n    if (this.state.allowSubmitPDF) {\r\n\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large' >\r\n          <Container component=\"main\" maxWidth=\"xs\" className={classes.main}>\r\n\r\n            <div className={classes.paper}>\r\n              <Typography className={classes.titlePub}>\r\n                <b>{t('up_file')}</b>\r\n              </Typography>\r\n              <form className={classes.form} noValidate>\r\n                {this.state.jumped ? (\r\n                  <div>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginBottom: 10 }}>{t('art_name')} *</label>\r\n                      <Input\r\n                        placeholder={t('art_name')}\r\n                        allowClear\r\n                        id=\"pubName\"\r\n                        onChange={this.handleGetPubName}\r\n                        value={this.state.name}\r\n                        className={classes.input}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('art_desc')} *</label>\r\n                      <p style={{ fontSize: 14 }}>{t('art_desc_tip')}</p>\r\n                      <TextArea\r\n                        rows={4}\r\n                        id=\"Description\"\r\n                        onChange={this.handleGetDescription}\r\n                      />\r\n                    </Grid>\r\n                  </div>\r\n                ) : (\r\n                  <div></div>\r\n                )}\r\n                <label style={{ fontSize: 18, marginTop: 50 }}>{t('pic_cover')} *</label>\r\n                <p style={{ fontSize: 12 }}>{t('pic_cover_tip')}</p>\r\n                <Dragger {...prop} style={{ width: '100%', minHeight: 100 }} id=\"Uploader\" accept=\".png, .jpg, .jpeg\" >\r\n                  <p className=\"ant-upload-drag-icon\">\r\n                    <InboxOutlined />\r\n                  </p>\r\n                  <p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n                  <p className=\"ant-upload-hint\">\r\n                    {t('upload_file_tip2')}\r\n                  </p>\r\n                </Dragger>\r\n\r\n                <label style={{ fontSize: 18, marginTop: 50 }}>{t('art_file')} *</label>\r\n                <p style={{ fontSize: 12 }}>{t('art_file_tip')} </p>\r\n                <Dragger {...propFile} style={{ width: '100%', minHeight: 100 }} id=\"Uploader2\">\r\n                  <p className=\"ant-upload-drag-icon\">\r\n                    <InboxOutlined />\r\n                  </p>\r\n                  <p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n                  <p className=\"ant-upload-hint\">\r\n                    {t('upload_file_tip2')}\r\n                  </p>\r\n                </Dragger>\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    startIcon={<CloudUploadOutlined />}\r\n                    className={classes.btnPub}\r\n                    onClick={this.submitWork}\r\n                  >\r\n                    发布作品\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </Container>\r\n\r\n        </Spin>\r\n      )\r\n\r\n    } else if (this.state.finished) {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large'>\r\n\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <div style={{ textAlign: 'center' }}>\r\n              <Typography className={classes.titleCon}>\r\n                <b> {t('pulish_success')}</b>\r\n              </Typography>\r\n\r\n              <Paper className={classes.paperImg}>\r\n                <img style={{ width: 300, marginTop: 20, marginBottom: 50 }} src={this.state.coverURL}></img>\r\n              </Paper>\r\n              <Typography variant=\"h4\" style={{ marginTop: 20, fontFamily: 'Ubuntu' }}>\r\n                <b>{t('you_gain_nft')} #{this.state.rootNFTId}</b>\r\n              </Typography>\r\n\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                style={{ marginTop: 50, width: 200, height: 50, marginBottom: 50 }}\r\n                onClick={this.checkDetail}\r\n              >\r\n                {t('show_detail')}\r\n              </Button>\r\n            </div>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    } else {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large' >\r\n\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <Container component=\"main\" maxWidth=\"xs\" className={classes.main}>\r\n              <div className={classes.paper}>\r\n                <Typography className={classes.titlePub}>\r\n                  <b>{t('art_info')}</b>\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                  <Grid container spacing={2}>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginBottom: 10 }}>{t('art_name')} *</label>\r\n                      <Input\r\n                        placeholder={t('art_name')}\r\n                        allowClear\r\n                        id=\"pubName\"\r\n                        onChange={this.handleGetPubName}\r\n                        value={this.state.name}\r\n                        className={classes.input}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('fit_rate')} *</label>\r\n                      <p style={{ fontSize: 14 }}>{t('fit_rate_tip')}</p>\r\n                      <InputNumber\r\n                        id=\"bonusFee\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        max={100}\r\n                        formatter={value => `${value}%`}\r\n                        parser={value => value.replace('%', '')}\r\n                        onChange={this.handleGetBonusFee}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('access_coin')} *</label>\r\n                      <p style={{ fontSize: 14 }}>{t('access_coin_tip')}</p>\r\n                      <Select\r\n                        showSearch\r\n                        value={this.state.token_addr}\r\n                        placeholder={t('please_input_coin')}\r\n                        // className={classes.input}\r\n                        style={{ width: \"100%\" }}\r\n                        size=\"large\"\r\n                        defaultActiveFirstOption={false}\r\n                        showArrow={false}\r\n                        filterOption={false}\r\n                        onSearch={this.handleSearch}\r\n                        onChange={this.handleSelectChange}\r\n                        notFoundContent={null}\r\n                      >\r\n                        {options}\r\n                      </Select>\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('price')} ({this.state.token_symbol})*</label>\r\n                      <InputNumber\r\n                        id=\"price\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        onChange={this.handleGetPrice}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('max_share')} (MAX： 65535)*</label>\r\n                      <p style={{ fontSize: 14 }}>{t('max_share_tip')}</p>\r\n                      <InputNumber\r\n                        id=\"shareTimes\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        max={65535}\r\n                        onChange={this.handleGetShareTimes}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('art_desc')}  *</label>\r\n                      <p style={{ fontSize: 14 }}>{t('art_desc_tip')}</p>\r\n                      <TextArea\r\n                        rows={4}\r\n                        id=\"Description\"\r\n                        onChange={this.handleGetDescription}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                </form>\r\n                <Grid container alignItems=\"center\" spacing={4} style={{ marginTop: 20, marginBottom: 50 }}>\r\n                  <Grid item xs style={{ textAlign: 'center' }}>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      className={classes.button}\r\n                      startIcon={<CloudUploadOutlined />}\r\n                      style={{ width: 200, height: 50, marginBottom: 20, marginTop: 20 }}\r\n                      onClick={this.submit}\r\n                    >\r\n                       {t('submit')}\r\n                    </Button>\r\n                  </Grid>\r\n                  <Grid item xs style={{ textAlign: 'center' }}>\r\n                    <Link onClick={this.handleClickOpen} style={{ fontSize: 10, textDecoration: 'underline' }}>\r\n                       {t('have_submit')}\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n                <Dialog\r\n                  open={this.state.open}\r\n                  onClose={this.handleClose}\r\n                  aria-labelledby=\"form-dialog-title\"\r\n                >\r\n                  <DialogTitle id=\"form-dialog-title\">{t('inpt_NFT_ID')}</DialogTitle>\r\n                  <DialogContent>\r\n                    <DialogContentText>\r\n                      {t('inpt_NFT_ID_tip')}\r\n                    </DialogContentText>\r\n                    <label style={{ fontSize: 14, marginBottom: 10 }}>NFT ID *</label>\r\n                    <InputNumber\r\n                      defaultValue={0}\r\n                      min={0}\r\n                      onChange={this.handleGetNFTId}\r\n                    />\r\n                  </DialogContent>\r\n                  <DialogActions>\r\n                    <Button onClick={this.handleClose} color=\"primary\">\r\n                       {t('cancel')}\r\n                    </Button>\r\n                    <Button variant=\"contained\" onClick={this.jump} color=\"primary\" >\r\n                       {t('go_upload')}\r\n                    </Button>\r\n                  </DialogActions>\r\n                </Dialog>\r\n              </div>\r\n            </Container>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(EncryptedPublish))\r\n//todo 涉及交易","import './App.css';\r\nimport React, { Component } from 'react';\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport TopBar from './TopBar';\r\n\r\nconst styles = theme => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  titleFont: {\r\n    fontFamily: 'Teko',\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n  },\r\n  btnMain: {\r\n    color: '#FFFFFF',\r\n    borderColor: '#e3f2fd',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  btnSecond: {\r\n    // marginTop: theme.spacing(3),\r\n    color: '#03A9F4',\r\n    borderColor: '#03A9F4',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n      width: 95\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(7),\r\n    maxWidth: '150%',\r\n\r\n  },\r\n\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    marginTop: 20,\r\n    lineHeight: 1.5,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n    },\r\n  },\r\n\r\n  shouldKnow: {\r\n    fontFamily: 'Teko',\r\n    textAlign: 'center',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 40,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 40,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 60,\r\n    },\r\n  },\r\n});\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#FDFEFE',\r\n    },\r\n    secondary: {\r\n      main: '#2196f3',\r\n    }\r\n  },\r\n});\r\n\r\nclass Buy extends Component {\r\n  render() {\r\n    const { classes } = this.props\r\n    return (\r\n      <div>\r\n        <ThemeProvider theme={theme}>\r\n          <TopBar />\r\n          <Container component=\"main\" className={classes.container}>\r\n            <div className={classes.paper}>\r\n              <Typography color=\"inherit\" noWrap className={classes.shouldKnow}>\r\n                <b>敬请期待</b>\r\n              </Typography>\r\n            </div>\r\n          </Container>\r\n        </ThemeProvider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Buy);","import React from 'react';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport App from './App';\r\nimport Publish from './Publish';\r\nimport NFTInfo from './NFTInfo';\r\nimport SellSingle from './SellSingle';\r\nimport BuySingle from './BuySingle';\r\nimport Collections from './Collections';\r\nimport Spark from './NFTSpark';\r\nimport IntroPublish from './IntroPublish';\r\nimport EncryptedPublish from './EncryptedPublish';\r\nimport Buy from './Buy';\r\n\r\nconst BasicRoute = () => (\r\n  <HashRouter >\r\n    <Switch>\r\n      <Route exact path=\"/\" component={App} />\r\n      <Route exact path=\"/introPublish\" component={IntroPublish} />\r\n      <Route exact path=\"/buy\" component={Buy} />\r\n      <Route exact path=\"/publish\" component={Publish} />\r\n      <Route exact path=\"/encryptedPublish\" component={EncryptedPublish} />\r\n      <Route exact path=\"/sellSingle/:NFTId\" component={SellSingle} />\r\n      <Route exact path=\"/buySingle/:NFTId\" component={BuySingle} />\r\n      <Route exact path=\"/collections\" component={Collections} />\r\n      <Route exact path=\"/NFT/:id\" component={NFTInfo} />\r\n      <Route exact path=\"/NFT/spark/:id\" component={Spark} />\r\n    </Switch>\r\n  </HashRouter>\r\n);\r\n\r\n\r\nexport default BasicRoute;","import i18next from 'i18next'\r\nimport {initReactI18next} from 'react-i18next'\r\nimport XHR from 'i18next-xhr-backend'\r\nimport LanguageDetector from 'i18next-browser-languagedetector'\r\n\r\ni18next.use(XHR).use(LanguageDetector).use(initReactI18next).init({\r\n    backend: {\r\n        loadPath:'./locales/{{lng}}.json'\r\n    },\r\n    react: {\r\n        useSuspense: false\r\n    },\r\n    fallbackLng: 'en',\r\n    preload: [\r\n        'en', 'zh','zh-cn'\r\n    ],\r\n    keySeparator: false,\r\n    interpolation: {\r\n        escapeValue: false\r\n    }\r\n})\r\n\r\nexport default i18next","import React, {Suspense} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/css/bootstrap-theme.css';\r\nimport Router from './Router';\r\nimport './i18n';\r\n\r\nReactDOM.render(\r\n  <Router />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n","module.exports.pinata_api_key = 'e991ae84dcfbb8989294'\r\nmodule.exports.pinata_secret_api_key = 'c0bacda4094b3e5edc720e15a07ffc7cb853c383cbff0fcc14eda8024e7223de'\r\n"],"sourceRoot":""}