{"version":3,"sources":["imgs/books.png","imgs/metamask.png","isMobile.js","LanguageBtn.js","TopBar.js","imgs/TP.png","imgs/sparkLink.jpg","App.js","serviceWorker.js","web3.js","contract.js","Publish.js","imgs/poster.png","imgs/imgloading.png","Poster.js","MaskLayer.js","NFTInfo.js","SellSingle.js","BuySingle.js","Collections.js","NFTSpark.js","IntroPublish.js","EncryptedPublish.js","Buy.js","Router.js","i18n.js","index.js","project.secret.js"],"names":["userAgent","navigator","toLowerCase","isMobile","test","tokenId","options","lngOptions","LanguageBtn","fontColor","userProfile","reactLocalStorage","getObject","language","i18next","indexInit","useState","selectedIndex","setSelectedIndex","React","anchorEl","setAnchorEl","handleCloseProfile","index","event","a","changeLanguage","setObject","Button","onClick","currentTarget","style","color","toUpperCase","Menu","id","keepMounted","open","Boolean","onClose","map","option","MenuItem","selected","value","TOKENPOCKET","METAMASK","LASTCONNECT","tp","require","TopBar","createTheme","breakpoints","values","xs","sm","md","lg","xl","palette","primary","main","secondary","state","isConnected","userAddress","accountInfo","dialogOpen","wallet","checkMetaMask","Web3","givenProvider","w3","window","web3","currentProvider","eth","getAccounts","accounts","console","log","length","setState","account","substring","localStorage","setItem","checkTokenPocket","getCurrentWallet","then","data","address","handleSelectTokenPockect","getTokenPocketAccount","handleSelectMetaMask","getMetaMaskAccount","handleDialogOpen","handleDialogClose","sleep","ms","Promise","resolve","setTimeout","request","method","alert","debug","getWallet","walletTypes","switch","handleTokenButtonOnClick","string","getItem","disconnect","removeItem","lastConnect","this","classes","props","t","Dialog","className","dialog","DialogTitle","title","Typography","component","noWrap","DialogContent","Grid","container","spacing","size","btnWallet","btnImg","src","metamaskpic","textAlign","Toolbar","direction","justifyContent","item","titleGrid","href","alt","logo","btnGrid","btn","target","GithubOutlined","icon","variant","btnUser","titleToken","Component","withTranslation","withStyles","theme","down","fontSize","up","marginTop","marginBottom","fontFamily","between","minWidth","marginLeft","width","borderColor","height","objectFit","position","margin","left","top","withTheme","App","ThemeProvider","page","Container","paper","title2","title3","books","btnMain","btnSecond","marginRight","titleFont","borderWidth","borderRadius","maxWidth","location","hostname","match","error","Contract","pinata_api_key","pinata_secret_api_key","FormData","bs58","Option","Select","abi","Publish","name","bonusFee","price","buffer","ipfsHashCover","ipfsMeta","fileIpfs","description","shareTimes","onLoading","rootNFTId","usedAcc","sig","fileType","finished","coverURL","token_addr","token_symbol","decimal","handleGetPubName","handleGetBonusFee","handleGetPrice","handleGetShareTimes","handleGetDescription","e","handleSearch","tokens_list","tokens","matched_data","reg","RegExp","token","symbol_lower_case","symbol","showed_text","info","text","includes","push","handleSelectChange","token_decimal","decimals","undefined","token_contract","methods","call","message","submit","obj","content","img_url","trimmed_des","replace","ethereum","file_url","JSONBody","axios","post","headers","response","IpfsHash","bytes","decode","bytesToContract","toString","price_with_decimal","ipfsToContract","getGasPrice","gasPrice","new_gas_price","Math","floor","parseInt","contract","publish","send","from","on","receipt","returned_values","events","returnValues","root_nft_id","issue_id","issueId","success","warning","checkDetail","new_url","params","chainId","TextArea","Input","d","prop","action","beforeUpload","file","reject","reader","FileReader","readAsArrayBuffer","onload","b","result","append","onChange","status","onDrop","dataTransfer","files","propFile","file_type","split","file_suffix","spinning","titleCon","Paper","paperImg","button","titlePub","form","noValidate","placeholder","allowClear","input","defaultValue","min","max","formatter","parser","inputNum","showSearch","defaultActiveFirstOption","showArrow","filterOption","onSearch","notFoundContent","rows","minHeight","accept","InboxOutlined","startIcon","CloudUploadOutlined","backgroundColor","display","flexDirection","alignItems","avatar","blue","fileBtn","padding","background","border","boxShadow","Poster","str","share","coverImg","coverHeight","coverWidth","splited","currency","imgRef","useRef","useEffect","draw","ctx","dataUrl","qrcode","Image","drawImage","crossOrigin","h","w","ratio","standardRatio","preWidth","preHeight","getImgPos","bg","bgImg","font","fillText","strokeRect","QRCode","toDataURL","errorCorrectionLevel","quality","canvas","document","createElement","getContext","context","backingStore","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","devicePixelRatio","getPixelRatio","globalCompositeOperation","dataURL","current","ref","loading","MaskLayer","children","FileSaver","CryptoJS","NFTInfo","gateway","backend","showDecryptProgress","decryptPercentage","showProgress","percentage","Profit","loadItem","Cover","Name","Description","BonusFee","childrenNum","encrypted","isEncrypt","spark","tokenAddr","tokenSymbol","return","reload","claim","claimProfit","downloadIPFS","dataSplits","dataHash","cipher_config","url","onDownloadProgress","progress","round","loaded","total","ciphertext","signJSON","JSON","stringify","signDataAndDecrypt","open_config","responseType","URL","createObjectURL","Blob","link","suffix","fileName","download","body","appendChild","click","removeChild","revokeObjectURL","signer","json_str","personal","sign","payload","payload_str","req_key_url","res","key","AES","decrypt","plainText","enc","Utf8","wordArray","Hex","parse","BaText","wordArrayToByteArray","blob","saveAs","error_msg","wordToByteArray","word","lengthBefore","addedLength","hasOwnProperty","sigBytes","words","bytesAdded","current_bytes","i","added_info","percent","Uint8Array","flag","downloadPoster","getShillPriceByNFTId","ownerOf","owner","utils","toChecksumAddress","getTokenAddrByNFTId","getProfitByNFTId","profit","price_poster","tokenURI","meta","hash","getIssueIdByNFTId","issue","getRoyaltyFeeByIssueId","royalty","file_hash","request_url","timeout","fileAddr","attributes","trait_type","image","leafUrl","get","children_num","children_count","catch","gutterBottom","type","ArrowLeftOutlined","alignContent","cbutton","MoneyCollectOutlined","DollarCircleOutlined","Skeleton","animation","imagePapaer","imageStyle","content2","align","paragraph","cbutton2","DownloadOutlined","FireOutlined","toUrl","host","coverRef","getElementById","sell_info","SellSingle","ipfsHashMeta","toAddress","NFTId","onSale","copied","currentAcc","handleClickOpen","handleClose","handleGetAddr","handleClickLink","sell","determinePriceAndApprove","metadata","bonus","name_holder","getTransferPriceByNFTId","child_url","showSellBtn","btnSell","disabled","img","imgPaper","DialogContentText","DialogActions","onCopy","IconButton","CopyOutlined","BuySingle","sparkAddr","priceString","approvedAddr","approved","handleBuy","safeTransferFrom","handleApprove","approve","getApproved","allowance","buyButton","btnDisable","Collections","cards","isLogin","user_address","viewable","onloading","SkeletoNumber","noNFT","getMetadata","nft","metaDatas","ipfs_link","ipfs_hash_arr","ipfs_hash","getNft","balanceId","checksum_address","renderDescription","balanceOf","nft_number","ids","element","reversed_cards","reverse","_chainId","cardGrid","Array","card","Card","CardMedia","cardMedia","CardContent","cardContent","CardActions","showCard","heroContent","paddingTop","paddingBottom","flexGrow","NFTSpark","remainShillTimes","maxShillTimes","recommendNFT","shill","acceptShill","bouns","remain_shill_times","max_shill_times","shill_times","suggest_next_nft","showRecommend","imagePaper","Link","textDecoration","IntroPublish","shouldKnow","lineHeight","EncryptedPublish","allowSubmitPDF","jumped","handleGetNFTId","String","jump","submitWork","setURI","SetURI","nft_id","secret_key","lib","WordArray","create","cipher_text","encrypt","myblob","btnPub","Buy","BasicRoute","exact","path","Spark","use","XHR","LanguageDetector","initReactI18next","init","loadPath","react","useSuspense","fallbackLng","preload","keySeparator","interpolation","escapeValue","ReactDOM","render","Router","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.ca4d84f9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/books.6e483aa8.png\";","export default __webpack_public_path__ + \"static/media/metamask.31c2d1d3.png\";","//判断当前设备是否为移动设备\r\nvar isMobile;\r\nlet userAgent = navigator.userAgent.toLowerCase();\r\nif (/ipad|iphone|midp|rv:1.2.3.4|ucweb|android|windows ce|windows mobile/.test(userAgent)) {\r\n    isMobile = true;\r\n} else {\r\n    isMobile = false;\r\n}\r\nexport default isMobile;\r\n","import React, {useState} from 'react'\r\nimport TranslateIcon from \"@material-ui/icons/Translate\"\r\nimport DownIcon from '@material-ui/icons/KeyboardArrowDown';\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport PropTypes from \"prop-types\";\r\nimport {reactLocalStorage} from 'reactjs-localstorage'\r\nimport i18next from 'i18next'\r\n\r\nconst tokenId = \"multilanguage_demo\";\r\nconst options = ['English', \"中文\"];\r\nconst lngOptions = ['en', 'zh'];\r\n\r\nfunction LanguageBtn({fontColor}) {\r\n    let userProfile = reactLocalStorage.getObject(tokenId) || {};\r\n    const language = userProfile['lng'] || i18next.language;\r\n    const indexInit = (language === 'zh' || language === 'zh-CN' || language === 'zh-cn') ? 1 : 0;\r\n    const [selectedIndex, setSelectedIndex] = useState(indexInit);\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = event => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n    const handleCloseProfile = index => async event => {\r\n        if (index === selectedIndex) {\r\n            return;\r\n        }\r\n        setAnchorEl(null);\r\n        await i18next.changeLanguage(lngOptions[index])\r\n        userProfile['lng'] = lngOptions[index]\r\n        reactLocalStorage.setObject(tokenId, userProfile)\r\n        setSelectedIndex(index)\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                 aria-haspopup=\"true\"\r\n                 onClick={handleClick}\r\n             >\r\n                 <TranslateIcon  style={{color: fontColor}} />\r\n                 <p style={{color: fontColor}} >{options[selectedIndex].toUpperCase()}</p>\r\n                 <DownIcon style={{color: fontColor}} />\r\n             </Button>\r\n             <Menu\r\n                 id=\"simple-menu\"\r\n                 anchorEl={anchorEl}\r\n                 keepMounted\r\n                 open={Boolean(anchorEl)}\r\n                 onClose={handleClose}\r\n              >\r\n                  {options.map((option,index) => (\r\n                      <MenuItem\r\n                          key = {option}\r\n                          selected = {index === selectedIndex }\r\n                          onClick={handleCloseProfile(index)}\r\n                          value = {index}\r\n                      >\r\n                        {option}\r\n                      </MenuItem>\r\n                  ))}\r\n             </Menu>\r\n        </>\r\n    )\r\n}\r\n\r\nLanguageBtn.propTypes = {\r\n    classes: PropTypes.object\r\n};\r\n\r\nexport default LanguageBtn;\r\n","import React, { Component } from 'react';\r\nimport logo from './imgs/sparkLink.jpg';\r\nimport './App.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { createTheme, withStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Avatar from '@material-ui/core/Avatar'\r\n//import ChooseWalletDialog from './ChooseWalletDialog'\r\nimport { Dialog, DialogContent, DialogTitle, List, ListItem, ListItemAvatar, ListItemText } from \"@material-ui/core\"\r\nimport { GithubOutlined, WalletOutlined, WalletTwoTone, WalletFilled } from '@ant-design/icons';\r\nimport Web3 from 'web3';\r\nimport metamaskpic from './imgs/metamask.png'\r\nimport TPpic from './imgs/TP.png'\r\nimport { CenterFocusStrong, WallpaperOutlined, Web } from '@material-ui/icons';\r\nimport isMobile from './isMobile';\r\nimport { icons } from 'antd/lib/image/PreviewGroup';\r\nimport LanguageBtn from './LanguageBtn';\r\nimport { withTranslation } from 'react-i18next';\r\n//字符串常量\r\nconst TOKENPOCKET = \"TokenPocket\";\r\nconst METAMASK = \"MetaMask\";\r\nconst LASTCONNECT = \"lastConnect\";\r\nconst USERADDRESS = \"userAddress\"\r\n\r\n//TP钱包支持\r\nvar tp = require('tp-js-sdk');\r\n\r\nconst theme = createTheme({\r\n  breakpoints: {\r\n    values: {\r\n      xs: 0,\r\n      sm: 600,\r\n      md: 900,\r\n      lg: 1200,\r\n      xl: 1536,\r\n    },\r\n  },\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n});\r\n\r\n\r\n//todo theme传参无用\r\nconst styles = theme => ({\r\n  icon: {\r\n    [theme.breakpoints.down('xl')]: {\r\n      fontSize: 19,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 27,\r\n    },\r\n  },\r\n  titleGrid: {\r\n    marginTop: 25,\r\n    marginBottom: 10,\r\n    textAlign: 'center',\r\n  },\r\n  titleToken: {\r\n    fontSize: 22,\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 15,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 15,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 22,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 25,\r\n    },\r\n  },\r\n  title: {\r\n    minWidth: 100,\r\n    fontSize: 25,\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 45,\r\n    },\r\n  },\r\n  btnGrid: {\r\n    // marginTop: 25,\r\n    marginBottom: 10,\r\n    minWidth: 370,\r\n    marginTop: 30,\r\n    // backgroundColor: '#e3f2fd',\r\n    [theme.breakpoints.down('sm')]: {\r\n      marginLeft: 30\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '12vw'\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '33vw'\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '40vw'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginTop: 40,\r\n      marginLeft: '60vw',\r\n    },\r\n  },\r\n  dialog: {\r\n    textAlign: 'center'\r\n  },\r\n  btnImg: {\r\n\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 20,\r\n      width: 100,\r\n\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n\r\n      width: 150,\r\n\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n\r\n      width: 150,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n\r\n      width: 150,\r\n\r\n    },\r\n  },\r\n  btnWallet: {\r\n    color: '#424949',\r\n    borderColor: '#e3f2fd',\r\n    textAlign: 'center',\r\n    fontSize: 15,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 20,\r\n      width: 100,\r\n      height: 100,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 22,\r\n      width: 155,\r\n      height: 155,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 22,\r\n      width: 155,\r\n      height: 155,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 28,\r\n      width: 155,\r\n      height: 155,\r\n    },\r\n  },\r\n  btnUser: {\r\n    color: '#424949',\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 15,\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 15,\r\n      width: 80,\r\n      height: 40,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 15,\r\n      width: 100\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 15,\r\n      width: 200\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 22,\r\n    },\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 15,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 15,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 18,\r\n      width: 100\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 18,\r\n      width: 100\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 25,\r\n    },\r\n  },\r\n  logo: {\r\n    objectFit: 'contain',\r\n    position: 'absolute',\r\n    [theme.breakpoints.down('sm')]: {\r\n      width: '30%',\r\n      margin: '0 auto'\r\n    },\r\n    [theme.breakpoints.between('sm', 'lg')]: {\r\n      width: 200,\r\n      left: 60,\r\n      top: 0\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      width: 200,\r\n      left: 150,\r\n      top: 0\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      width: 350,\r\n      left: 160,\r\n      top: -15\r\n    },\r\n  }\r\n\r\n});\r\n\r\nclass TopBar extends Component {\r\n\r\n  state = {\r\n    isConnected: '',\r\n    userAddress: '',\r\n    accountInfo: '',\r\n    dialogOpen: false,\r\n    wallet: '',\r\n  };\r\n\r\n\r\n\r\n  async componentWillMount() {\r\n    //todo 从本地获取登陆状态（登陆记录）\r\n    let lastConnect = localStorage.getItem(LASTCONNECT)\r\n    console.log(\"lastconnect:  \" + lastConnect)\r\n    if (lastConnect === null) {\r\n      this.setState({\r\n        isConnected: false,\r\n      });\r\n    }\r\n    else if (lastConnect === METAMASK) {\r\n      this.checkMetaMask();\r\n    }\r\n    else if (lastConnect === TOKENPOCKET) {\r\n      this.checkTokenPocket();\r\n    }\r\n\r\n\r\n\r\n    // //在Web端仅检测小狐狸登陆状态\r\n    // if (!isMobile) {\r\n    //   this.checkMetaMask()\r\n    // }\r\n    // //在手机端先检测TP\r\n    // else {\r\n    //   tp.getCurrentWallet().then(value => {\r\n    //     const account = await value.data.address;\r\n    //     if (account.length == 0) {\r\n    //       this.setState({\r\n    //         isConnected: true\r\n    //       });\r\n    //     } else {\r\n    //       console.log(accounts)\r\n\r\n    //       this.setState({ accountInfo: account.substring(0, 5), });\r\n    //       this.setState({\r\n    //         isConnected: true\r\n    //       });\r\n    //       localStorage.setItem(USERADDRESS, account);\r\n    //     }\r\n\r\n    //     // })\r\n\r\n    //   })\r\n    // }\r\n\r\n\r\n    // if (Web3.givenProvider) {\r\n    //   //console.log(Web3.givenProvider)\r\n    //   //let w3 = new Web3(window.ethereum);\r\n    //   let w3 = new Web3(window.web3.currentProvider);\r\n    //   const accounts = await w3.eth.getAccounts();\r\n    //   if (accounts.length == 0) {\r\n    //     this.setState({\r\n    //       isConnected: false\r\n    //     });\r\n    //   } else {\r\n    //     console.log(accounts)\r\n    //     var account = accounts[0]\r\n    //     this.setState({ accountInfo: account.substring(0, 5), });\r\n    //     this.setState({\r\n    //       isConnected: true\r\n    //     });\r\n    //     localStorage.setItem(\"userAddress\", account);\r\n    //   }\r\n    //   console.log(Web3.givenProvider);\r\n    //   console.log(this.state.isConnected)\r\n    // }\r\n  }\r\n\r\n  //check小狐狸账户\r\n  checkMetaMask = async () => {\r\n    if (Web3.givenProvider) {\r\n      //console.log(Web3.givenProvider)\r\n      //let w3 = new Web3(window.ethereum);\r\n      let w3 = new Web3(window.web3.currentProvider);\r\n      const accounts = await w3.eth.getAccounts();\r\n      console.log(\"accounts: \" + accounts)\r\n      if (accounts.length == 0) {\r\n        this.setState({\r\n          isConnected: false\r\n        });\r\n      } else {\r\n        console.log(accounts)\r\n        var account = accounts[0]\r\n        console.log(\"account: \" + account);\r\n        this.setState({ accountInfo: account.substring(0, 5), });\r\n        this.setState({\r\n          isConnected: true\r\n        });\r\n        this.setState({ userAddress: account });\r\n        //localStorage.setItem(USERADDRESS, account);\r\n        localStorage.setItem(LASTCONNECT, METAMASK)\r\n      }\r\n      console.log(Web3.givenProvider);\r\n      console.log(this.state.isConnected)\r\n    }\r\n\r\n  }\r\n\r\n  //check TP账户\r\n  checkTokenPocket = async () => {\r\n    await tp.getCurrentWallet().then(value => {\r\n      const account = value.data.address;\r\n      if (account.length == 0) {\r\n        this.setState({\r\n          isConnected: false\r\n        });\r\n      } else {\r\n        //console.log(accounts)\r\n        this.setState({ accountInfo: account.substring(0, 5), });\r\n        this.setState({\r\n          isConnected: true\r\n        });\r\n        //localStorage.setItem(USERADDRESS, account);\r\n        this.setState({ userAddress: account });\r\n        localStorage.setItem(LASTCONNECT, TOKENPOCKET);\r\n      }\r\n\r\n      // })\r\n\r\n    })\r\n\r\n  }\r\n\r\n\r\n  //点击使用tokenpocket\r\n  handleSelectTokenPockect = () => {\r\n    this.getTokenPocketAccount()\r\n    this.setState({\r\n      dialogOpen: false,\r\n    });\r\n\r\n  }\r\n\r\n  //点击使用MetaMask\r\n  handleSelectMetaMask = () => {\r\n    this.getMetaMaskAccount()\r\n    this.setState({\r\n      dialogOpen: false,\r\n    });\r\n  }\r\n\r\n  handleDialogOpen = () => {\r\n    this.setState({\r\n      dialogOpen: true,\r\n    })\r\n  }\r\n\r\n  handleDialogClose = () => {\r\n    this.setState({\r\n      dialogOpen: false,\r\n    })\r\n  }\r\n\r\n  sleep = async (ms) => {\r\n    return new Promise((resolve) => setTimeout(resolve, ms));\r\n  }\r\n\r\n\r\n  //获取MetaMask用户地址\r\n  getMetaMaskAccount = async () => {\r\n    try {\r\n      //const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      const accounts = await window.web3.currentProvider.request({ method: 'eth_requestAccounts' })\r\n      const account = accounts[0];\r\n      alert('您已经连接metamask, 当前账户： ' + account)\r\n      this.setState({ isConnected: true, });\r\n      this.setState({ userAddress: account });\r\n      //localStorage.setItem(USERADDRESS, account);\r\n      localStorage.setItem(LASTCONNECT, METAMASK);\r\n    } catch (error) {\r\n      console.debug(error)\r\n      this.setState({ isConnected: false, });\r\n    }\r\n  }\r\n\r\n  //获取TokenPocket用户地址\r\n  getTokenPocketAccount = async () => {\r\n    if (this.state.isConnected) {\r\n      alert('您已经连接tokenpocket, 当前账户： ' + this.state.userAddress)\r\n    }\r\n    else {\r\n      try {\r\n        //todo 使用TP链接\r\n        let account;\r\n        await tp.getWallet({ walletTypes: ['matic'], switch: false }).then(\r\n          value => {\r\n            account = value.data.address;\r\n          }\r\n        )\r\n        alert('您已经连接tokenpocket, 当前账户： ' + account)\r\n        this.setState({ isConnected: true, });\r\n        this.setState({ userAddress: account });\r\n        //localStorage.setItem(USERADDRESS, account); //储存用户address\r\n        localStorage.setItem(LASTCONNECT, TOKENPOCKET); //储存上次登陆的信息\r\n      } catch (error) {\r\n        console.debug(error);\r\n        this.setState({ isConnected: false });\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  //登陆后点击token按钮\r\n  handleTokenButtonOnClick = () => {\r\n    let string = localStorage.getItem(LASTCONNECT);\r\n    if (string === METAMASK) this.getMetaMaskAccount();\r\n    else if (string === TOKENPOCKET) this.getTokenPocketAccount();\r\n  }\r\n\r\n  //logout\r\n  //todo 未做登出\r\n  disconnect = () => {\r\n    this.setState({ isConnected: false });\r\n    //localStorage.removeItem(USERADDRESS);\r\n    localStorage.removeItem(LASTCONNECT);\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n\tconst { t } = this.props\r\n    return (\r\n      <div>\r\n        <Dialog className={classes.dialog} onClose={this.handleDialogClose} open={this.state.dialogOpen}>\r\n          <DialogTitle className={console.title}>\r\n            <Typography component=\"h1\" color=\"inherit\" noWrap className={classes.title} >\r\n              Connect Wallet\r\n            </Typography>\r\n          </DialogTitle>\r\n          <DialogContent>\r\n            <Grid container spacing={1}>\r\n              <Button size=\"large\" className={classes.btnWallet} id='MetaMask' onClick={this.handleSelectMetaMask} >\r\n                <img className={classes.btnImg} src={metamaskpic}></img>\r\n              </Button>\r\n              <Button size=\"large\" className={classes.btnWallet} onClick={!isMobile ? this.handleSelectMetaMask : this.handleSelectTokenPockect}>\r\n                <img className={classes.btnImg} src={TPpic}></img>\r\n              </Button>\r\n            </Grid>\r\n            <Grid>\r\n              <Typography component=\"h1\" color=\"inherit\" style={{ textAlign: 'center' }} noWrap className={classes.title} >\r\n                . . .\r\n              </Typography>\r\n            </Grid>\r\n          </DialogContent>\r\n\r\n\r\n\r\n        </Dialog>\r\n\r\n        <Toolbar>\r\n          <Grid container direction=\"row\" justifyContent=\"flex-start\" >\r\n            <Grid item className={classes.titleGrid} xs={2}>\r\n              <Typography component=\"h1\" color=\"inherit\" noWrap className={classes.title} >\r\n                <a href='/#/' >\r\n                  <img alt=\"logo\" src={logo} className={classes.logo} />\r\n                </a>\r\n              </Typography>\r\n            </Grid>\r\n            <Grid item className={classes.btnGrid}>\r\n              <Button size=\"large\" className={classes.btn} href='/#/' >\r\n                <b>{t('index')}</b>\r\n              </Button>\r\n              <Button size=\"large\" className={classes.btn} href='/#/introPublish'>\r\n                <b>{t('publish')}</b>\r\n              </Button>\r\n              <Button size=\"large\" className={classes.btn} href='/#/collections'>\r\n                <b>{t('collection')}</b>\r\n              </Button>\r\n              <Button size=\"large\" href='https://github.com/SparkNFT' target=\"_blank\">\r\n                <GithubOutlined className={classes.icon} />\r\n              </Button>\r\n\t\t\t  <LanguageBtn />\r\n              {this.state.isConnected ? (\r\n                // <Button onClick={this.getAccount}>\r\n                //   <WalletTwoTone className={classes.icon} />\r\n                // </Button>\r\n                <Button size=\"large\" variant=\"contained\" className={classes.btnUser} onClick={this.handleTokenButtonOnClick}>\r\n                  <Typography component=\"\" color=\"inherit\" noWrap className={classes.titleToken}>\r\n                    {this.state.userAddress.substring(0, 6)}...{this.state.userAddress.substring(this.state.userAddress.length - 5, this.state.userAddress.length)}\r\n                  </Typography>\r\n                </Button>\r\n              ) : (\r\n                // <Button onClick={this.getAccount}>\r\n                //   <WalletFilled className={classes.icon} />\r\n                // </Button>\r\n                <Button variant=\"contained\" className={classes.btnUser} onClick={this.handleDialogOpen}>\r\n                  <Typography component=\"\" color=\"inherit\" noWrap className={classes.titleToken}>\r\n                    <b> Connect Wallet</b>\r\n                  </Typography>\r\n                </Button>\r\n              )}\r\n              {/* <Button onClick={this.disconnect}> akdalk</Button> */}\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(TopBar));\r\n/*\r\ntodo\r\n目前TP兼容仅作TopBar上的登陆，未处理其他交互的TP支持；\r\n界面未做logout操作，disconnect函数已写完；\r\nconnect Wallet界面UI待更改；\r\n*/\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/jpeg;base64,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\"","import books from './imgs/books.png';\r\nimport './App.css';\r\nimport React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport TopBar from './TopBar';\r\nimport { withTranslation } from 'react-i18next';\r\nimport LanguageBtn from './LanguageBtn';\r\nconst styles = theme => ({\r\n  title: {\r\n    fontFamily: 'Teko',\r\n    marginTop: '25%',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 100,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 150,\r\n    },\r\n  },\r\n  title2: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 15,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 55,\r\n    },\r\n  },\r\n  title3: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 8,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 15,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 45,\r\n    },\r\n  },\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  titleFont: {\r\n    fontFamily: 'Teko',\r\n  },\r\n  btnMain: {\r\n    // marginTop: theme.spacing(3),\r\n    color: '#FFFFFF',\r\n    borderColor: '#e3f2fd',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  btnSecond: {\r\n    // marginTop: theme.spacing(3),\r\n    color: '#03A9F4',\r\n    borderColor: '#03A9F4',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(7),\r\n    textAlign: 'center'\r\n  },\r\n  container: {\r\n    maxWidth: '100%'\r\n  },\r\n  books: {\r\n    width: '90%',\r\n    height: 'auto'\r\n  }\r\n});\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#FDFEFE',\r\n    },\r\n    secondary: {\r\n      main: '#2196f3',\r\n    }\r\n  },\r\n});\r\n\r\nclass App extends Component {\r\n  render() {\r\n\tconst { t } = this.props;\r\n    const { classes } = this.props\r\n    return (\r\n      <div>\r\n\r\n        <ThemeProvider theme={theme}>\r\n          <div className={classes.page}>\r\n            <TopBar />\r\n            <Container component=\"main\" className={classes.container}>\r\n              <div className={classes.paper}>\r\n                <Grid container justifyContent=\"center\" >\r\n                  <Grid item style={{ minWidth: '50%' }}>\r\n                    <Typography color=\"inherit\" noWrap className={classes.title} >\r\n                      <b>SparkLink</b>\r\n                    </Typography>\r\n                    <Typography color=\"inherit\" noWrap className={classes.title2}>\r\n                      <b>{t('index_slogan')}</b>\r\n                    </Typography>\r\n                    <Typography color=\"inherit\" noWrap className={classes.title3}>\r\n                      {t('index_slogan_bottom')}\r\n                    </Typography>\r\n\r\n                  </Grid>\r\n                  <Grid item xs={5} >\r\n                    <img src={books} className={classes.books} />\r\n                  </Grid>\r\n                  <Grid container justifyContent=\"center\" spacing={5} >\r\n                    <Grid item >\r\n                      <Button size=\"large\" variant=\"contained\" color=\"secondary\" className={classes.btnMain} href='/#/introPublish'>\r\n                        <b>{t('go_publish')}</b>\r\n                      </Button>\r\n                    </Grid>\r\n                    <Grid item >\r\n                      <Button size=\"large\" variant=\"outlined\" color=\"secondary\" className={classes.btnSecond} href='/#/buy'>\r\n                        <b>{t('go_buy')}</b>\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </div>\r\n            </Container>\r\n          </div>\r\n        </ThemeProvider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default  withTranslation()(withStyles(styles, { withTheme: true })(App));","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.0/8 are considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n  )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n//todo ","import Web3 from 'web3';\r\nvar web3;\r\ntry {\r\n  //web3 = new Web3(window.ethereum);\r\n  web3 = new Web3(window.web3.currentProvider);\r\n  // web3 = new Web3(new Web3.providers.HttpProvider('https://matic-mainnet--jsonrpc.datahub.figment.io/apikey/e84b63fff0e37deb30837101f20eb793/'))\r\n} catch (error) {\r\n  web3 = new Web3('ws://localhost:8546');\r\n}\r\nexport default web3;","import web3 from './web3';\r\n\r\nconst address = '0xb42d4525841008A69E427026DF354067fD6A524f'; // rinkeby 0x7B5B92B0eD1DfeafdbD724b177A7733Bda67497F\r\nconst abi = [\r\n  {\r\n    \"inputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"constructor\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"approved\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"Approval\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"operator\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"approved\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"name\": \"ApprovalForAll\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"receiver\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"amount\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"name\": \"Claim\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"transfer_price\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"name\": \"DeterminePrice\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"transfer_price\",\r\n        \"type\": \"uint128\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"DeterminePriceAndApprove\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"string\",\r\n        \"name\": \"content\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"name\": \"Label\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"issue_id\",\r\n        \"type\": \"uint32\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"publisher\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"rootNFTId\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"token_addr\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"Publish\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"bytes32\",\r\n        \"name\": \"old_URI\",\r\n        \"type\": \"bytes32\"\r\n      },\r\n      {\r\n        \"indexed\": false,\r\n        \"internalType\": \"bytes32\",\r\n        \"name\": \"new_URI\",\r\n        \"type\": \"bytes32\"\r\n      }\r\n    ],\r\n    \"name\": \"SetURI\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"anonymous\": false,\r\n    \"inputs\": [\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"from\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"indexed\": true,\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"Transfer\",\r\n    \"type\": \"event\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"acceptShill\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"approve\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"balanceOf\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"claimProfit\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"_price\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"name\": \"determinePrice\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"_price\",\r\n        \"type\": \"uint128\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_to\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"determinePriceAndApprove\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"getApproved\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getDepthByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getEditionIdByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"pure\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getFatherByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getIssueIdByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"pure\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [],\r\n    \"name\": \"getLossRatio\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint8\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint8\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"pure\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getProfitByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getRemainShillTimesByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint16\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint16\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"getRootNFTIdByIssueId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"pure\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"getRoyaltyFeeByIssueId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint8\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint8\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getShillPriceByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"getShillTimesByIssueId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint16\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint16\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"getTokenAddrByIssueId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getTokenAddrByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"getTotalAmountByIssueId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"getTransferPriceByNFTId\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"\",\r\n        \"type\": \"uint128\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"owner\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"operator\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"isApprovedForAll\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"isEditionExisting\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint32\",\r\n        \"name\": \"_issue_id\",\r\n        \"type\": \"uint32\"\r\n      }\r\n    ],\r\n    \"name\": \"isIssueExisting\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      }\r\n    ],\r\n    \"name\": \"isRootNFT\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"pure\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"internalType\": \"string\",\r\n        \"name\": \"content\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"name\": \"label\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [],\r\n    \"name\": \"name\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"string\",\r\n        \"name\": \"\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"ownerOf\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint128\",\r\n        \"name\": \"_first_sell_price\",\r\n        \"type\": \"uint128\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint8\",\r\n        \"name\": \"_royalty_fee\",\r\n        \"type\": \"uint8\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint16\",\r\n        \"name\": \"_shill_times\",\r\n        \"type\": \"uint16\"\r\n      },\r\n      {\r\n        \"internalType\": \"bytes32\",\r\n        \"name\": \"_ipfs_hash\",\r\n        \"type\": \"bytes32\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"_token_addr\",\r\n        \"type\": \"address\"\r\n      }\r\n    ],\r\n    \"name\": \"publish\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"from\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"safeTransferFrom\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"from\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      },\r\n      {\r\n        \"internalType\": \"bytes\",\r\n        \"name\": \"_data\",\r\n        \"type\": \"bytes\"\r\n      }\r\n    ],\r\n    \"name\": \"safeTransferFrom\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"operator\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"approved\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"name\": \"setApprovalForAll\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint64\",\r\n        \"name\": \"_NFT_id\",\r\n        \"type\": \"uint64\"\r\n      },\r\n      {\r\n        \"internalType\": \"bytes32\",\r\n        \"name\": \"ipfs_hash\",\r\n        \"type\": \"bytes32\"\r\n      }\r\n    ],\r\n    \"name\": \"setURI\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"nonpayable\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"bytes4\",\r\n        \"name\": \"interfaceId\",\r\n        \"type\": \"bytes4\"\r\n      }\r\n    ],\r\n    \"name\": \"supportsInterface\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"bool\",\r\n        \"name\": \"\",\r\n        \"type\": \"bool\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [],\r\n    \"name\": \"symbol\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"string\",\r\n        \"name\": \"\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"tokenURI\",\r\n    \"outputs\": [\r\n      {\r\n        \"internalType\": \"string\",\r\n        \"name\": \"\",\r\n        \"type\": \"string\"\r\n      }\r\n    ],\r\n    \"stateMutability\": \"view\",\r\n    \"type\": \"function\"\r\n  },\r\n  {\r\n    \"inputs\": [\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"from\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"address\",\r\n        \"name\": \"to\",\r\n        \"type\": \"address\"\r\n      },\r\n      {\r\n        \"internalType\": \"uint256\",\r\n        \"name\": \"tokenId\",\r\n        \"type\": \"uint256\"\r\n      }\r\n    ],\r\n    \"name\": \"transferFrom\",\r\n    \"outputs\": [],\r\n    \"stateMutability\": \"payable\",\r\n    \"type\": \"function\"\r\n  }\r\n]\r\n\r\nexport default new web3.eth.Contract(abi, address);","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport { blue } from '@material-ui/core/colors'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { message } from 'antd'\r\nimport { InboxOutlined } from '@ant-design/icons'\r\nimport Dragger from 'antd/lib/upload/Dragger'\r\nimport { CloudUploadOutlined } from '@ant-design/icons'\r\n// import CloudUploadIcon from '@material-ui/icons/CloudUpload'\r\nimport { Input, InputNumber, Select, Spin } from 'antd'\r\nimport 'antd/dist/antd.css'\r\nimport TopBar from './TopBar'\r\nimport axios from 'axios'\r\nimport contract from './contract'\r\nimport web3 from './web3'\r\nimport ReactLoading from 'react-loading'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport * as tokens from './tokens_list.json'\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nconst {\r\n  pinata_api_key,\r\n  pinata_secret_api_key,\r\n} = require('./project.secret.js')\r\n\r\nconst FormData = require('form-data')\r\nconst bs58 = require('bs58')\r\nconst { Option } = Select\r\nconst abi = require('erc-20-abi')\r\n\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      width: '60%'\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 500\r\n    },\r\n  },\r\n  titleCon: {\r\n    marginTop: 50,\r\n    fontFamily: 'Ubuntu',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 30\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      fontSize: 40\r\n    },\r\n  },\r\n  paperImg: {\r\n    backgroundColor: '#EFEBE9',\r\n    width: 330,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: '5%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '30%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '30%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '40%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '45%',\r\n      marginTop: 30,\r\n    },\r\n  },\r\n  titlePub: {\r\n    marginTop: \"3%\",\r\n    fontFamily: 'Ubuntu',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 30\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      fontSize: 40\r\n    },\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: blue[500],\r\n    width: 60,\r\n    height: 60\r\n  },\r\n  form: {\r\n    width: '150%',\r\n    marginTop: theme.spacing(7),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  fileBtn: {\r\n    padding: '10px 30px 10px 30px',\r\n    background: '#66C1E4',\r\n    border: 'none',\r\n    color: '#FFF',\r\n    boxShadow: '1px 1px 1px #4C6E91',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    fontSize: 20,\r\n    borderRadius: 25,\r\n    color: '#FFFFFF',\r\n    backgroundColor: '#2196f3'\r\n  },\r\n  input: {\r\n    height: 40,\r\n    borderRadius: 3,\r\n    width: '100%',\r\n  },\r\n  inputNum: {\r\n    height: 40,\r\n    borderRadius: 3,\r\n    width: '100%',\r\n    fontSize: 20,\r\n  }\r\n})\r\n\r\n\r\nclass Publish extends Component {\r\n  state = {\r\n    name: '',\r\n    bonusFee: 0,\r\n    price: 0,\r\n    buffer: null,\r\n    ipfsHashCover: '',\r\n    ipfsMeta: '',\r\n    fileIpfs: '',\r\n    description: '',\r\n    shareTimes: 0,\r\n    onLoading: false,\r\n    rootNFTId: '',\r\n    usedAcc: '',\r\n    sig: '',\r\n    fileType: '',\r\n    finished: false,\r\n    coverURL: '',\r\n    data: [],\r\n    token_addr: null,\r\n    token_symbol: 'MATIC',\r\n    decimal: 0,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\tconst { t } = this.props;\r\n    if (!window.ethereum) {\r\n      alert(t('please_install_metamask'))\r\n      window.location.href = '/#/introPublish'\r\n      return\r\n    }\r\n    // const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n    if (chainId !== '0x89') {\r\n      alert(t('please_set_polygon'))\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n  }\r\n\r\n  handleGetPubName = (event) => {\r\n    this.setState({\r\n      name: event.target.value,\r\n    })\r\n  }\r\n\r\n  handleGetBonusFee = (value) => {\r\n    this.setState({\r\n      bonusFee: value,\r\n    })\r\n  }\r\n\r\n  handleGetPrice = (value) => {\r\n    this.setState({\r\n      price: value,\r\n    })\r\n  }\r\n\r\n  handleGetShareTimes = (value) => {\r\n    this.setState({\r\n      shareTimes: value,\r\n    })\r\n  }\r\n\r\n  handleGetDescription = (e) => {\r\n    this.setState({\r\n      description: e.target.value,\r\n    })\r\n  }\r\n\r\n  handleSearch = async (value) => {\r\n    if (value) {\r\n      var value = value.toLowerCase()\r\n      var tokens_list = tokens.tokens\r\n      var matched_data = []\r\n      let reg = new RegExp(value)\r\n      for (let token of tokens_list) {\r\n        var symbol_lower_case = token.symbol.toLowerCase()\r\n        var showed_text = `\\\"${token.symbol}\\\"` + \"   \" + token.address\r\n        var info = {\r\n          value: token.address,\r\n          text: showed_text\r\n        }\r\n        if (reg.test(symbol_lower_case) && !matched_data.includes(info)) {\r\n          matched_data.push(info)\r\n        }\r\n      }\r\n      if (value.includes('0x') && value.length == 42) {\r\n        var info = {\r\n          value: value,\r\n          text: value\r\n        }\r\n        matched_data = [info]\r\n      }\r\n      this.setState({\r\n        data: matched_data\r\n      })\r\n    } else {\r\n      this.setState({ data: [] })\r\n    }\r\n  }\r\n\r\n  handleSelectChange = async (value) => {\r\n\tconst {t} = this.props\r\n    var tokens_list = tokens.tokens\r\n    let address\r\n    let token_symbol\r\n    let token_decimal\r\n    for (let token of tokens_list) {\r\n      if (value === token.address) {\r\n        address = value\r\n        token_symbol = token.symbol\r\n        token_decimal = token.decimals\r\n      }\r\n    }\r\n    if (token_symbol == undefined) {\r\n\r\n      try {\r\n        const token_contract = new web3.eth.Contract(abi, value)\r\n        token_symbol = await token_contract.methods.symbol().call()\r\n        token_decimal = await token_contract.methods.decimals().call()\r\n        address = value\r\n      } catch (error) {\r\n        message.error(t('error_no_erc20'))\r\n      }\r\n\r\n    }\r\n    // console.debug(token_symbol)\r\n    this.setState({\r\n      token_addr: address,\r\n      token_symbol: token_symbol,\r\n      decimal: token_decimal\r\n    })\r\n\r\n  }\r\n\r\n  submit = async (event) => {\r\n\t  \r\n    /*TODO: call smart contract publish() and wait for publish success event\r\n     * then call backend to get a secret key. Then encrypt the pdf file and upload it to IPFS\r\n     * Finally, form a new metadata json file and send its ipfs hash to backend and publish it\r\n    */\r\n    let obj = this\r\n    if (this.state.price === 0 || this.state.bonusFee === 0 || this.state.shareTimes === 0 || this.state.ipfsHashCover === '' || this.state.fileIpfs === '' || this.state.token_addr === null) {\r\n      message.error({\r\n        content: \"你有信息尚未填写\",\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    } else {\r\n\r\n      this.setState({\r\n        onLoading: true\r\n      })\r\n      var img_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.ipfsHashCover\r\n      this.setState({\r\n        coverURL: img_url\r\n      })\r\n      console.debug(\"coverURL: \", this.state.coverURL)\r\n      var trimmed_des = this.state.description.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, \" \")\r\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      const account = accounts[0]\r\n      this.setState({\r\n        usedAcc: account\r\n      })\r\n      var file_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.fileIpfs\r\n      var JSONBody = {\r\n        \"name\": this.state.name,\r\n        \"description\": trimmed_des,\r\n        \"image\": this.state.coverURL,\r\n        \"attributes\": [\r\n          {\r\n            \"display_type\": \"boost_percentage\",\r\n            \"trait_type\": \"Bonuse Percentage\",\r\n            \"value\": this.state.bonusFee\r\n          },\r\n          {\r\n            \"trait_type\": \"File Address\",\r\n            \"value\": file_url\r\n          },\r\n          {\r\n            \"value\": this.state.fileType\r\n          },\r\n          {\r\n            \"trait_type\": \"Encrypted\",\r\n            \"value\": \"FALSE\"\r\n          }\r\n        ]\r\n      }\r\n\r\n      const url = `https://api.pinata.cloud/pinning/pinJSONToIPFS`\r\n\r\n      try {\r\n        const response = await axios.post(url, JSONBody, {\r\n          headers: {\r\n            pinata_api_key: pinata_api_key,\r\n            pinata_secret_api_key: pinata_secret_api_key\r\n          },\r\n        })\r\n        console.debug(\"metadata: \", response.data.IpfsHash)\r\n        const bytes = bs58.decode(response.data.IpfsHash)\r\n        const bytesToContract = bytes.toString('hex').substring(4,)\r\n        this.setState({\r\n          ipfsMeta: bytesToContract\r\n        })\r\n\r\n        var price_with_decimal = this.state.price * (10 ** this.state.decimal)\r\n        price_with_decimal = price_with_decimal.toString()\r\n        console.debug(\"price_with_decimal: \", price_with_decimal)\r\n        var ipfsToContract = '0x' + bytesToContract\r\n\r\n        var gasPrice = await web3.eth.getGasPrice()\r\n        var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n        contract.methods.publish(price_with_decimal, this.state.bonusFee, this.state.shareTimes, ipfsToContract, this.state.token_addr).send({\r\n          from: this.state.usedAcc,\r\n          gasPrice: new_gas_price\r\n        })\r\n          .on('receipt', function (receipt) {\r\n            console.log(receipt)\r\n            var publish_event = receipt.events.Publish\r\n            var returned_values = publish_event.returnValues\r\n            var root_nft_id = returned_values.rootNFTId\r\n            var issue_id = returned_values.issue_id\r\n            obj.setState({\r\n              onLoading: false,\r\n              rootNFTId: root_nft_id,\r\n              issueId: issue_id,\r\n              finished: true\r\n            })\r\n            message.success({\r\n              content: \"已经成功发布作品\",\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n          })\r\n          .on('error', function (error) {\r\n            obj.setState({\r\n              onLoading: false,\r\n            })\r\n            if (error.message.includes('not mined')) {\r\n              message.warning({\r\n                content: \"交易已提交，当前网络较拥堵，请稍等后去我的收藏中查看\",\r\n                className: 'custom-class',\r\n                style: {\r\n                  marginTop: '10vh',\r\n                },\r\n              })\r\n            } else {\r\n              console.debug(error.message)\r\n              message.error({\r\n                content: `Error: ${error.message}`,\r\n                className: 'custom-class',\r\n                style: {\r\n                  marginTop: '10vh',\r\n                },\r\n              })\r\n            }\r\n          })\r\n\r\n\r\n      } catch (error) {\r\n        console.debug(error)\r\n        message.error({\r\n          content: `似乎遇到了些小问题： ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  checkDetail = async (event) => {\r\n    var new_url = '/#/NFT/' + this.state.rootNFTId\r\n    window.open(new_url, '_self')\r\n  }\r\n\r\n  render() {\r\n\tconst { t } = this.props\r\n    const { classes } = this.props\r\n    let obj = this\r\n    const { TextArea } = Input\r\n    const options = this.state.data.map(d => <Option key={d.value}>{d.text}</Option>)\r\n    const prop = {\r\n      name: 'file',\r\n      action: `https://api.pinata.cloud/pinning/pinFileToIPFS`,\r\n      headers: {\r\n        pinata_api_key: pinata_api_key,\r\n        pinata_secret_api_key: pinata_secret_api_key\r\n      },\r\n      data: this.state.buffer,\r\n      beforeUpload: file => {\r\n        return new Promise((resolve, reject) => {\r\n          try {\r\n            const reader = new FileReader()\r\n            reader.readAsArrayBuffer(file)\r\n            reader.onload = (e) => {\r\n              var b = e.target.result\r\n              let params = new FormData()\r\n              params.append('file', b)\r\n              this.setState({\r\n                buffer: params\r\n              })\r\n            }\r\n            resolve()\r\n          } catch (e) {\r\n            message.error('Read file error')\r\n            reject()\r\n          }\r\n        })\r\n      },\r\n      async onChange(info) {\r\n        const { status } = info.file\r\n        // text/plain image/jpeg application/pdf\r\n        if (status === 'done') {\r\n          message.success(`${info.file.name} file uploaded successfully.`)\r\n          obj.setState({\r\n            ipfsHashCover: info.file.response.IpfsHash\r\n          })\r\n\r\n        } else if (status === 'error') {\r\n          message.error(`${info.file.name} file upload failed.`)\r\n        }\r\n      },\r\n      onDrop(e) {\r\n        message.error(`Only image file supported`)\r\n        console.log('Dropped files', e.dataTransfer.files)\r\n      },\r\n    }\r\n\r\n    const propFile = {\r\n      name: 'file',\r\n      action: `https://api.pinata.cloud/pinning/pinFileToIPFS`,\r\n      headers: {\r\n        pinata_api_key: pinata_api_key,\r\n        pinata_secret_api_key: pinata_secret_api_key\r\n      },\r\n      data: this.state.buffer,\r\n      beforeUpload: file => {\r\n        return new Promise((resolve, reject) => {\r\n          try {\r\n            const reader = new FileReader()\r\n            reader.readAsArrayBuffer(file)\r\n            reader.onload = (e) => {\r\n              var b = e.target.result\r\n              let params = new FormData()\r\n              params.append('file', b)\r\n              this.setState({\r\n                buffer: params\r\n              })\r\n            }\r\n            resolve()\r\n          } catch (e) {\r\n            message.error('Read file error')\r\n            reject()\r\n          }\r\n        })\r\n      },\r\n      async onChange(info) {\r\n        const { status } = info.file\r\n        // console.debug(typeof info.file.type)\r\n        // text/plain image/jpeg application/pdf\r\n        if (status === 'done') {\r\n          message.success(`${info.file.name} file uploaded successfully.`)\r\n          var file_type = info.file.name.split('\\.')\r\n          var file_suffix = file_type[file_type.length - 1]\r\n          console.debug(file_suffix)\r\n          console.debug(\"file ipfs hash: \", info.file.response.IpfsHash)\r\n          obj.setState({\r\n            fileIpfs: info.file.response.IpfsHash,\r\n            fileType: file_suffix\r\n          })\r\n\r\n\r\n        } else if (status === 'error') {\r\n          message.error(`${info.file.name} file upload failed.`)\r\n        }\r\n      },\r\n      onDrop(e) {\r\n        message.error(`Only image file supported`)\r\n        console.log('Dropped files', e.dataTransfer.files)\r\n      },\r\n    }\r\n\r\n\r\n    // if (this.state.onLoading) {\r\n    //   return (\r\n    //     <div>\r\n    //       <ThemeProvider theme={theme}>\r\n    //         <TopBar />\r\n    //         <div style={{ marginLeft: '35%', marginTop: '10%' }}>\r\n    //           <ReactLoading type={'bars'} color={'#2196f3'} width={'40%'} />\r\n    //         </div>\r\n    //       </ThemeProvider>\r\n    //     </div>\r\n    //   )\r\n    // } else \r\n    if (this.state.finished) {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <div style={{ textAlign: 'center' }}>\r\n              <Typography className={classes.titleCon}>\r\n                <b>{t('pulish_success')}</b>\r\n              </Typography>\r\n\r\n              <Paper className={classes.paperImg}>\r\n                <img style={{ width: 300, marginTop: 20, marginBottom: 50 }} src={this.state.coverURL}></img>\r\n              </Paper>\r\n              <Typography variant=\"h4\" style={{ marginTop: 20, fontFamily: 'Ubuntu' }}>\r\n                <b>{t('you_gain_nft')} #{this.state.rootNFTId}</b>\r\n              </Typography>\r\n\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                style={{ marginTop: 50, width: 200, height: 50, marginBottom: 50 }}\r\n                onClick={this.checkDetail}\r\n              >\r\n                {t('show_detail')}\r\n              </Button>\r\n            </div>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    } else {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large' style={{marginTop: 1000}}>\r\n\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <Container component=\"main\" maxWidth=\"xs\" className={classes.main}>\r\n              <div className={classes.paper}>\r\n                {/* {showLoading()} */}\r\n                <Typography className={classes.titlePub}>\r\n                  <b>{t('art_info')}</b>\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                  <Grid container spacing={2}>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginBottom: 10 }}>{t('art_name')} <span style={{ color: \"red\"}}>*</span></label>\r\n                      <Input\r\n                        placeholder={t('art_name')}\r\n                        allowClear\r\n                        id=\"pubName\"\r\n                        onChange={this.handleGetPubName}\r\n                        value={this.state.name}\r\n                        className={classes.input}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('fit_rate')} <span style={{ color: \"red\"}}>*</span></label>\r\n                      <p style={{ fontSize: 14 }}>{t('fit_rate_tip')}</p>\r\n                      <InputNumber\r\n                        id=\"bonusFee\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        max={100}\r\n                        formatter={value => `${value}%`}\r\n                        parser={value => value.replace('%', '')}\r\n                        onChange={this.handleGetBonusFee}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('access_coin')} <span style={{ color: \"red\"}}>*</span></label>\r\n                      <p style={{ fontSize: 14 }}>{t('access_coin_tip')}</p>\r\n                      <Select\r\n                        showSearch\r\n                        value={this.state.token_addr}\r\n                        placeholder={t('please_input_coin')}\r\n                        // className={classes.input}\r\n                        style={{ width: \"100%\" }}\r\n                        size=\"large\"\r\n                        defaultActiveFirstOption={false}\r\n                        showArrow={false}\r\n                        filterOption={false}\r\n                        onSearch={this.handleSearch}\r\n                        onChange={this.handleSelectChange}\r\n                        notFoundContent={null}\r\n                      >\r\n                        {options}\r\n                      </Select>\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('price')} ({this.state.token_symbol})<span style={{ color: \"red\"}}>*</span></label>\r\n                      <InputNumber\r\n                        id=\"price\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        onChange={this.handleGetPrice}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('max_share')} (MAX： 65535)<span style={{ color: \"red\"}}>*</span></label>\r\n                      <p style={{ fontSize: 14 }}>{t('max_share_tip')}</p>\r\n                      <InputNumber\r\n                        id=\"shareTimes\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        max={65535}\r\n                        onChange={this.handleGetShareTimes}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }} >\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('art_desc')} <span style={{ color: \"red\"}}>*</span></label>\r\n                      <p style={{ fontSize: 14 }}>{t('art_desc_tip')}</p>\r\n                      <TextArea\r\n                        rows={6}\r\n                        id=\"Description\"\r\n                        onChange={this.handleGetDescription}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                  <label style={{ fontSize: 18, marginTop: 50 }}>{t('pic_cover')} <span style={{ color: \"red\"}}>*</span></label>\r\n                  <p style={{ fontSize: 14 }}>{t('pic_cover_tip')}</p>\r\n                  <Dragger {...prop} style={{ width: '100%', minHeight: 200 }} id=\"Uploader\" accept=\".png, .jpg, .jpeg\" >\r\n                    <p className=\"ant-upload-drag-icon\">\r\n                      <InboxOutlined />\r\n                    </p>\r\n                    <p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n                    <p className=\"ant-upload-hint\">\r\n                      {t('upload_file_tip2')}\r\n                    </p>\r\n                  </Dragger>\r\n\r\n                  <label style={{ fontSize: 18, marginTop: 50 }}>{t('art_file')} <span style={{ color: \"red\"}}>*</span></label>\r\n                  <p style={{ fontSize: 14 }}> {t('art_file_tip')}</p>\r\n                  <Dragger {...propFile} style={{ width: '100%', minHeight: 200 }} id=\"Uploader2\" >\r\n                    <p className=\"ant-upload-drag-icon\">\r\n                      <InboxOutlined />\r\n                    </p>\r\n                    <p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n                    <p className=\"ant-upload-hint\">\r\n                      {t('upload_file_tip2')}\r\n                    </p>\r\n                  </Dragger>\r\n                </form>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  className={classes.button}\r\n                  startIcon={<CloudUploadOutlined />}\r\n                  style={{ marginTop: 50, width: 200, height: 50, marginBottom: 50 }}\r\n                  onClick={this.submit}\r\n                >\r\n                  {t('submit')}\r\n                </Button>\r\n              </div>\r\n            </Container>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\n\r\nexport default  withTranslation()(withStyles(styles, { withTheme: true })(Publish))\r\n//todo 涉及交易\r\n","export default __webpack_public_path__ + \"static/media/poster.d78136d7.png\";","export default __webpack_public_path__ + \"static/media/imgloading.2250a670.png\";","import React, { useRef, useEffect } from 'react';\r\nimport bgImg from './imgs/poster.png'\r\nimport loading from './imgs/imgloading.png'\r\nimport QRCode from 'qrcode';\r\n\r\n\r\n\r\n\r\nconst Poster = (props) => {\r\n  \r\n  let {str,share, coverImg, coverHeight, coverWidth} = props;\r\n  //coverImg = document.getElementById('cover')\r\n  console.log(coverImg)\r\n  const splited = str.split(' ')\r\n  let price = splited[0]\r\n  let currency = splited[1]\r\n  const imgRef = useRef(null)\r\n  useEffect(() => {\r\n    function draw(ctx,dataUrl){  \r\n      \r\n      let qrcode = new Image()\r\n      qrcode.onload=function(){\r\n        ctx.drawImage(qrcode, 307,331,73,73)\r\n        coverImg.crossOrigin = 'anonymous'\r\n        ctx.drawImage(coverImg, ...getImgPos(coverHeight, coverWidth))\r\n      }\r\n      qrcode.src = dataUrl\r\n\r\n      let bg = new Image()\r\n\r\n      bg.onload=function(){\r\n        ctx.drawImage(bg, 0, 0,424,600)\r\n      }\r\n      bg.src = bgImg\r\n\r\n      \r\n      \r\n      \r\n      ctx.font = \"18px serif\";\r\n      ctx.fillText(price, 122, 384)\r\n      ctx.font = '12px serif'\r\n      ctx.fillText(currency,210,382)\r\n      \r\n      ctx.strokeRect(30,50,364,260)\r\n    }\r\n    function getPixelRatio (context) {\r\n      const backingStore = context.backingStorePixelRatio ||\r\n          context.webkitBackingStorePixelRatio ||\r\n          context.mozBackingStorePixelRatio ||\r\n          context.msBackingStorePixelRatio ||\r\n          context.oBackingStorePixelRatio ||\r\n          context.backingStorePixelRatio || 1;\r\n      return (window.devicePixelRatio || 1) / backingStore;\r\n    };\r\n    function getImgPos(h,w) {\r\n      console.log(h,w)\r\n      const ratio = h/w\r\n      const standardRatio = 260 /364\r\n      if(ratio - standardRatio < 0.01 && ratio - standardRatio > -0.01){\r\n        return [30,50,364,260]\r\n      }else if(ratio > standardRatio){\r\n        const preWidth = 260 * w/h\r\n        const preX = 212 - (preWidth / 2)\r\n        return [preX,50,preWidth,260]\r\n      }else {\r\n        const preHeight = 364 * ratio\r\n        const preY = 180 - (preHeight / 2)\r\n        return [30,preY,364,preHeight]\r\n      }\r\n    }\r\n\r\n    QRCode.toDataURL(share,{ errorCorrectionLevel: 'H', quality:1, margin: 0 }).then((data) => {\r\n      \r\n      const canvas = document.createElement('canvas')\r\n      canvas.width=424\r\n      canvas.height=600\r\n      const ctx = canvas.getContext('2d')\r\n      const ratio = getPixelRatio(ctx);\r\n      canvas.style.width = canvas.width + 'px';\r\n      canvas.style.height = canvas.height + 'px';\r\n      canvas.width = canvas.width * ratio;\r\n      canvas.height = canvas.height * ratio;\r\n      ctx.globalCompositeOperation = 'destination-over'\r\n      draw(ctx,data)\r\n      \r\n      setTimeout(()=>{\r\n        const dataURL = canvas.toDataURL('image/jpeg',1.0);\r\n        const img = imgRef.current\r\n        img.src=dataURL\r\n      },700)\r\n    })\r\n})\r\n\r\n  return (\r\n    <img alt='poster' width='424' height='600' ref={imgRef}  src={loading} />\r\n  )\r\n\r\n}\r\n\r\nexport default Poster\r\n","import React, { Component } from 'react'\r\n\r\n\r\n\r\nconst MaskLayer = (props) => {\r\n  const styles = {\r\n    modal: {\r\n      position: 'fixed',\r\n      left: 0,\r\n      top: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      backgroundColor: 'rgba(0,0,0,0.3)'\r\n    }\r\n  }\r\n  return (\r\n    <div\r\n      onClick={\r\n        e => {\r\n          console.log('click')\r\n          if(e.target.className === 'MaskLayer'){\r\n            props.onClose()\r\n          }\r\n        }\r\n      }\r\n      className='MaskLayer'\r\n      style = {styles.modal}\r\n    >\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MaskLayer\r\n","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TopBar from \"./TopBar\"\r\nimport Poster from './Poster'\r\nimport MaskLayer from './MaskLayer'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { DownloadOutlined, FireOutlined, ArrowLeftOutlined, MoneyCollectOutlined, CopyOutlined, DollarCircleOutlined } from '@ant-design/icons'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport { IconButton, Container } from \"@material-ui/core\"\r\nimport contract from './contract'\r\nimport { Progress, Spin, message } from 'antd'\r\nimport axios from 'axios'\r\nimport web3 from './web3'\r\n\r\n//字符串常量\r\nconst TOKENPOCKET = \"TokenPocket\";\r\nconst METAMASK = \"MetaMask\";\r\nconst LASTCONNECT = \"lastConnect\";\r\n\r\nconst tp = require('tp-js-sdk');\r\nconst FileSaver = require('file-saver')\r\nvar CryptoJS = require(\"crypto-js\")\r\nconst abi = require('erc-20-abi')\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    maxWidth: 1500,\r\n  },\r\n  cbutton: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-end\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"flex-end\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"flex-end\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  btnMain: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#FFFFFF',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 120,\r\n    maxWidth: '20rem',\r\n    minWidth: '10rem',\r\n  },\r\n  btnSecond: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#03A9F4',\r\n    borderWidth: 3,\r\n    borderColor: '#03A9F4',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 120,\r\n    maxWidth: '20rem',\r\n    minWidth: '10rem',\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    maxWidth: 1370,\r\n    // backgroundColor: \"green\"\r\n  },\r\n  imagePapaer: {\r\n\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      backgroundColor: '#EFEBE9', width: 330, marginLeft: 25\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      backgroundColor: '#EFEBE9', width: 340, marginLeft: 25\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, marginLeft: 25\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, marginLeft: 10\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, marginLeft: 10\r\n    },\r\n  },\r\n  imageStyle: {\r\n    objectFit: 'contain',\r\n    // object- fit: cover\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      width: 280,\r\n      height: 365,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      width: 290,\r\n      height: 385,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      width: 300,\r\n      height: 420,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      width: 300,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      width: 300,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n  },\r\n  content2: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: 10, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: 90, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: 80, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: 50, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: 60, maxWidth: 500\r\n    },\r\n  },\r\n  cbutton2: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-end\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"space-evenly\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  share: {\r\n    fontFamily: 'Teko',\r\n    marginBottom: '10%',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 14,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 18,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 20,\r\n    },\r\n\r\n  }\r\n\r\n\r\n})\r\n\r\n\r\nclass NFTInfo extends Component {\r\n  gateway = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/'\r\n  backend = 'https://api.sparklink.io'\r\n  state = {\r\n    price:'',\r\n    loading: false,\r\n    showDecryptProgress: null,\r\n    decryptPercentage: 0,\r\n    showProgress: false,\r\n    percentage: 0,\r\n    Profit: '',\r\n    account: null,\r\n    loadItem: true,\r\n    Cover: '',\r\n    Name: '',\r\n    Description: '',\r\n    BonusFee: 0,\r\n    childrenNum: 0,\r\n    encrypted: '未知',\r\n    dataUrl: null,\r\n    isEncrypt: false,\r\n    fileType: '',\r\n    spark: false,\r\n    tokenAddr: '',\r\n    tokenSymbol: '',\r\n  }\r\n  async componentDidMount() {\r\n    if (!window.ethereum) {\r\n      alert(\"请先安装metamask\");\r\n      window.location.href = '/#/collections';\r\n      return;\r\n    }\r\n\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' });\r\n    if (chainId !== '0x89') {\r\n      alert(\"请切换至Polygon 主网络\");\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n    \r\n    const price = await contract.methods.getShillPriceByNFTId(this.props.match.params.id).call()\r\n    const owner = await contract.methods.ownerOf(this.props.match.params.id).call()\r\n\r\n    //获取账号\r\n    var account;\r\n    const lastConnect = localStorage.getItem(LASTCONNECT);\r\n    if (lastConnect === METAMASK) {\r\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      account = accounts[0];\r\n    }\r\n    else if(lastConnect === TOKENPOCKET) {\r\n      await tp.getCurrentWallet().then(\r\n        value => {\r\n          account = value.data.address;\r\n        }\r\n      )\r\n      if(account.length === 0){\r\n        await tp.getWallet({ walletTypes: ['matic'], switch: false }).then(\r\n          value => {\r\n            account = value.data.address;\r\n          }\r\n        )\r\n      } \r\n      \r\n    }\r\n    // const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    // const account = accounts[0]\r\n    if (web3.utils.toChecksumAddress(account) !== owner) {\r\n      // alert(\"这枚nft不属于你\");\r\n      message.warning({\r\n        content: \"这枚nft不属于你\",\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n      window.location.href = '/#/';\r\n    }\r\n\r\n    const token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.id).call()\r\n    const res = await contract.methods.getProfitByNFTId(this.props.match.params.id).call()  \r\n    if (token_addr == '0x0000000000000000000000000000000000000000') {\r\n      var price_with_decimal = res / (10 ** 18)\r\n      var profit = price_with_decimal + \" MATIC\"\r\n\r\n      var price_poster = price/(10**18)\r\n      price_poster = price_poster+ 'MATIC'\r\n      this.setState({\r\n        price:price_poster,\r\n        tokenAddr: '0x0000000000000000000000000000000000000000',\r\n        tokenSymbol: 'MATIC',\r\n        Profit: profit\r\n      })\r\n    } else {\r\n      const token_contract = new web3.eth.Contract(abi, token_addr)\r\n      const token_symbol = await token_contract.methods.symbol().call()\r\n      const decimal = await token_contract.methods.decimals().call()\r\n      var price_with_decimal = res / (10 ** decimal)\r\n      var price_poster = price / (10 ** decimal)\r\n      price_poster = price_poster+\" \"+token_symbol\r\n      var profit = price_with_decimal + ` ${token_symbol}`\r\n      this.setState({\r\n        price: price_poster,\r\n        tokenAddr: token_addr,\r\n        tokenSymbol: token_symbol,\r\n        Profit: profit\r\n      })\r\n    }\r\n    const meta = await contract.methods.tokenURI(this.props.match.params.id).call()\r\n    // https://coldcdn.com/api/cdn/v5ynur/ipfs/QmV7s3xrtwxfBa7VDcqHGFKcSjKdLZL7offiC31yM2NSqz\r\n    let hash = meta.split('/');\r\n    const issue = await contract.methods.getIssueIdByNFTId(this.props.match.params.id).call()\r\n    const royalty = await contract.methods.getRoyaltyFeeByIssueId(issue).call()\r\n    var file_hash = hash[hash.length - 1]\r\n    var request_url = \"https://coldcdn.com/api/cdn/v5ynur/ipfs/\" + file_hash\r\n    \r\n    try {\r\n      const res = await axios({\r\n        method: 'get',\r\n        url: request_url,\r\n        timeout: 1000 * 5,\r\n      })\r\n      let data = res.data;\r\n      let bouns = 0;\r\n      let fileAddr = \"\";\r\n      let isEncrypt = false;\r\n      let fileType = data.attributes[2].value\r\n      let encrypted = '未知';\r\n\r\n      for (let i = 0; i < data.attributes.length; i++) {\r\n        if (data.attributes[i].trait_type === \"Bonuse Percentage\") {\r\n          bouns = data.attributes[i].value;\r\n        }\r\n        if (data.attributes[i].trait_type === \"File Address\") {\r\n          fileAddr = data.attributes[i].value;\r\n        }\r\n        if (data.attributes[i].trait_type === \"Encrypted\") {\r\n          if (data.attributes[i].value === \"FALSE\") {\r\n            isEncrypt = false\r\n            encrypted = '否';\r\n          } else {\r\n            isEncrypt = true\r\n            encrypted = '是';\r\n          }\r\n        }\r\n      }\r\n\r\n      this.setState({\r\n        Name: data.name,\r\n        Description: data.description,\r\n        BonusFee: royalty,\r\n        Cover: data.image,\r\n        dataUrl: fileAddr,\r\n        isEncrypt: isEncrypt,\r\n        encrypted: encrypted,\r\n        fileType: fileType,\r\n        loadItem: false\r\n      });\r\n\r\n    } catch (error) {\r\n      this.setState({ Name: 'SparkNFT' });\r\n      this.setState({ Description: '暂时无法获取到该nft的相关描述' });\r\n      this.setState({ BonusFee: royalty });\r\n      this.setState({ Cover: 'https://via.placeholder.com/100x140.png?text=SparkNFT' });\r\n      this.setState({ dataUrl: 'fileAddr_PlaceHolder', loadItem: false, });\r\n    }\r\n\r\n    const leafUrl = this.backend + '/api/v1/nft/info?nft_id=' + this.props.match.params.id\r\n    axios.get(leafUrl).then(res => {\r\n      var children_num = res.data.children_count\r\n      this.setState({\r\n        childrenNum: children_num\r\n      })\r\n    }).catch(error => {\r\n      if (error.response === undefined) {\r\n        message.error({\r\n          content: \"错误：服务器未响应\",\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n        return;\r\n      }\r\n      if (error.response.status === 400 && error.response.data.message.includes(\"children not found\")) {\r\n        console.debug(\"no children\")\r\n      } else {\r\n        message.error({\r\n          content: `获取nft子节点情况页面失败： ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  return = async () => {\r\n    window.location.reload(true)\r\n  }\r\n\r\n  claim = async () => {\r\n    this.setState({\r\n      loading: true\r\n    })\r\n    var gasPrice = await web3.eth.getGasPrice()\r\n    var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n    try{\r\n      await contract.methods.claimProfit(this.props.match.params.id).send({\r\n        from: this.state.account,\r\n        gasPrice: new_gas_price\r\n      })\r\n    } catch (error){\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    } finally {\r\n      this.setState({\r\n        loading: false\r\n      })\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  downloadIPFS = async () => {\r\n    let obj = this\r\n    let dataSplits = this.state.dataUrl.split('/')\r\n    var dataHash = dataSplits[dataSplits.length - 1]\r\n    var dataUrl = this.gateway + dataHash\r\n    this.setState({\r\n      showProgress: true\r\n    })\r\n    if(this.state.isEncrypt){\r\n      var cipher_config = {\r\n        method: 'get',\r\n        url: dataUrl,\r\n        onDownloadProgress(progress) {\r\n          var percentage = Math.round(progress.loaded / progress.total * 100)\r\n          obj.setState({\r\n            percentage: percentage\r\n          })\r\n        }\r\n      }\r\n\r\n      const response = await axios(cipher_config)\r\n      let ciphertext = response.data\r\n      let accounts = await await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      let account = accounts[0]\r\n      let signJSON = {\r\n        account: account,\r\n        root_nft_id: this.props.match.params.id\r\n      }\r\n      signJSON = JSON.stringify(signJSON)\r\n      this.setState({\r\n        showProgress: false\r\n      })\r\n      await this.signDataAndDecrypt(account, ciphertext)\r\n    } else {\r\n      var open_config = {\r\n        url: dataUrl, //your url\r\n        method: 'GET',\r\n        responseType: 'blob', // important\r\n        onDownloadProgress(progress) {\r\n          var percentage = Math.round(progress.loaded / progress.total * 100)\r\n          obj.setState({\r\n            percentage: percentage\r\n          })\r\n        }\r\n      }\r\n      try{\r\n        const response = await axios(open_config)\r\n        const url = window.URL.createObjectURL(new Blob([response.data]))\r\n        const link = document.createElement('a')\r\n        link.href = url\r\n        link.style.display = 'none'\r\n        var suffix = '.' + obj.state.fileType\r\n        var fileName = this.state.Name + suffix\r\n        link.download = fileName\r\n        document.body.appendChild(link)\r\n        link.click()\r\n        document.body.removeChild(link)\r\n        URL.revokeObjectURL(url)\r\n      } catch(error){\r\n        message.error({\r\n          content: `Error: ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      } finally {\r\n        this.setState({ showProgress: false })\r\n      }\r\n    }\r\n  }\r\n\r\n  signDataAndDecrypt = async (signer, ciphertext) => {\r\n    var JSONBody = {\r\n      \"account\": signer,\r\n      \"nft_id\": this.props.match.params.id\r\n    }\r\n    var json_str = JSON.stringify(JSONBody)\r\n    const sig = await web3.eth.personal.sign(json_str, signer)\r\n\r\n    this.setState({\r\n      showDecryptProgress: true\r\n    })\r\n\r\n    var payload = {\r\n      \"account\": signer,\r\n      \"nft_id\": this.props.match.params.id,\r\n      \"signature\": sig\r\n    }\r\n    var payload_str = JSON.stringify(payload)\r\n    var req_key_url = this.backend + \"/api/v1/key/claim\"\r\n    try{\r\n      const res = await axios.post(req_key_url, payload_str, {\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        }\r\n      })\r\n\r\n      if (res.status == 200) {\r\n        let key = res.data.key\r\n        let data = CryptoJS.AES.decrypt(ciphertext, key)\r\n        let plainText = data.toString(CryptoJS.enc.Utf8)\r\n        const wordArray = CryptoJS.enc.Hex.parse(plainText)\r\n        let BaText = this.wordArrayToByteArray(wordArray, wordArray.length)\r\n        var blob = new Blob([BaText])\r\n        let suffix = '.' + this.state.fileType\r\n        FileSaver.saveAs(blob, this.state.Name + suffix)\r\n\r\n      } else {\r\n        var error_msg = res.data.message\r\n        message.error({\r\n          content: `Error: ${error_msg}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  wordToByteArray = (result, word, length) => {\r\n    const lengthBefore = result.length\r\n    const xff = 0xFF\r\n    if (length > 0)\r\n      result.push(word >>> 24)\r\n    if (length > 1)\r\n      result.push((word >>> 16) & xff)\r\n    if (length > 2)\r\n      result.push((word >>> 8) & xff)\r\n    if (length > 3)\r\n      result.push(word & xff)\r\n\r\n    var info = {\r\n      result: result,\r\n      addedLength: result.length - lengthBefore\r\n    }\r\n    return info\r\n  }\r\n\r\n  wordArrayToByteArray = (wordArray, length) => {\r\n    console.debug(\"enter in wordArrayToByte\")\r\n    if (wordArray.hasOwnProperty(\"sigBytes\") && wordArray.hasOwnProperty(\"words\")) {\r\n      length = wordArray.sigBytes\r\n      wordArray = wordArray.words\r\n    }\r\n\r\n    var result = [],\r\n      bytesAdded,\r\n      current_bytes = 0,\r\n      lengthBefore = length,\r\n      i = 0\r\n    while (length > 0) {\r\n      var added_info = this.wordToByteArray(result, wordArray[i], Math.min(4, length))\r\n      result = added_info.result\r\n      bytesAdded = added_info.addedLength\r\n      current_bytes = current_bytes + bytesAdded\r\n      var percent = Math.round(current_bytes / lengthBefore * 100)\r\n      if (percent !== this.state.decryptPercentage) {\r\n        this.setState({\r\n          decryptPercentage: percent\r\n        })\r\n      }\r\n      length -= bytesAdded\r\n      i++\r\n    }\r\n\r\n    return new Uint8Array(result)\r\n  }\r\n\r\n  spark = () => {\r\n    const flag = this.state.spark\r\n    this.setState({ spark: !flag });\r\n  }\r\n\r\n  downloadPoster = (res) => {\r\n    console.log(res)\r\n  }\r\n  render(){\r\n    const {classes} = this.props\r\n    const sell_info = () => {\r\n      let url = window.location.host;\r\n      let toUrl = \"https://\" + url + '/#/NFT/Spark/' + this.props.match.params.id;\r\n      let share = '分享复制链接：' + toUrl;\r\n      // this.state.onSale\r\n      if (this.state.spark) {\r\n        const coverRef = document.getElementById('cover')\r\n        const coverHeight = coverRef.height\r\n        const coverWidth = coverRef.width\r\n        return (\r\n          <div>\r\n            {this.state.spark?(\r\n            <MaskLayer onClose={this.spark}>\r\n              <Poster  str={this.state.price} share={toUrl} coverImg = {coverRef} coverWidth={coverWidth} coverHeight={coverHeight} />\r\n            </MaskLayer>):null}\r\n          \r\n          </div>\r\n        );\r\n      } \r\n    }\r\n\r\n    if (this.state.showDecryptProgress){\r\n      return(\r\n        <Spin spinning={this.state.loading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <div style={{ textAlign: 'center', marginTop: '2%', marginLeft: 40 }}>\r\n              <Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 24 }}>\r\n                <b>正在解密文件</b>\r\n              </Typography>\r\n            </div>\r\n            <div style={{ textAlign: 'center', marginTop: '10%' }}>\r\n              <Progress type=\"circle\" percent={this.state.decryptPercentage} width={200} />\r\n            </div>\r\n            <div style={{ textAlign: 'center' }}>\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                style={{ marginTop: 50, width: 200, height: 50, marginBottom: 50 }}\r\n                onClick={this.return}\r\n              >\r\n                返回信息页面\r\n              </Button>\r\n            </div>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    } else if(this.state.showProgress){\r\n      return(\r\n        <Spin spinning={this.state.loading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <div style={{ textAlign: 'center', marginTop: '2%', marginLeft: 40 }}>\r\n              <Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 24 }}>\r\n                <b>正在下载文件</b>\r\n              </Typography>\r\n            </div>\r\n            <div style={{ textAlign: 'center', marginTop: '10%' }}>\r\n              <Progress type=\"circle\" percent={this.state.percentage} width={200} />\r\n            </div>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    } else {\r\n      return(\r\n        <Spin spinning={this.state.loading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <Container component=\"main\" className={classes.container}>\r\n              <Button\r\n                startIcon={<ArrowLeftOutlined style={{ fontSize: '2rem' }} />}\r\n                href='/#/collections'\r\n                style={{ marginTop: 20, marginBottom: 10, fontSize: '2rem' }}\r\n              >\r\n                回到我的收藏馆\r\n              </Button>\r\n              <Grid container direction=\"row\" justifyContent=\"center\" alignContent=\"flex-start\">\r\n                <Grid container direction=\"row\" className={classes.cbutton}> \r\n\r\n                  <Grid item>\r\n                    <Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 14 }}>\r\n                      <b>目前收益: {this.state.Profit}</b>\r\n                    </Typography>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Button style={{ marginTop: 10, marginRight: 30, marginBottom: 20 }} size=\"large\" variant=\"contained\" color=\"primary\" className={classes.btnMain} startIcon={<MoneyCollectOutlined />} onClick={this.claim} >\r\n                      <Typography id=\"isSpark\" variant=\"button\" component=\"h3\" gutterBottom >\r\n                        <font size=\"3\" color='white'>\r\n                          领收益\r\n                        </font>\r\n                      </Typography>\r\n                    </Button>\r\n                  </Grid>\r\n\r\n                  <Grid item>\r\n                    <Button style={{ marginTop: 10, marginBottom: 20 }} size=\"large\" variant=\"outlined\" color=\"secondary\" className={classes.btnSecond} startIcon={<DollarCircleOutlined />} href={'/#/sellSingle/' + this.props.match.params.id}  >\r\n                      <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                        <font size=\"3\">\r\n                          售卖\r\n                        </font>\r\n                      </Typography>\r\n                    </Button>\r\n                  </Grid>\r\n\r\n                </Grid>\r\n              </Grid>\r\n\r\n              <div className={classes.paper}>\r\n                {this.state.loadItem ? (\r\n                  <Grid container className={classes.content} spacing = {5}>\r\n\r\n                    <Grid item xs = {4}>\r\n                      <Skeleton variant=\"rect\" width={300} height={500} style={{ width: 370, marginLeft: 50, marginBottom: 50 }} />\r\n                    </Grid>\r\n\r\n                    <Grid item xs style={{ marginLeft: '5%' }}>\r\n                      <Skeleton animation=\"wave\" variant=\"text\" width={200} height={30} />\r\n                      <Skeleton animation=\"wave\" variant=\"text\" width={400} height={70} />\r\n                      <Skeleton animation=\"wave\" variant=\"rect\" width={500} height={300} style={{ marginBottom: 50 }} />\r\n                    </Grid>\r\n\r\n                  </Grid>\r\n                ):(\r\n                  <Grid container direction=\"row\" justifyContent=\"space-between\" spacing={5} className={classes.content}>\r\n\r\n                    <Grid style={{ maxWidth: 200 }}>\r\n                      <Paper className={classes.imagePapaer}>\r\n                        <img className={classes.imageStyle} src={this.state.Cover} id='cover' ></img>\r\n                      </Paper>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={2}></Grid>\r\n\r\n                    <Grid item className={classes.content2} >\r\n                      <Typography color=\"inherit\" align=\"left\" color=\"textSecondary\" noWrap style={{ fontFamily: 'Teko', fontSize: 16, marginTop: '2%' }}>\r\n                        #{this.props.match.params.id}\r\n                      </Typography>\r\n                      <Typography color=\"inherit\" align=\"left\" noWrap style={{ fontFamily: 'Teko', fontSize: 34, marginTop: '2%' }}>\r\n                        <b>{this.state.Name}</b>\r\n                      </Typography>\r\n                      <Typography align=\"justify\" color=\"textSecondary\" paragraph style={{ marginTop: '2%', maxWidth: '100%', fontSize: 16 }}>\r\n                        {this.state.Description}\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '6%', maxWidth: '100%', fontSize: 24 }}>\r\n                        分红比例: {this.state.BonusFee} %\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n                        当前拥有的子节点数量: {this.state.childrenNum}\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n                        NFT作品是否加密: {this.state.encrypted}\r\n                      </Typography>\r\n\r\n                      <Grid container direction=\"row\" className={classes.cbutton2}>\r\n                        <Grid item>\r\n                          <Button size=\"small\" variant=\"contained\" color=\"primary\" target=\"_blank\" className={classes.btnMain} startIcon={<DownloadOutlined />} onClick={this.downloadIPFS} >\r\n                            <font size=\"3\" color='white'>\r\n                              下载\r\n                            </font>\r\n                          </Button>\r\n                        </Grid>\r\n\r\n                        <Grid>\r\n                          <Button size=\"small\" variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} startIcon={<FireOutlined />} onClick={this.spark} >\r\n                            <font size=\"3\">\r\n                              点火分享\r\n                            </font>\r\n                          </Button>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                )}\r\n              </div>\r\n\r\n              {sell_info()}\r\n            </Container>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    }\r\n  }\r\n\r\n}\r\nexport default withStyles(styles, { withTheme: true })(NFTInfo)\r\n//todo 涉及交易\r\n//account的获取方式做了修改","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport { Button, Grid } from '@material-ui/core'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport TopBar from './TopBar'\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, IconButton } from \"@material-ui/core\"\r\nimport { Typography, Paper, Container } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport { DollarCircleOutlined, ArrowLeftOutlined, CopyOutlined } from '@ant-design/icons'\r\nimport { Spin, message } from 'antd'\r\nimport { Input, InputNumber } from 'antd'\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\r\nimport contract from './contract'\r\nimport web3 from './web3'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\n\r\nconst abi = require('erc-20-abi')\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    maxWidth: 1500,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    maxWidth: 1500,\r\n  },\r\n  btnSell: {\r\n    margin: theme.spacing(1),\r\n    fontSize: 16,\r\n    borderRadius: 10,\r\n    borderWidth: 2,\r\n    borderColor: '#2196f3',\r\n    color: '#2196f3',\r\n    marginLeft: '10%',\r\n    width: 100\r\n  },\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  img: {\r\n    width: 300,\r\n    marginBottom: 50,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '30%'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '40%'\r\n    },\r\n  },\r\n  content2: {\r\n    fontFamily: 'Teko',\r\n    textAlign: 'center',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: 90, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: 80, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: 50, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: 60, maxWidth: 500\r\n    },\r\n  },\r\n  share: {\r\n    fontFamily: 'Teko',\r\n    marginBottom: '10%',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 14,\r\n      // width: '5%'\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 18,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 20,\r\n    },\r\n  },\r\n  imgPaper: {\r\n    width: 350,\r\n    marginBottom: 50,\r\n    backgroundColor: '#EFEBE9',\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '30%'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '35%'\r\n    },\r\n  },\r\n  inputNum: {\r\n    height: 40,\r\n    borderRadius: 5,\r\n    width: 550,\r\n    fontSize: 20,\r\n  },\r\n  input: {\r\n    height: 40,\r\n    borderRadius: 5,\r\n  },\r\n})\r\n\r\nclass SellSingle extends Component {\r\n  gateway = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/'\r\n  backend = 'https://api.sparklink.io'\r\n  state = {\r\n    name: '',\r\n    bonusFee: 0,\r\n    coverURL: '',\r\n    description: '',\r\n    price: 0,\r\n    ipfsHashMeta: '',\r\n    open: false,\r\n    toAddress: '',\r\n    NFTId: '',\r\n    onSale: false,\r\n    copied: false,\r\n    onLoading: false,\r\n    owner: '',\r\n    currentAcc: '',\r\n    childrenNum: 0,\r\n    loadItem: true,\r\n    tokenAddr: null,\r\n    tokenSymbol: '',\r\n    decimal: 0,\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n    if (chainId !== '0x89') {\r\n      alert(\"请切换至Polygon 主网络\")\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    const account = accounts[0]\r\n    let obj = this \r\n    this.setState({\r\n      currentAcc: account,\r\n      NFTId: this.props.match.params.NFTId\r\n    })\r\n    const issueId = await contract.methods.getIssueIdByNFTId(this.state.NFTId).call()\r\n    const royalty = await contract.methods.getRoyaltyFeeByIssueId(issueId).call()\r\n    const metadata = await contract.methods.tokenURI(this.props.match.params.NFTId).call()\r\n    let hash = metadata.split('/')\r\n    this.setState({ ipfsHashMeta: hash[hash.length - 1] })\r\n    var url = this.gateway + this.state.ipfsHashMeta\r\n    try {\r\n      const res = await axios({method: 'get', url: url, timeout: 1000*2})\r\n      let content = res.data\r\n      let bonus = content.attributes[0].value\r\n      let encrypted = content.attributes[3].value\r\n      this.setState({\r\n        loadItem: false,\r\n        name: content.name,\r\n        description: content.description,\r\n        bonusFee: bonus,\r\n        coverURL: content.image\r\n      })\r\n    } catch (error) {\r\n      var name_holder = 'SparkNFT#' + this.props.match.params.NFTId\r\n      obj.setState({\r\n        loadItem: false,\r\n        name: name_holder,\r\n        description: '暂时无法获取到该nft的相关描述',\r\n        bonusFee: royalty,\r\n        coverURL: 'https://via.placeholder.com/100x140.png?text=SparkNFT'\r\n      })\r\n      console.debug(error)\r\n    }\r\n\r\n    var owner = await contract.methods.ownerOf(this.props.match.params.NFTId).call()\r\n    var price = await contract.methods.getTransferPriceByNFTId(this.props.match.params.NFTId).call()\r\n    var token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.NFTId).call()\r\n    if(price = '0'){\r\n      this.setState({\r\n        owner: owner.toLowerCase(),\r\n        onSale: false\r\n      })\r\n    } else {\r\n      this.setState({\r\n        owner: owner.toLowerCase(),\r\n        onSale: true\r\n      })\r\n    }\r\n\r\n    if (token_addr == \"0x0000000000000000000000000000000000000000\") {\r\n      this.setState({\r\n        tokenAddr: token_addr,\r\n        tokenSymbol: \"MATIC\",\r\n        decimal: 18\r\n      })\r\n    } else {\r\n      try{\r\n        const token_contract = new web3.eth.Contract(abi, token_addr)\r\n        const token_symbol = await token_contract.methods.symbol().call()\r\n        const decimal = await token_contract.methods.decimals().call()\r\n        this.setState({\r\n          tokenAddr: token_addr,\r\n          tokenSymbol: token_symbol,\r\n          decimal: decimal\r\n        })\r\n      } catch (error){\r\n        message.error({\r\n          content: `Error: ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    }\r\n\r\n    const child_url = this.backend + '/api/v1/nft/info?nft_id=' + this.state.NFTId\r\n    try{\r\n      const res = await axios.get(child_url)\r\n      var children_num = res.data.children_count\r\n      this.setState({\r\n        childrenNum: children_num\r\n      })\r\n    } catch (error) {\r\n      if (error.response === undefined) {\r\n        message.error({\r\n          content: \"错误：服务器未响应\",\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n        return\r\n      }\r\n      if (error.response.status === 400 && error.response.data.message.includes(\"children not found\")) {\r\n        console.debug(\"no children\")\r\n      } else {\r\n        message.error({\r\n          content: `获取nft子节点情况页面失败： ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  handleClickOpen = (e) => {\r\n    this.setState({\r\n      open: true,\r\n    })\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    this.setState({\r\n      open: false,\r\n    })\r\n  }\r\n\r\n  handleGetPrice = (value) => {\r\n    this.setState({\r\n      price: value,\r\n    })\r\n  }\r\n\r\n  handleGetAddr = (e) => {\r\n    this.setState({\r\n      toAddress: e.target.value,\r\n    })\r\n  }\r\n\r\n  handleClickLink = (event) => {\r\n    var new_url = '/#/NFT/' + this.state.NFTId\r\n    window.open(new_url, '_self')\r\n  }\r\n\r\n  sell = async (e) => {\r\n    this.setState({\r\n      open: false,\r\n    })\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\r\n    const account = accounts[0];\r\n\r\n    var price_with_decimal = this.state.price * (10 ** this.state.decimal)\r\n    price_with_decimal = price_with_decimal.toString()\r\n    var obj = this\r\n    this.setState({\r\n      onLoading: true\r\n    })\r\n    var gasPrice = await web3.eth.getGasPrice()\r\n    var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n    contract.methods.determinePriceAndApprove(this.state.NFTId, price_with_decimal, this.state.toAddress).send({\r\n      from: account,\r\n      gasPrice: new_gas_price\r\n    })\r\n      .on('receipt', function (receipt) {\r\n        obj.setState({\r\n          onSale: true,\r\n          onLoading: false\r\n        })\r\n        message.success({\r\n          content: \"已经成功授权买方\",\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      })\r\n      .on('error', function (error) {\r\n        obj.setState({\r\n          onLoading: false\r\n        })\r\n        message.error({\r\n          content: `Error: ${error.message}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      })\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n    const sell_info = () => {\r\n      let host = window.location.host\r\n      let toUrl = \"https://\" + host + '/#/buySingle/' + this.state.NFTId\r\n      if (this.state.onSale) {\r\n        return (\r\n          <Grid container >\r\n            <Grid item xs>\r\n              <Typography color=\"inherit\" align=\"center\" noWrap className={classes.share} >\r\n                请将下方链接分享给买方，<br /> 买方会进入此链接来购买这个NFT <br />\r\n                {toUrl}\r\n                <CopyToClipboard text={toUrl}\r\n                  onCopy={() => this.setState({ copied: true })}>\r\n                  <IconButton color=\"primary\" aria-label=\"upload picture\" component=\"span\">\r\n                    <CopyOutlined />\r\n                  </IconButton>\r\n                </CopyToClipboard>\r\n              </Typography>\r\n            </Grid>\r\n          </Grid>\r\n        )\r\n      }\r\n    }\r\n\r\n    const showSellBtn = () => {\r\n      if (this.state.currentAcc == this.state.owner) {\r\n        return (\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            startIcon={< DollarCircleOutlined style={{ fontSize: 22 }} />}\r\n            className={classes.btnSell}\r\n            onClick={this.handleClickOpen}\r\n          >\r\n            售卖\r\n          </Button>\r\n        )\r\n      } else {\r\n        return (\r\n          <Button\r\n            variant=\"outlined\"\r\n            startIcon={<DollarCircleOutlined style={{ fontSize: 22 }} />}\r\n            className={classes.btnSell}\r\n            disabled\r\n          >\r\n            售卖\r\n          </Button>\r\n        )\r\n      }\r\n    }\r\n\r\n    return(\r\n      <Spin spinning={this.state.onLoading} size='large'>\r\n        <ThemeProvider theme={theme}>\r\n          <TopBar />\r\n          <Container component=\"main\" className={classes.container}>\r\n            <Button\r\n              startIcon={<ArrowLeftOutlined style={{ fontSize: 22 }} />}\r\n              onClick={this.handleClickLink}\r\n              style={{ marginTop: 50, marginBottom: 100, fontSize: 22 }}\r\n            >\r\n              返回\r\n            </Button>\r\n            <div className={classes.paper}>\r\n              {this.state.loadItem?(\r\n                <Grid container spacing={5} className={classes.content}>\r\n                  <Grid item xs={4}>\r\n                    <Skeleton variant=\"rect\" width={300} height={500} className={classes.img} />\r\n                  </Grid>\r\n                  <Grid item xs style={{ marginLeft: '5%', maxWidth: 500, minWidth: 350 }}>\r\n                    <Skeleton animation=\"wave\" variant=\"text\" width={'70%'} height={30} />\r\n                    <Skeleton animation=\"wave\" variant=\"text\" width={'100%'} height={70} />\r\n                    <Skeleton animation=\"wave\" variant=\"rect\" width={'100%'} height={300} style={{ marginBottom: 50 }} />\r\n                    {showSellBtn()}\r\n                  </Grid>\r\n                </Grid>\r\n              ):(\r\n                <Grid container className={classes.content} spacing={5}>\r\n                  <Grid item xs={4} style={{ maxWidth: 600 }}>\r\n                    <Paper className={classes.imgPaper}>\r\n                      <img style={{ width: 300, marginTop: 20, marginBottom: 50, objectFit: 'contain' }} src={this.state.coverURL}></img>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item xs className={classes.content2}>\r\n                    <Typography color=\"inherit\" align=\"left\" color=\"textSecondary\" noWrap style={{ fontFamily: 'Teko', fontSize: 16, marginTop: '2%' }}>\r\n                      #{this.state.NFTId}\r\n                    </Typography>\r\n                    <Typography color=\"inherit\" align=\"left\" noWrap style={{ fontFamily: 'Teko', fontSize: 30, marginTop: '2%' }}>\r\n                      <b>{this.state.name}</b>\r\n                    </Typography>\r\n                    <Typography align=\"justify\" color=\"textSecondary\" paragraph style={{ marginTop: '2%', maxWidth: '100%', fontSize: 16 }}>\r\n                      {this.state.description}\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '6%', maxWidth: '65%', fontSize: 20 }}>\r\n                      创作者分红比例: {this.state.bonusFee} %\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n                      当前拥有的子节点数量: {this.state.childrenNum}\r\n                    </Typography>\r\n                    {showSellBtn()}\r\n                    <Dialog\r\n                      open={this.state.open}\r\n                      onClose={this.handleClose}\r\n                      aria-labelledby=\"form-dialog-title\"\r\n                    >\r\n                      <DialogTitle id=\"form-dialog-title\">填写售卖信息</DialogTitle>\r\n                      <DialogContent>\r\n                        <DialogContentText>\r\n                          请在下方区域填写你希望售卖的价格，以及售卖对象的钱包地址。\r\n                        </DialogContentText>\r\n                        <label style={{ fontSize: 14, marginBottom: 10 }}>售卖价格 ({this.state.tokenSymbol})*</label>\r\n                        <InputNumber\r\n                          defaultValue={0}\r\n                          min={0}\r\n                          onChange={this.handleGetPrice}\r\n                          className={classes.inputNum}\r\n                        />\r\n                        <label style={{ fontSize: 14, marginBottom: 10, marginTop: 10 }}>买方钱包地址 *</label>\r\n                        <Input\r\n                          placeholder=\"买方钱包地址\"\r\n                          allowClear\r\n                          id=\"pubName\"\r\n                          onChange={this.handleGetAddr}\r\n                          className={classes.input}\r\n                        />\r\n                      </DialogContent>\r\n                      <DialogActions>\r\n                        <Button onClick={this.handleClose} color=\"primary\">\r\n                          取消\r\n                        </Button>\r\n                        <Button variant=\"contained\" onClick={this.sell} color=\"primary\" >\r\n                          卖出\r\n                        </Button>\r\n                      </DialogActions>\r\n                    </Dialog>\r\n                    \r\n                  </Grid>\r\n                </Grid>\r\n              )}\r\n            </div>\r\n            <div style={{ marginTop: 50 }}>\r\n              {sell_info()}\r\n            </div>\r\n          </Container>\r\n        </ThemeProvider>\r\n      </Spin>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default withStyles(styles, {withTheme: true}) (SellSingle)\r\n//todo 涉及交易","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport TopBar from './TopBar'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport axios from 'axios'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Container from '@material-ui/core/Container'\r\nimport { DollarCircleOutlined, ArrowLeftOutlined } from '@ant-design/icons'\r\nimport { Spin, message } from 'antd'\r\nimport contract from './contract'\r\nimport web3 from './web3'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\n\r\nconst abi = require('erc-20-abi')\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    maxWidth: 1500,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    maxWidth: 1500,\r\n  },\r\n  btnDisable: {\r\n    margin: theme.spacing(1),\r\n    fontSize: 16,\r\n    borderRadius: 10,\r\n    borderWidth: 3,\r\n    borderColor: '#909497',\r\n    color: '#909497',\r\n    marginLeft: '10%',\r\n    width: 100\r\n  },\r\n  btnSell: {\r\n    margin: theme.spacing(1),\r\n    fontSize: 16,\r\n    borderRadius: 10,\r\n    borderWidth: 2,\r\n    borderColor: '#2196f3',\r\n    color: '#2196f3',\r\n    marginLeft: '10%',\r\n    width: 100\r\n  },\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  img: {\r\n    width: 300,\r\n    marginBottom: 50,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '30%'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '40%'\r\n    },\r\n  },\r\n  imgPaper: {\r\n    width: 350,\r\n    marginBottom: 50,\r\n    backgroundColor: '#EFEBE9',\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '20%'\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '30%'\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '35%'\r\n    },\r\n  },\r\n  content2: {\r\n    fontFamily: 'Teko',\r\n    textAlign: 'center',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: 90, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: 80, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: 50, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: 60, maxWidth: 500\r\n    },\r\n  },\r\n\r\n})\r\n\r\n\r\nclass BuySingle extends Component {\r\n  gateway = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/'\r\n  backend = 'https://api.sparklink.io'\r\n  sparkAddr = '0xb42d4525841008A69E427026DF354067fD6A524f'\r\n  state = {\r\n    name: '',\r\n    bonusFee: 0,\r\n    coverURL: '',\r\n    description: '',\r\n    price: 0,\r\n    priceString: '',\r\n    ipfsHashMeta: '',\r\n    open: false,\r\n    address: '',\r\n    NFTId: '',\r\n    onSale: false,\r\n    owner: '',\r\n    approvedAddr: '',\r\n    currentAcc: '',\r\n    onLoading: false,\r\n    childrenNum: 0,\r\n    loadItem: true,\r\n    encrypted: '未知',\r\n    tokenAddr: null,\r\n    tokenSymbol: '',\r\n    decimal: 0,\r\n    approved: false,\r\n  }\r\n\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  async componentDidMount () {\r\n    const accounts = await window.ethereum.request({method: 'eth_requestAccounts'})\r\n    const account = accounts[0]\r\n    this.setState({\r\n      currentAcc: account,\r\n      NFTId: this.props.match.params.NFTId\r\n    })\r\n    const issueId = await contract.methods.getIssueIdByNFTId(this.state.NFTId).call()\r\n    const royalty = await contract.methods.getRoyaltyFeeByIssueId(issueId).call()\r\n    const metadata = await contract.methods.tokenURI(this.props.match.params.NFTId).call()\r\n    let hash = metadata.split('/')\r\n    this.setState({\r\n      ipfsHashMeta: hash[hash.length-1]\r\n    })\r\n    var url = this.gateway + this.state.ipfsHashMeta\r\n    try {\r\n      const res = await axios({method: 'get', url: url, timeout: 1000*3})\r\n      let content = res.data\r\n      let bonus = content.attributes[0].value\r\n      let encrypted\r\n      if (content.attributes[3].value.toUpperCase() === 'TRUE'){\r\n        encrypted = '是'\r\n      } else {\r\n        encrypted = '否'\r\n      }\r\n\r\n      this.setState({\r\n        loadItem: false,\r\n        name: content.name,\r\n        description: content.description,\r\n        bonusFee: bonus,\r\n        coverURL: content.image,\r\n        encrypted: encrypted\r\n      })\r\n    } catch (error) {\r\n      var name_holder = 'SparkNFT#' + this.props.match.params.NFTId\r\n      this.setState({\r\n        loadItem: false,\r\n        name: name_holder,\r\n        description: '暂时无法获取到该nft的相关描述',\r\n        bonusFee: royalty,\r\n        coverURL: 'https://via.placeholder.com/100x140.png?text=SparkNFT'\r\n      })\r\n    }\r\n\r\n    var owner = await contract.methods.ownerOf(this.props.match.params.NFTId).call()\r\n    var approved = await contract.methods.getApproved(this.props.match.params.NFTId).call()\r\n    var price = await contract.methods.getTransferPriceByNFTId(this.props.match.params.NFTId).call()\r\n    var token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.NFTId).call()\r\n    this.setState({\r\n      owner: owner,\r\n      approvedAddr: approved,\r\n      price: price\r\n    })\r\n    if (token_addr == '0x0000000000000000000000000000000000000000') {\r\n      this.setState({\r\n        tokenAddr: token_addr,\r\n        tokenSymbol: \"MATIC\",\r\n        decimal: 18,\r\n        approved: true\r\n      })\r\n    } else {\r\n      try{\r\n        const token_contract = new web3.eth.Contract(abi, token_addr)\r\n        const token_symbol = await token_contract.methods.symbol().call()\r\n        const decimal = await token_contract.methods.decimals().call()\r\n        const approved_amount = await token_contract.methods.allowance(account, this.sparkAddr).call()\r\n        if(approved_amount >= price){\r\n          this.setState({\r\n            approved: true\r\n          })\r\n        } else {\r\n          this.setState({\r\n            approved: false\r\n          })\r\n        }\r\n        this.setState({\r\n          tokenAddr: token_addr,\r\n          tokenSymbol: token_symbol,\r\n          decimal: decimal\r\n        })\r\n      } catch (error) {\r\n        message.error({\r\n          content: `Error: ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    }\r\n\r\n    var price_with_decimal = price / (10 ** this.state.decimal)\r\n    price_with_decimal = price_with_decimal + \" \" + this.state.tokenSymbol\r\n    this.setState({\r\n      priceString: price_with_decimal\r\n    })\r\n\r\n    const child_url = this.backend + '/api/v1/nft/info?nft_id=' + this.state.NFTId\r\n    try{\r\n      const response = await axios.get(child_url)\r\n      var children_num = response.data.children_count\r\n      this.setState({\r\n        childrenNum: children_num\r\n      })\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n    \r\n  }\r\n\r\n  handleBuy = async (e) => {\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    const account = accounts[0]\r\n    \r\n    var gasPrice = await web3.eth.getGasPrice()\r\n    var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n    let obj = this\r\n    if (this.state.tokenAddr == '0x0000000000000000000000000000000000000000') {\r\n      this.setState({\r\n        onLoading: true\r\n      })\r\n      contract.methods.safeTransferFrom(this.state.owner, account, this.state.NFTId).send({\r\n        from: account,\r\n        value: this.state.price,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          obj.setState({\r\n            onLoading: false\r\n          })\r\n          message.success({\r\n            content: \"交易已经上链\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    } else {\r\n      this.setState({\r\n        onLoading: true\r\n      })\r\n      contract.methods.safeTransferFrom(this.state.owner, account, this.state.NFTId).send({\r\n        from: account,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          obj.setState({\r\n            onLoading: false\r\n          })\r\n          message.success({\r\n            content: \"交易已经上链\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    }\r\n  }\r\n\r\n  handleApprove = async (e) => {\r\n    const accounts = await window.ethereum.request({method: 'eth_requestAccounts'})\r\n    const account = accounts[0]\r\n\r\n    this.setState({\r\n      onLoading: true\r\n    })\r\n    let obj = this\r\n    try{\r\n      const token_contract = new web3.eth.Contract(abi, this.state.tokenAddr)\r\n      var gasPrice = await web3.eth.getGasPrice()\r\n      var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n      var price = this.state.price.toString()\r\n\r\n      token_contract.methods.approve(this.sparkAddr, price).send({\r\n        from: account,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          obj.setState({\r\n            onLoading: false,\r\n            approved: true\r\n          })\r\n          message.success({\r\n            content: \"已经成功授权合约\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false,\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  handleGetPrice = (value) => {\r\n    this.setState({\r\n      price: value,\r\n    })\r\n  }\r\n\r\n  handleGetAddr = (e) => {\r\n    this.setState({\r\n      address: e.target.value,\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const {classes} = this.props\r\n    \r\n    const buyButton = ()=> {\r\n      if(this.state.approvedAddr.toLowerCase() !== this.state.currentAcc.toLowerCase()){\r\n        return (\r\n          <Button\r\n            variant = 'outlined'\r\n            startIcon={<DollarCircleOutlined style={{ fontSize: 22 }}/>}\r\n            className={classes.btnDisable}\r\n            disabled\r\n          >\r\n            购买\r\n          </Button>\r\n        )\r\n      } else if (! this.state.approved) {\r\n        return(\r\n          <Button\r\n            variant = 'outlined'\r\n            color = 'primary'\r\n            className = { classes.btnSell }\r\n            onClick={this.handleApprove}\r\n          >\r\n            授权合约\r\n          </Button>\r\n        )\r\n      } else {\r\n        return(\r\n          <Button\r\n            variant='outlined'\r\n            startIcon={<DollarCircleOutlined style={{ fontSize: 22 }} />}\r\n            className={classes.btnSell}\r\n            onClick={this.handleBuy}\r\n          >\r\n            购买\r\n          </Button>\r\n        )\r\n      }\r\n    }\r\n\r\n    return(\r\n      <Spin spinning={this.state.onLoading} size='large'>\r\n        <ThemeProvider theme={theme}>\r\n          <TopBar />\r\n          <Container component=\"main\" className={classes.container}>\r\n            <Button\r\n              startIcon={<ArrowLeftOutlined style={{ fontSize: '2rem' }} />}\r\n              href='/'\r\n              style={{ marginTop: 20, marginBottom: 10, fontSize: '2rem' }}\r\n            >\r\n              回到首页\r\n            </Button>\r\n            <div className={classes.paper}>\r\n              {this.state.loadItem ? (\r\n                <Grid container spacing={5} className={classes.content}>\r\n                  <Grid item xs={4}>\r\n                    <Skeleton variant=\"rect\" width={300} height={500} className={classes.img} />\r\n                  </Grid>\r\n\r\n                  <Grid item xs style={{ marginLeft: '5%', maxWidth: 500, minWidth: 350 }}>\r\n                    <Skeleton animation=\"wave\" variant=\"text\" width={'70%'} height={30} />\r\n                    <Skeleton animation=\"wave\" variant=\"text\" width={'100%'} height={70} />\r\n                    <Skeleton animation=\"wave\" variant=\"rect\" width={'100%'} height={300} style={{ marginBottom: 50 }} />\r\n                    {buyButton()}\r\n                  </Grid>\r\n                </Grid>\r\n              ):(\r\n                <Grid container className={classes.content} spacing={5}>\r\n                  <Grid item xs={4} style={{ maxWidth: 600 }}>\r\n                    <Paper className={classes.imgPaper}>\r\n                      <img style={{ width: 300, marginTop: 20, marginBottom: 50, objectFit: 'contain' }} src={this.state.coverURL}></img>\r\n                    </Paper>\r\n                  </Grid>\r\n\r\n                  <Grid item xs className={classes.content2}>\r\n                    <Typography color=\"inherit\" align=\"left\" color=\"textSecondary\" noWrap style={{ fontFamily: 'Teko', fontSize: 16, marginTop: '2%' }}>\r\n                      #{this.state.NFTId}\r\n                    </Typography>\r\n                    <Typography color=\"inherit\" align=\"left\" noWrap style={{ fontFamily: 'Teko', fontSize: 34 }}>\r\n                      <b>{this.state.name}</b>\r\n                    </Typography>\r\n                    <Typography align=\"justify\" color=\"textSecondary\" paragraph style={{ marginTop: '2%', maxWidth: '100%', fontSize: 16 }}>\r\n                      {this.state.description}\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '2%', maxWidth: '65%', fontSize: 20 }}>\r\n                      创作者分红比例: {this.state.bonusFee} %\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '2%', maxWidth: '100%', fontSize: 18 }}>\r\n                      售价: {this.state.priceString}\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '1%', maxWidth: '65%', fontSize: 12 }}>\r\n                      当前拥有者: {this.state.owner}\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n                      当前拥有的子节点数量: {this.state.childrenNum}\r\n                    </Typography>\r\n                    <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '65%', fontSize: 12 }}>\r\n                      NFT作品是否加密: {this.state.encrypted}\r\n                    </Typography>\r\n                    {buyButton()}\r\n                  </Grid>\r\n                </Grid>\r\n              )}\r\n            </div>\r\n          </Container>\r\n        </ThemeProvider>\r\n      </Spin>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true})(BuySingle)\r\n//todo  涉及交易","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport contract from './contract';\r\nimport TopBar from \"./TopBar\";\r\nimport Skeleton from '@material-ui/lab/Skeleton';\r\nimport { Empty } from 'antd';\r\nimport axios from 'axios';\r\nimport web3 from './web3';\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#FDFEFE',\r\n    },\r\n    secondary: {\r\n      main: '#2196f3',\r\n    }\r\n  },\r\n});\r\n\r\nconst styles = theme => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  titleFont: {\r\n    fontFamily: 'Teko',\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderWidth: 8,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n  },\r\n  heroContent: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    padding: theme.spacing(36, 0, 6),\r\n  },\r\n  cardGrid: {\r\n    paddingTop: theme.spacing(8),\r\n    paddingBottom: theme.spacing(8),\r\n  },\r\n  card: {\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n  },\r\n  cardMedia: {\r\n    // paddingTop: '56.25%', // 16:9\r\n    objectFit: 'contain',\r\n    paddingTop: '100%', // 16:9\r\n  },\r\n  cardContent: {\r\n    flexGrow: 2,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(7),\r\n    textAlign: 'center'\r\n  },\r\n  container: {\r\n    maxWidth: '100%'\r\n  },\r\n  btnMain: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#FFFFFF',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 150\r\n  },\r\n  btnSecond: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#03A9F4',\r\n    borderWidth: 3,\r\n    borderColor: '#03A9F4',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 150\r\n  },\r\n  title: {\r\n    fontFamily: 'Teko',\r\n    marginTop: '5%',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 40,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 55,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 90,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 110,\r\n    },\r\n  },\r\n  title2: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 25,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 35,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 45,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 55,\r\n    },\r\n  },\r\n});\r\n\r\nclass Collections extends Component {\r\n  gateway = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/';\r\n  backend = 'https://api.sparklink.io'\r\n  web3;\r\n  cards = [];\r\n  state = {\r\n    isLogin: false,\r\n    user_address: null,\r\n    name: '',\r\n    viewable: false,\r\n    cards: [],\r\n    onloading: false,\r\n    SkeletoNumber: 0,\r\n    noNFT: true,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\r\n    if (accounts.length === 0) {\r\n      alert(\"请先连接Metamask\")\r\n    }\r\n    const account = accounts[0];\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' });\r\n    if (chainId !== '0x89') {\r\n      alert(\"请切换至Polygon 主网络\");\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n\r\n    let cards = [];\r\n\r\n    const nft_number = await contract.methods.balanceOf(account).call()\r\n    console.log('nft_number: ', nft_number)\r\n    if (nft_number === 0) {\r\n      return;\r\n    }\r\n\r\n    let ids = await this.getNft(contract, account);\r\n    if (ids.length === 0) {\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      noNFT: false\r\n    })\r\n    let data = await this.getMetadata(contract, ids);\r\n    for (let i = 0; i < ids.length; i++) {\r\n      let element = {\r\n        id: ids[i],\r\n        title: data[i].name,\r\n        description: data[i].description,\r\n        bonusFee: data[i].attributes.value,\r\n        image: data[i].image,\r\n      }\r\n      cards.push(element);\r\n    }\r\n    var reversed_cards = cards.reverse()\r\n    this.setState({ viewable: true, });\r\n    this.setState({ cards: reversed_cards, });\r\n    this.setState({\r\n      onloading: false,\r\n      SkeletoNumber: 0\r\n    })\r\n\r\n  }\r\n\r\n  getMetadata = async (nft, id) => {\r\n    let metaDatas = [];\r\n    for (let i = 0; i < id.length; i++) {\r\n      let ipfs_link = await nft.methods.tokenURI(id[i]).call();\r\n      var ipfs_hash_arr = ipfs_link.split('/')\r\n      var ipfs_hash = ipfs_hash_arr[ipfs_hash_arr.length - 1]\r\n      var meta = \"https://coldcdn.com/api/cdn/v5ynur/ipfs/\" + ipfs_hash\r\n      // console.debug(\"meta: \" + id[i] + \" \" + meta)\r\n      await axios({\r\n        method: 'get',\r\n        url: meta,\r\n        timeout: 1000 * 2,\r\n      }).then(res => {\r\n        // console.log(\"meta: \", res.data)\r\n        metaDatas.push(res.data)\r\n      }).catch(error => {\r\n        var name_holder = 'SparkNFT#' + id[i]\r\n        var placeholder = {\r\n          \"name\": name_holder,\r\n          \"description\": '暂时无法获取到该nft的相关描述',\r\n          \"image\": 'https://testnets.opensea.io/static/images/placeholder.png',\r\n          \"attributes\": [\r\n            {\r\n              \"display_type\": \"boost_percentage\",\r\n              \"trait_type\": \"Bonuse Percentage\",\r\n              \"value\": 0\r\n            },\r\n            {\r\n              \"trait_type\": \"File Address\",\r\n              \"value\": 'file_url'\r\n            }\r\n          ]\r\n        }\r\n        metaDatas.push(placeholder);\r\n      })\r\n    }\r\n    return metaDatas;\r\n  }\r\n\r\n  getNft = async (nft, account) => {\r\n    let balanceId = [];\r\n    //0x9452644E9fdd59bD46A4d9eC24462995ADfD8d01\r\n    var checksum_address = web3.utils.toChecksumAddress(account);\r\n    var url = this.backend + '/api/v1/nft/list?owner=' + checksum_address\r\n    console.debug('owner: ', checksum_address)\r\n    try {\r\n      var res = await axios.get(url)\r\n      balanceId = res.data.nft\r\n      this.setState({\r\n        onloading: true,\r\n        SkeletoNumber: balanceId.length\r\n      })\r\n      return balanceId;\r\n    } catch (error) {\r\n      // alert('无法获取您当前拥有的nft')\r\n      return [];\r\n    }\r\n  };\r\n\r\n\r\n  renderDescription = (description) => {\r\n    if (description.length <= 150) {\r\n\r\n      return (description);\r\n    } else {\r\n      let newDescription = description.substring(0, 150) + \"..........\";\r\n      return (newDescription);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n    let obj = this;\r\n    window.ethereum.on('chainChanged', handleChainChanged);\r\n\r\n    function handleChainChanged(_chainId) {\r\n      window.location.reload();\r\n    }\r\n\r\n    function showCard(card, index) {\r\n      let res = (\r\n        <Grid item key={index} xs={12} sm={6} md={4}>\r\n          {\r\n            card ? (<Card className={classes.card}>\r\n              <CardMedia\r\n                className={classes.cardMedia}\r\n                image={card.image}\r\n                title=\"Image title\"\r\n              />\r\n              <CardContent className={classes.cardContent}>\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                  <b>{card.title}</b>\r\n                </Typography>\r\n                <Typography>\r\n                  {obj.renderDescription(card.description)}\r\n                </Typography>\r\n              </CardContent>\r\n              <CardActions>\r\n                <Button size=\"small\" variant=\"contained\" color=\"primary\" href={'/#/NFT/' + card.id} >\r\n                  <b>查看 </b>\r\n                </Button>\r\n                <Typography variant=\"body2\" gutterBottom>\r\n                  <b>NFT id: {card.id} </b>\r\n                </Typography>\r\n              </CardActions>\r\n            </Card>) : (\r\n              <Card className={classes.card}>\r\n                <Skeleton variant=\"rect\" style={{ marginLeft: 70, }} width={260} height={288} />\r\n                <Skeleton width=\"60%\" style={{ marginTop: 40, }} height={33} />\r\n                <Skeleton height={33} />\r\n                <Skeleton height={33} />\r\n                <Skeleton height={33} />\r\n              </Card>\r\n            )\r\n          }\r\n        </Grid>\r\n      );\r\n\r\n      return res;\r\n\r\n    }\r\n    return (\r\n      <div>\r\n        <ThemeProvider theme={theme}>\r\n          <TopBar />\r\n          <Container component=\"main\" className={classes.container}>\r\n            <div className={classes.paper}>\r\n              <Grid container justifyContent=\"center\">\r\n                <Grid item xs={10}>\r\n                  <Typography color=\"inherit\" noWrap className={classes.title}>\r\n                    <b>我的收藏馆</b>\r\n                  </Typography>\r\n                  <Typography color=\"inherit\" noWrap className={classes.title2}>\r\n                    <b>An ERC721 Token Trying to Solve Existing Publishing Dilemma</b>\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Container>\r\n        </ThemeProvider>\r\n        {this.state.noNFT ? (\r\n          <Empty \r\n            description={\r\n              <span style={{ fontFamily: 'Teko' }}>\r\n                <b>暂无可展示NFT</b>\r\n              </span>\r\n            }\r\n            style={{marginTop: 100}}\r\n            />\r\n        ):(\r\n          <main>\r\n            { <Container className = {classes.cardGrid} maxWidth=\"md\">\r\n              <Grid container spacing={4}>\r\n                {\r\n                  (this.state.onloading ? Array.from(new Array(this.state.SkeletoNumber)) : this.state.cards).map((card, index) => {\r\n                    return showCard(card, index);\r\n                  })\r\n                }\r\n              </Grid>\r\n            </Container>}\r\n          </main>\r\n        )}\r\n        \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Collections);\r\n//todo 涉及交易","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport TopBar from \"./TopBar\"\r\nimport { Paper, Container, Link } from '@material-ui/core'\r\nimport axios from 'axios'\r\nimport contract from './contract'\r\nimport web3 from './web3'\r\nimport { ArrowLeftOutlined, FireOutlined } from '@ant-design/icons'\r\nimport Skeleton from '@material-ui/lab/Skeleton'\r\nimport { Progress, message, Spin } from 'antd'\r\n\r\n//字符串常量\r\nconst TOKENPOCKET = \"TokenPocket\";\r\nconst METAMASK = \"MetaMask\";\r\nconst LASTCONNECT = \"lastConnect\";\r\n\r\nconst tp = require('tp-js-sdk');\r\nconst abi = require('erc-20-abi');\r\n\r\n\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\nconst styles = theme => ({\r\n  container: {\r\n    maxWidth: 1500,\r\n    // backgroundColor: '#2196f3'\r\n  },\r\n  btnMain: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#FFFFFF',\r\n    backgroundColor: '#03A9F4',\r\n    borderWidth: 3,\r\n    // borderColor: '#03A9F4',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 150,\r\n    maxWidth: '20rem',\r\n    minWidth: '10rem',\r\n  },\r\n  btnSecond: {\r\n    marginTop: theme.spacing(3),\r\n    color: '#03A9F4',\r\n    borderWidth: 3,\r\n    borderColor: '#03A9F4',\r\n    fontSize: 16,\r\n    borderRadius: 25,\r\n    width: 150,\r\n    maxWidth: '20rem',\r\n    minWidth: '10rem',\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(1),\r\n    textAlign: 'center',\r\n    maxWidth: 1400,\r\n  },\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      justifyContent: \"flex-start\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      justifyContent: \"center\",\r\n      alignItems: \"flex-start\"\r\n    },\r\n  },\r\n  imagePaper: {\r\n\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      backgroundColor: '#EFEBE9', width: 330, height: 420, marginLeft: 10\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      backgroundColor: '#EFEBE9', width: 340, height: 440, marginLeft: 10\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, height: 465, marginLeft: 10\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, marginLeft: 10\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      backgroundColor: '#EFEBE9', width: 350, marginLeft: 10\r\n    },\r\n  },\r\n  imageStyle: {\r\n    objectFit: 'contain',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      width: 280,\r\n      height: 365,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      width: 290,\r\n      height: 385,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      width: 300,\r\n      height: 420,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      width: 300,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      width: 300,\r\n      marginTop: 20,\r\n      marginBottom: 50\r\n    },\r\n  },\r\n  content2: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: 10, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: 90, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: 80, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: 50, maxWidth: 500\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: 60, maxWidth: 500\r\n    },\r\n  },\r\n  title: {\r\n    fontFamily: 'Teko',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 48,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 60,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 70,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 75,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 80,\r\n    },\r\n  },\r\n\r\n})\r\n\r\nclass NFTSpark extends Component {\r\n  gateway = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/'\r\n  backend = 'https://api.sparklink.io'\r\n  sparkAddr = '0xb42d4525841008A69E427026DF354067fD6A524f'\r\n  state = {\r\n    Name: '',\r\n    Description: '',\r\n    BonusFee: 0,\r\n    Cover: '',\r\n    price: '',\r\n    priceString: '',\r\n    onLoading: false,\r\n    loadItem: true,\r\n    open: false,\r\n    approved: false,\r\n    tokenAddr: '',\r\n    tokenSymbol: '',\r\n    isEncrypt: true,\r\n    percentage: 0,\r\n    showProgress: false,\r\n    fileType: '',\r\n    remainShillTimes: 0,\r\n    maxShillTimes: 0,\r\n  }\r\n\r\n  async componentDidMount() {\r\n    //?RPC请求\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n    if (chainId !== '0x89') {\r\n      alert(\"请切换至Polygon 主网络\")\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n\r\n\r\n    var account;\r\n    const lastConnect = localStorage.getItem(LASTCONNECT);\r\n    if (lastConnect === METAMASK) {\r\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      account = accounts[0];\r\n    }\r\n    else if(lastConnect === TOKENPOCKET) {\r\n      await tp.getWallet({ walletTypes: ['matic'], switch: false }).then(\r\n        value => {\r\n          account = value.data.address;\r\n        }\r\n      )\r\n    }\r\n\r\n    // const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    // const account = accounts[0]\r\n\r\n    const meta = await contract.methods.tokenURI(this.props.match.params.id).call()\r\n    let hash = meta.split('/')\r\n    this.setState({ hash: hash[hash.length - 1] })\r\n    let isEncrypt\r\n    try {\r\n      var url = this.gateway + this.state.hash\r\n      const res = await axios.get(url)\r\n      let data = res.data\r\n      let bouns = data.attributes[0].value\r\n      let fileAddr = data.attributes[1].value\r\n      let fileType = data.attributes[2].value\r\n      if (data.attributes[3].value === \"FALSE\") {\r\n        isEncrypt = false\r\n      } else {\r\n        isEncrypt = true\r\n      }\r\n      this.setState({\r\n        Name: data.name,\r\n        Description: data.description,\r\n        BonusFee: bouns,\r\n        Cover: data.image,\r\n        fileType: fileType,\r\n        dataUrl: fileAddr,\r\n        isEncrypt: isEncrypt\r\n      })\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n\r\n    const price = await contract.methods.getShillPriceByNFTId(this.props.match.params.id).call()\r\n    const token_addr = await contract.methods.getTokenAddrByNFTId(this.props.match.params.id).call()\r\n\r\n    this.setState({\r\n      price: price,\r\n      tokenAddr: token_addr\r\n    })\r\n\r\n    if (token_addr == '0x0000000000000000000000000000000000000000') {\r\n      var price_with_decimal = price / (10 ** 18)\r\n      price_with_decimal = price_with_decimal + \" MATIC\"\r\n      this.setState({\r\n        priceString: price_with_decimal,\r\n        approved: true\r\n      })\r\n    } else {\r\n      try {\r\n        const token_contract = new web3.eth.Contract(abi, token_addr)\r\n        const decimals = await token_contract.methods.decimals().call()\r\n        const token_symbol = await token_contract.methods.symbol().call()\r\n        var price_with_decimal = price / (10 ** decimals)\r\n        price_with_decimal = price_with_decimal + \" \" + token_symbol\r\n        this.setState({ priceString: price_with_decimal })\r\n        const approved_amount = await token_contract.methods.allowance(account, this.sparkAddr).call()\r\n        if (approved_amount >= price) {\r\n          this.setState({\r\n            approved: true\r\n          })\r\n        } else {\r\n          this.setState({\r\n            approved: false\r\n          })\r\n        }\r\n      } catch (error) {\r\n        message.error({\r\n          content: `Error: ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    }\r\n\r\n    const leafUrl = this.backend + '/api/v1/nft/info?nft_id=' + this.props.match.params.id\r\n    try {\r\n      const res = await axios.get(leafUrl)\r\n      var children_num = res.data.children_count\r\n      var remain_shill_times = res.data.max_shill_times - res.data.shill_times\r\n      var max_shill_times = res.data.max_shill_times\r\n      this.setState({\r\n        remainShillTimes: remain_shill_times,\r\n        maxShillTimes: max_shill_times\r\n      })\r\n      if (res.data.suggest_next_nft === this.props.match.params.id) {\r\n        this.setState({\r\n          childrenNum: children_num,\r\n          recommendNFT: res.data.suggest_next_nft,\r\n          showRecommend: false,\r\n        })\r\n      } else if (res.data.suggest_next_nft === '0') {\r\n        this.setState({\r\n          childrenNum: children_num,\r\n          recommendNFT: res.data.suggest_next_nft,\r\n          showRecommend: false\r\n        })\r\n      } else {\r\n        this.setState({\r\n          childrenNum: children_num,\r\n          recommendNFT: res.data.suggest_next_nft,\r\n          showRecommend: true\r\n        })\r\n      }\r\n    } catch (error) {\r\n      if (error.response === undefined) {\r\n        message.error({\r\n          content: \"错误：服务器未响应\",\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n        return\r\n      }\r\n      if (error.response.status === 400 && error.response.data.message.includes(\"children not found\")) {\r\n        console.debug(\"no children\")\r\n      } else {\r\n        message.error({\r\n          content: `获取nft子节点情况页面失败： ${error}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n    } finally {\r\n      this.setState({\r\n        loadItem: false\r\n      })\r\n    }\r\n\r\n  }\r\n\r\n  handleClickLink = (event) => {\r\n    var new_url = '/#/NFT/Spark/' + this.state.recommendNFT\r\n    window.open(new_url)\r\n  }\r\n\r\n  downloadIPFS = async (event) => {\r\n    let obj = this\r\n    let dataSplits = this.state.dataUrl.split('/')\r\n    var dataHash = dataSplits[dataSplits.length - 1]\r\n    var dataUrl = this.gateway + dataHash\r\n    this.setState({\r\n      showProgress: true\r\n    })\r\n    var open_config = {\r\n      url: dataUrl, //your url\r\n      method: 'GET',\r\n      responseType: 'blob', // important\r\n      onDownloadProgress(progress) {\r\n        var percentage = Math.round(progress.loaded / progress.total * 100)\r\n        obj.setState({\r\n          percentage: percentage\r\n        })\r\n      }\r\n    }\r\n\r\n    try {\r\n      const response = await axios(open_config)\r\n      const url = window.URL.createObjectURL(new Blob([response.data]))\r\n      const link = document.createElement('a')\r\n      link.href = url\r\n      link.style.display = 'none'\r\n      var suffix = '.' + this.state.fileType\r\n      var fileName = this.state.Name + suffix\r\n      link.download = fileName\r\n      document.body.appendChild(link)\r\n      link.click()\r\n      document.body.removeChild(link)\r\n      URL.revokeObjectURL(url)\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    } finally {\r\n      this.setState({ showProgress: false })\r\n    }\r\n  }\r\n\r\n  approve = async (event) => {\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    const account = accounts[0]\r\n    this.setState({ onLoading: true })\r\n\r\n    let obj = this\r\n    try {\r\n      const price = this.state.price.toString()\r\n      const token_contract = new web3.eth.Contract(abi, this.state.tokenAddr)\r\n      var gasPrice = await web3.eth.getGasPrice()\r\n      var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n      token_contract.methods.approve(this.sparkAddr, price).send({\r\n        from: account,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          message.success({\r\n            content: \"已经成功授权合约\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n          obj.setState({\r\n            onLoading: false,\r\n            approved: true\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false,\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    } catch (error) {\r\n      message.error({\r\n        content: `Error: ${error}`,\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  shill = async (event) => {\r\n    // const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    // const account = accounts[0]\r\n    var account;\r\n    const lastConnect = localStorage.getItem(LASTCONNECT);\r\n    if (lastConnect === METAMASK) {\r\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      account = accounts[0];\r\n    }\r\n    else if(lastConnect === TOKENPOCKET) {\r\n      await tp.getWallet({ walletTypes: ['matic'], switch: false }).then(\r\n        value => {\r\n          account = value.data.address;\r\n        }\r\n      )\r\n    }\r\n    var gasPrice = await web3.eth.getGasPrice()\r\n    var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n    let obj = this\r\n\r\n    this.setState({ onLoading: true });\r\n    if (this.state.tokenAddr == '0x0000000000000000000000000000000000000000') {\r\n      contract.methods.acceptShill(this.props.match.params.id).send({\r\n        from: account,\r\n        value: this.state.price,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          message.success({\r\n            content: \"交易已经上链\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n          obj.setState({\r\n            onLoading: false,\r\n            onSale: true\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false,\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    } else {\r\n      contract.methods.acceptShill(this.props.match.params.id).send({\r\n        from: account,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          message.success({\r\n            content: \"交易已经上链\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n          obj.setState({\r\n            onLoading: false,\r\n            onSale: true\r\n          });\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false,\r\n          })\r\n          message.error({\r\n            content: `Error: ${error.message}`,\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    const { classes } = this.props\r\n    const showBtn = () => {\r\n      if (this.state.showRecommend) {\r\n        return (\r\n          <div>\r\n            {this.state.isEncrypt ? (\r\n              <Grid container justifyContent=\"space-around\" >\r\n                <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" className={classes.btnMain} disabled>\r\n                  <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                    <font size=\"4\"> 下 载 </font>\r\n                  </Typography>\r\n                </Button>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '2rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} startIcon={<FireOutlined />} disabled>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 铸造  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            ) : (\r\n              <Grid container direction=\"row\" justifyContent=\"space-around\" >\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" className={classes.btnMain} onClick={this.downloadIPFS}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                      <font size=\"4\"> 下 载 </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '2rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} startIcon={<FireOutlined />} disabled>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 铸造  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </div>\r\n        )\r\n      } else if (!this.state.approved) {\r\n        return (\r\n          <div>\r\n            {this.state.isEncrypt ? (\r\n              <Grid container justifyContent=\"space-around\" >\r\n                <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" color=\"primary\" className={classes.btnMain} disabled>\r\n                  <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                    <font size=\"4\"> 下 载 </font>\r\n                  </Typography>\r\n                </Button>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} onClick={this.approve}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 授权合约  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            ) : (\r\n              <Grid container direction=\"row\" justifyContent=\"space-around\" >\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" color=\"primary\" className={classes.btnMain} onClick={this.downloadIPFS}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                      <font size=\"4\"> 下载 </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} onClick={this.approve}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 授权合约  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </div>\r\n        )\r\n      } else {\r\n        return (\r\n          <div>\r\n            {this.state.isEncrypt ? (\r\n              <Grid container justifyContent=\"space-around\" >\r\n                <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" color=\"primary\" className={classes.btnMain} disabled>\r\n                  <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                    <font size=\"4\"> 下 载 </font>\r\n                  </Typography>\r\n                </Button>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} startIcon={<FireOutlined />} onClick={this.shill}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 铸造  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            ) : (\r\n              <Grid container direction=\"row\" justifyContent=\"space-around\" >\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"contained\" color=\"primary\" className={classes.btnMain} onClick={this.downloadIPFS}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom style={{ color: '#FFFFFF' }}>\r\n                      <font size=\"4\"> 下 载 </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Button size=\"large\" style={{ fontSize: '3rem' }} variant=\"outlined\" color=\"secondary\" target=\"_blank\" className={classes.btnSecond} startIcon={<FireOutlined />} onClick={this.shill}>\r\n                    <Typography variant=\"button\" component=\"h2\" gutterBottom >\r\n                      <font size=\"4\"> 铸造  </font>\r\n                    </Typography>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            )}\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n\r\n    if (this.state.showProgress) {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <div style={{ textAlign: 'center', marginTop: '2%', marginLeft: 40 }}>\r\n              <Typography color=\"textPrimary\" gutterBottom style={{ marginRight: 50, marginTop: 20, fontSize: 24 }}>\r\n                <b>正在下载文件</b>\r\n              </Typography>\r\n            </div>\r\n            <div style={{ textAlign: 'center', marginTop: '10%' }}>\r\n              <Progress type=\"circle\" percent={this.state.percentage} width={200} />\r\n            </div>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    } else {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large'>\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <Container component=\"main\" className={classes.container}>\r\n              <Button\r\n                startIcon={<ArrowLeftOutlined style={{ fontSize: '2rem' }} />}\r\n                href='/#/collections'\r\n                style={{ marginTop: 20, marginBottom: 10, fontSize: '2rem' }}\r\n              >\r\n                回到我的收藏馆\r\n              </Button>\r\n              <Grid container direction=\"row\" justifyContent=\"center\" alignItems=\"center\" xs={12}>\r\n                <Typography color=\"inherit\" noWrap className={classes.title}>\r\n                  🔥 NFT 🔥\r\n                </Typography>\r\n              </Grid>\r\n\r\n              <div className={classes.paper}>\r\n                {this.state.loadItem ? (\r\n                  <Grid container spacing={5} className={classes.content}>\r\n                    <Grid item>\r\n                      <Skeleton variant=\"rect\" width={300} height={500} style={{ width: 370, marginLeft: 50, marginBottom: 50 }} />\r\n                    </Grid>\r\n                    <Grid item style={{ marginLeft: '5%' }}>\r\n                      <Skeleton animation=\"wave\" variant=\"text\" width={200} height={30} />\r\n                      <Skeleton animation=\"wave\" variant=\"text\" width={400} height={70} />\r\n                      <Skeleton animation=\"wave\" variant=\"rect\" width={500} height={300} style={{ marginBottom: 50 }} />\r\n                    </Grid>\r\n                  </Grid>\r\n                ) : (\r\n                  <Grid container direction=\"row\" justifyContent=\"space-between\" className={classes.content}>\r\n                    <Grid item style={{ maxWidth: 200 }}>\r\n                      <Paper className={classes.imagePaper}>\r\n                        <img className={classes.imageStyle} src={this.state.Cover}></img>\r\n                      </Paper>\r\n                    </Grid>\r\n\r\n                    <Grid xs={2}></Grid>\r\n\r\n                    <Grid item xs className={classes.content2} >\r\n                      <Typography color=\"inherit\" align=\"left\" color=\"textSecondary\" noWrap style={{ fontFamily: 'Teko', fontSize: 16, marginTop: '2%' }}>\r\n                        #{this.props.match.params.id}\r\n                      </Typography>\r\n                      <Typography color=\"inherit\" align=\"left\" noWrap style={{ fontFamily: 'Teko', fontSize: 34, marginTop: '2%' }}>\r\n                        <b>{this.state.Name}</b>\r\n                      </Typography>\r\n                      <Typography align=\"justify\" color=\"textSecondary\" paragraph style={{ marginTop: '2%', maxWidth: '100%', fontSize: 16 }}>\r\n                        {this.state.Description}\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ marginTop: '6%', maxWidth: '100%', fontSize: 24 }}>\r\n                        点火价格: {this.state.priceString}\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '100%', fontSize: 18 }}>\r\n                        最大分享次数: {this.state.maxShillTimes} 次\r\n                      </Typography>\r\n                      <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '100%', fontSize: 18 }}>\r\n                        剩余分享次数: {this.state.remainShillTimes} 次\r\n                      </Typography>\r\n                      {this.state.isEncrypt ?\r\n                        (\r\n                          <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '100%', fontSize: 16 }}>\r\n                            加密作品\r\n                          </Typography>\r\n                        ) : (\r\n                          <Typography align=\"left\" color=\"textPrimary\" paragraph style={{ maxWidth: '100%', fontSize: 16 }}>\r\n                            开源作品\r\n                          </Typography>\r\n                        )}\r\n                      {showBtn()}\r\n                    </Grid>\r\n                  </Grid>\r\n\r\n                )}\r\n\r\n                {this.state.showRecommend ? (\r\n                  <Grid style={{ marginTop: 50 }}>\r\n                    <Typography variant=\"h4\" gutterBottom >\r\n                      此NFT的子节点已经售完，我们给您推荐了其他还能购买的节点：\r\n                    </Typography>\r\n                    <Link onClick={this.handleClickLink} style={{ fontSize: 20, textDecoration: 'underline' }}>\r\n                      {window.location.host + '/#/NFT/Spark/' + this.state.recommendNFT}\r\n                    </Link>\r\n                  </Grid>\r\n                ) : (\r\n                  <div></div>\r\n                )}\r\n              </div>\r\n            </Container>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(NFTSpark)\r\n//todo 涉及交易\r\n//account的获取方式做了修改","import './App.css';\r\nimport React, { Component } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport TopBar from './TopBar';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nconst styles = theme => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  titleFont: {\r\n    fontFamily: 'Teko',\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n  },\r\n  btnMain: {\r\n    color: '#FFFFFF',\r\n    borderColor: '#e3f2fd',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    '&:hover':{\r\n      color: '#FFFFFF',\r\n    },\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  btnSecond: {\r\n    // marginTop: theme.spacing(3),\r\n    color: '#FFFFFF',\r\n    borderColor: '#e3f2fd',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    '&:hover':{\r\n      color: '#FFFFFF',\r\n    },\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n      width: 95\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(7),\r\n    maxWidth: '150%',\r\n\r\n  },\r\n\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    marginTop: 20,\r\n    lineHeight: 1.5,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n    },\r\n  },\r\n\r\n  shouldKnow: {\r\n    fontFamily: 'Teko',\r\n    textAlign: 'center',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 40,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 40,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 60,\r\n    },\r\n  },\r\n});\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#FDFEFE',\r\n    },\r\n    secondary: {\r\n      main: '#2196f3',\r\n    }\r\n  },\r\n});\r\n\r\nclass IntroPublish extends Component {\r\n  render() {\r\n\tconst { t } = this.props\r\n    const { classes } = this.props\r\n    return (\r\n      <div>\r\n\r\n        <ThemeProvider theme={theme}>\r\n          <TopBar />\r\n          <Container component=\"main\" className={classes.container}>\r\n            <div className={classes.paper}>\r\n              <Typography color=\"inherit\" noWrap className={classes.shouldKnow}>\r\n                <b>发布须知</b>\r\n              </Typography>\r\n              <Typography variant=\"h4\" paragraph className={classes.content}>\r\n                在去发布您的作品之前，您需要了解以下信息，它们将有助于您了解完整的发布流程：\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n                <b>1.</b> 您的作品将被存储在IPFS（InterPlanetary File System）中，而存储地址将被记录在以太坊上，与您的NFT绑定在一起\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n                <b>2.</b> 您可以选择是将您的作品开源得保存在IPFS上，或者加密保存在IPFS上。针对加密的作品，只有持有您发行的NFT的读者才能访问。 <br />\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n                <b>3.</b> 如果您选择加密保存在IPFS上，您需要在将作品基本信息上传到链上后，再设置作品的地址。这个过程我们会引导您完成，请勿担心。 <br />\r\n              </Typography>\r\n              <Typography color=\"textSecondary\" paragraph className={classes.content}>\r\n                <b>4.</b> 当您将作品发布在我们平台时，我们默认您会支持二次创作，处于您宣传网络中的读者有权将他们持有的NFT对应的地址替换为他们自己的二次创作作品。 <br />\r\n              </Typography>\r\n              <Grid container justifyContent=\"center\" style={{ fontFamily: 'Teko', marginTop: 70 }}>\r\n                <Grid item xs={4} >\r\n                  <Button size=\"large\" variant=\"contained\" color=\"secondary\" className={classes.btnMain} href='/#/encryptedPublish'>\r\n                    <b>{t('publish_encry')}</b>\r\n                  </Button>\r\n                </Grid>\r\n                <Grid item xs={3} >\r\n                  <Button size=\"large\" variant=\"contained\" color=\"secondary\" className={classes.btnSecond} href='/#/publish'>\r\n                    <b>{t('publish_open')}</b>\r\n                  </Button>\r\n                </Grid>\r\n              </Grid>\r\n            </div>\r\n          </Container>\r\n        </ThemeProvider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(IntroPublish));","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport Button from '@material-ui/core/Button'\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles'\r\nimport { blue } from '@material-ui/core/colors'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport { message } from 'antd'\r\nimport { InboxOutlined } from '@ant-design/icons'\r\nimport Dragger from 'antd/lib/upload/Dragger'\r\nimport { CloudUploadOutlined } from '@ant-design/icons'\r\nimport { Input, InputNumber, Select, Spin } from 'antd'\r\nimport 'antd/dist/antd.css'\r\nimport TopBar from './TopBar'\r\nimport axios from 'axios'\r\nimport contract from './contract'\r\nimport web3 from './web3'\r\nimport ReactLoading from 'react-loading'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport { Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Link } from \"@material-ui/core\"\r\nimport * as tokens from './tokens_list.json'\r\nimport { withTranslation } from 'react-i18next';\r\nconst {\r\n  pinata_api_key,\r\n  pinata_secret_api_key,\r\n} = require('./project.secret.js')\r\nconst FormData = require('form-data')\r\nconst bs58 = require('bs58')\r\nvar CryptoJS = require(\"crypto-js\")\r\nconst { Option } = Select\r\nconst abi = require('erc-20-abi')\r\n\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#2196f3',\r\n    },\r\n    secondary: {\r\n      main: '#FDFEFE',\r\n    },\r\n  },\r\n})\r\n\r\n\r\nconst styles = theme => ({\r\n  main: {\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      width: '60%'\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: 500\r\n    },\r\n  },\r\n  titleCon: {\r\n    marginTop: 50,\r\n    fontFamily: 'Ubuntu',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 30\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      fontSize: 40\r\n    },\r\n  },\r\n  titlePub: {\r\n    marginTop: \"3%\",\r\n    fontFamily: 'Ubuntu',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 30\r\n    },\r\n    [theme.breakpoints.up('sm')]: {\r\n      fontSize: 40\r\n    },\r\n  },\r\n  paperImg: {\r\n\r\n    backgroundColor: '#EFEBE9',\r\n    width: 330,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      marginLeft: '5%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      marginLeft: '30%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      marginLeft: '30%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      marginLeft: '40%',\r\n      marginTop: 30,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      marginLeft: '45%',\r\n      marginTop: 30,\r\n    },\r\n  },\r\n  btnPub: {\r\n    margin: theme.spacing(1),\r\n    borderRadius: 25,\r\n    color: '#FFFFFF',\r\n    backgroundColor: '#2196f3',\r\n    marginBottom: 20,\r\n    marginTop: 40,\r\n    height: 45,\r\n    minWidth: 200,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      width: '50%',\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 16,\r\n      width: '30%',\r\n    },\r\n    [theme.breakpoints.up('md')]: {\r\n      fontSize: 16,\r\n      width: '30%',\r\n    },\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: blue[500],\r\n    width: 60,\r\n    height: 60\r\n  },\r\n  form: {\r\n    width: '150%',\r\n    marginTop: theme.spacing(7),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  fileBtn: {\r\n    padding: '10px 30px 10px 30px',\r\n    background: '#66C1E4',\r\n    border: 'none',\r\n    color: '#FFF',\r\n    boxShadow: '1px 1px 1px #4C6E91',\r\n  },\r\n  button: {\r\n    margin: theme.spacing(1),\r\n    fontSize: 20,\r\n    borderRadius: 25,\r\n    color: '#FFFFFF',\r\n    backgroundColor: '#2196f3'\r\n  },\r\n  input: {\r\n    height: 40,\r\n    borderRadius: 5,\r\n  },\r\n  inputNum: {\r\n    height: 40,\r\n    borderRadius: 5,\r\n    width: '100%',\r\n    fontSize: 20,\r\n  }\r\n})\r\n\r\n\r\nclass EncryptedPublish extends Component {\r\n  backend = 'https://api.sparklink.io' //http://192.168.0.64:3000\r\n  state = {\r\n    name: '',\r\n    bonusFee: 0,\r\n    price: 0,\r\n    buffer: null,\r\n    file: null,\r\n    ipfsHashCover: '',\r\n    ipfsMeta: '',\r\n    fileType: '',\r\n    fileIpfs: '',\r\n    description: '',\r\n    shareTimes: 0,\r\n    onLoading: false,\r\n    rootNFTId: '',\r\n    issueId: '',\r\n    allowSubmitPDF: false,\r\n    usedAcc: '',\r\n    sig: '',\r\n    finished: false,\r\n    open: false,\r\n    coverURL: '',\r\n    jumped: false,\r\n    data: [],\r\n    token_addr: null,\r\n    token_symbol: 'MATIC',\r\n    decimal: 0,\r\n  }\r\n\r\n  async componentDidMount() {\r\n\tconst { t } = this.props;\r\n    if (!window.ethereum) {\r\n      alert(t('please_install_metamask'))\r\n      window.location.href = '/#/introPublish'\r\n      return\r\n    }\r\n\r\n    const chainId = await window.ethereum.request({ method: 'eth_chainId' })\r\n    if (chainId !== '0x89') {\r\n      alert(t('please_set_polygon'))\r\n      await window.ethereum.request({\r\n        method: 'wallet_switchEthereumChain',\r\n        params: [{\r\n          chainId: '0x89'\r\n        }]\r\n      })\r\n    }\r\n  }\r\n\r\n  handleGetPubName = (event) => {\r\n    this.setState({\r\n      name: event.target.value,\r\n    })\r\n  }\r\n\r\n  handleGetBonusFee = (value) => {\r\n    this.setState({\r\n      bonusFee: value,\r\n    })\r\n  }\r\n\r\n  handleGetPrice = (value) => {\r\n    this.setState({\r\n      price: value,\r\n    })\r\n  }\r\n\r\n  handleGetShareTimes = (value) => {\r\n    this.setState({\r\n      shareTimes: value,\r\n    })\r\n  }\r\n\r\n  handleGetDescription = (e) => {\r\n    this.setState({\r\n      description: e.target.value,\r\n    })\r\n  }\r\n\r\n  handleGetNFTId = (value) => {\r\n    this.setState({\r\n      rootNFTId: String(value),\r\n    })\r\n  }\r\n\r\n  handleClose = (e) => {\r\n    this.setState({\r\n      open: false,\r\n    })\r\n  }\r\n\r\n  handleClickOpen = (e) => {\r\n    this.setState({\r\n      open: true,\r\n    })\r\n  }\r\n\r\n  handleSearch = async (value) => {\r\n    if (value) {\r\n      value = value.toLowerCase()\r\n      var tokens_list = tokens.tokens\r\n      var matched_data = []\r\n      let reg = new RegExp(value)\r\n      for (let token of tokens_list) {\r\n        var symbol_lower_case = token.symbol.toLowerCase()\r\n        var showed_text = `\\\"${token.symbol}\\\"` + \"   \" + token.address\r\n        var info = {\r\n          value: token.address,\r\n          text: showed_text\r\n        }\r\n        if (reg.test(symbol_lower_case) && !matched_data.includes(info)) {\r\n          matched_data.push(info)\r\n        }\r\n      }\r\n      if (value.includes('0x') && value.length == 42) {\r\n        var info = {\r\n          value: value,\r\n          text: value\r\n        }\r\n        matched_data = [info]\r\n      }\r\n      this.setState({\r\n        data: matched_data\r\n      })\r\n    } else {\r\n      this.setState({ data: [] })\r\n    }\r\n  }\r\n\r\n  handleSelectChange = async (value) => {\r\n\tconst {t} = this.props\r\n    var tokens_list = tokens.tokens\r\n    let address\r\n    let token_symbol\r\n    let token_decimal\r\n    for (let token of tokens_list) {\r\n      if (value === token.address) {\r\n        address = value\r\n        token_symbol = token.symbol\r\n        token_decimal = token.decimals\r\n      }\r\n    }\r\n    if (token_symbol == undefined) {\r\n\r\n      try {\r\n        const token_contract = new web3.eth.Contract(abi, value)\r\n        token_symbol = await token_contract.methods.symbol().call()\r\n        token_decimal = await token_contract.methods.decimals().call()\r\n        address = value\r\n      } catch (error) {\r\n        message.error(t('error_no_erc20'))\r\n      }\r\n\r\n    }\r\n    // console.debug(token_symbol)\r\n    this.setState({\r\n      token_addr: address,\r\n      token_symbol: token_symbol,\r\n      decimal: token_decimal\r\n    })\r\n  }\r\n\r\n  jump = async (event) => {\r\n\t  const {t} = this.props\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    const account = accounts[0]\r\n    this.setState({\r\n      usedAcc: account\r\n    })\r\n\r\n    const owner = await contract.methods.ownerOf(this.state.rootNFTId).call()\r\n    var issueId = await contract.methods.getIssueIdByNFTId(this.state.rootNFTId).call()\r\n\r\n    var bonus = await contract.methods.getRoyaltyFeeByIssueId(issueId).call()\r\n\r\n    if (account == owner.toLowerCase()) {\r\n      this.setState({\r\n        onLoading: false,\r\n        allowSubmitPDF: true,\r\n        jumped: true,\r\n        bonusFee: bonus\r\n      })\r\n    } else {\r\n      message.warning({\r\n        content: t('no_NFT_owner'),\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    }\r\n  }\r\n\r\n  submit = async (event) => {\r\n    /*TODO: call smart contract publish() and wait for publish success event\r\n     * then call backend to get a secret key. Then encrypt the pdf file and upload it to IPFS\r\n     * Finally, form a new metadata json file and send its ipfs hash to backend and publish it\r\n    */\r\n    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n    const account = accounts[0]\r\n    this.setState({\r\n      usedAcc: account\r\n    })\r\n    let obj = this\r\n    if (this.state.price === 0 || this.state.bonusFee === 0 || this.state.shareTimes === 0 || this.state.token_addr === null) {\r\n      message.error({\r\n        content: \"你有信息尚未填写\",\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    } else {\r\n\r\n      this.setState({\r\n        onLoading: true\r\n      })\r\n      var price_with_decimal = this.state.price * (10 ** this.state.decimal)\r\n      price_with_decimal = price_with_decimal.toString()\r\n      var ipfsToContract = '0x0000000000000000000000000000000000000000000000000000000000000000'\r\n      console.debug('price_with_decimal: ', price_with_decimal)\r\n      var gasPrice = await web3.eth.getGasPrice()\r\n      var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n      contract.methods.publish(price_with_decimal, this.state.bonusFee, this.state.shareTimes, ipfsToContract, this.state.token_addr).send({\r\n        from: this.state.usedAcc,\r\n        gasPrice: new_gas_price\r\n      })\r\n        .on('receipt', function (receipt) {\r\n          console.log(receipt)\r\n          var publish_event = receipt.events.Publish\r\n          var returned_values = publish_event.returnValues\r\n          var root_nft_id = String(returned_values.rootNFTId)\r\n          console.debug(typeof root_nft_id)\r\n          var issue_id = returned_values.issue_id\r\n          obj.setState({\r\n            onLoading: false,\r\n            rootNFTId: root_nft_id,\r\n            issueId: issue_id,\r\n            allowSubmitPDF: true\r\n          })\r\n          message.success({\r\n            content: \"作品基本信息已提交成功\",\r\n            className: 'custom-class',\r\n            style: {\r\n              marginTop: '10vh',\r\n            },\r\n          })\r\n        })\r\n        .on('error', function (error) {\r\n          obj.setState({\r\n            onLoading: false,\r\n          })\r\n          if (error.message.includes('not mined')) {\r\n            message.warning({\r\n              content: \"交易已提交，当前网络较拥堵，请稍等后去我的收藏中查看\",\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n          } else {\r\n            console.debug(error.message)\r\n            message.error({\r\n              content: `Error: ${error.message}`,\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n          }\r\n        })\r\n\r\n    }\r\n\r\n  }\r\n\r\n  checkDetail = async (event) => {\r\n    var new_url = '/#/NFT/' + this.state.rootNFTId\r\n    window.open(new_url, '_self')\r\n  }\r\n\r\n  submitWork = async () => {\r\n    if (this.state.ipfsHashCover === '' || this.state.fileIpfs === '') {\r\n      message.error({\r\n        content: \"你有信息尚未填写\",\r\n        className: 'custom-class',\r\n        style: {\r\n          marginTop: '10vh',\r\n        },\r\n      })\r\n    } else {\r\n\r\n      var img_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.ipfsHashCover\r\n      this.setState({\r\n        coverURL: img_url\r\n      })\r\n      console.debug(\"coverURL: \", this.state.coverURL)\r\n      var trimmed_des = this.state.description.replace(/(\\r\\n\\t|\\n|\\r\\t)/gm, \" \")\r\n      const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n      const account = accounts[0]\r\n      if (account !== this.state.usedAcc) {\r\n        message.warning({\r\n          content: \"账户发生变化，请切换回原账户\",\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n        return\r\n      }\r\n      var file_url = 'https://coldcdn.com/api/cdn/v5ynur/ipfs/' + this.state.fileIpfs\r\n      var JSONBody = {\r\n        \"name\": this.state.name,\r\n        \"description\": trimmed_des,\r\n        \"image\": this.state.coverURL,\r\n        \"attributes\": [\r\n          {\r\n            \"display_type\": \"boost_percentage\",\r\n            \"trait_type\": \"Bonuse Percentage\",\r\n            \"value\": this.state.bonusFee\r\n          },\r\n          {\r\n            \"trait_type\": \"File Address\",\r\n            \"value\": file_url\r\n          },\r\n          {\r\n            \"value\": this.state.fileType\r\n          },\r\n          {\r\n            \"trait_type\": \"Encrypted\",\r\n            \"value\": \"TRUE\"\r\n          }\r\n        ]\r\n      }\r\n      console.debug(JSONBody)\r\n      const url = `https://api.pinata.cloud/pinning/pinJSONToIPFS`\r\n      let obj = this\r\n      this.setState({\r\n        onLoading: true\r\n      })\r\n\r\n      try {\r\n        const response = await axios.post(url, JSONBody, {\r\n          headers: {\r\n            pinata_api_key: pinata_api_key,\r\n            pinata_secret_api_key: pinata_secret_api_key\r\n          },\r\n        })\r\n        console.debug(\"metadata: \", response.data.IpfsHash)\r\n        const bytes = bs58.decode(response.data.IpfsHash)\r\n        const bytesToContract = bytes.toString('hex').substring(4,)\r\n        console.log(bytesToContract)\r\n        console.log(response.data.IpfsHash)\r\n        this.setState({\r\n          ipfsMeta: bytesToContract\r\n        })\r\n\r\n        var ipfsToContract = '0x' + bytesToContract\r\n\r\n        var gasPrice = await web3.eth.getGasPrice()\r\n        var new_gas_price = Math.floor(parseInt(gasPrice) * 1.5).toString()\r\n\r\n        contract.methods.setURI(obj.state.rootNFTId, ipfsToContract).send({\r\n          from: obj.state.usedAcc,\r\n          gasPrice: new_gas_price\r\n        })\r\n          .on('receipt', function (receipt) {\r\n            console.debug(receipt.events.SetURI)\r\n            message.success({\r\n              content: \"作品基本信息已提交成功\",\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n            obj.setState({\r\n              allowSubmitPDF: false,\r\n              finished: true,\r\n              onLoading: false\r\n            })\r\n          })\r\n          .on('error', function (error) {\r\n            obj.setState({\r\n              onLoading: false\r\n            })\r\n            message.error({\r\n              content: `Error: ${error.message}`,\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n          })\r\n\r\n      } catch (error) {\r\n        message.error({\r\n          content: `Error: ${error.message}`,\r\n          className: 'custom-class',\r\n          style: {\r\n            marginTop: '10vh',\r\n          },\r\n        })\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n\tconst { t } = this.props\r\n    const { classes } = this.props\r\n\tconsole.log(t,classes)\r\n    let obj = this\r\n    const { TextArea } = Input\r\n    const options = this.state.data.map(d => <Option key={d.value}>{d.text}</Option>)\r\n    const prop = {\r\n      name: 'file',\r\n      action: `https://api.pinata.cloud/pinning/pinFileToIPFS`,\r\n      headers: {\r\n        pinata_api_key: pinata_api_key,\r\n        pinata_secret_api_key: pinata_secret_api_key\r\n      },\r\n      data: this.state.buffer,\r\n      beforeUpload: file => {\r\n        return new Promise((resolve, reject) => {\r\n          try {\r\n            const reader = new FileReader()\r\n            reader.readAsArrayBuffer(file)\r\n            reader.onload = (e) => {\r\n              var b = e.target.result\r\n              let params = new FormData()\r\n              params.append('file', b)\r\n              this.setState({\r\n                buffer: params\r\n              })\r\n            }\r\n            resolve()\r\n          } catch (e) {\r\n            message.error('Read file error')\r\n            reject()\r\n          }\r\n        })\r\n      },\r\n      async onChange(info) {\r\n        const { status } = info.file\r\n        // text/plain image/jpeg application/pdf\r\n        if (status === 'done') {\r\n          message.success(`${info.file.name} file uploaded successfully.`)\r\n          obj.setState({\r\n            ipfsHashCover: info.file.response.IpfsHash\r\n          })\r\n\r\n        } else if (status === 'error') {\r\n          message.error(`${info.file.name} file upload failed.`)\r\n        }\r\n      },\r\n      onDrop(e) {\r\n        message.error(`Only image file supported`)\r\n        console.log('Dropped files', e.dataTransfer.files)\r\n      },\r\n    }\r\n\r\n    const propFile = {\r\n      name: 'file',\r\n      action: `https://api.pinata.cloud/pinning/pinFileToIPFS`,\r\n      headers: {\r\n        pinata_api_key: pinata_api_key,\r\n        pinata_secret_api_key: pinata_secret_api_key\r\n      },\r\n      beforeUpload: file => {\r\n        return new Promise(async (resolve, reject) => {\r\n          try {\r\n            const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' })\r\n            const signer = accounts[0]\r\n            var message = {\r\n              account: signer,\r\n              nft_id: obj.state.rootNFTId\r\n            }\r\n            const sig = await web3.eth.personal.sign(JSON.stringify(message), signer)\r\n            console.debug(sig)\r\n            var payload = {\r\n              \"nft_id\": obj.state.rootNFTId,\r\n              \"account\": signer,\r\n              \"signature\": sig\r\n            }\r\n            var payload_str = JSON.stringify(payload)\r\n            console.log(payload_str)\r\n            var req_key_url = this.backend + '/api/v1/key/claim'\r\n            try {\r\n              const res = await axios.post(req_key_url, payload_str, {\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                }\r\n              })\r\n              var secret_key = res.data.key//res.data.key\r\n              console.debug(secret_key)\r\n              // if (file.type === 'text/plain') {\r\n              const reader = new FileReader()\r\n              reader.readAsArrayBuffer(file)\r\n              reader.onload = (e) => {\r\n                var b = e.target.result\r\n                var wordArray = CryptoJS.lib.WordArray.create(b)\r\n                const str = CryptoJS.enc.Hex.stringify(wordArray)\r\n                var cipher_text = CryptoJS.AES.encrypt(str, secret_key).toString()\r\n                var myblob = new Blob([cipher_text])\r\n                resolve(myblob)\r\n              }\r\n\r\n            } catch (error) {\r\n              if (error.response.status == 400) {\r\n                if (error.response.data.message.includes(\"signature invalid\")) {\r\n                  message.error({\r\n                    content: \"您的签名有误，请查看签名账号是否正确\",\r\n                    className: 'custom-class',\r\n                    style: {\r\n                      marginTop: '10vh',\r\n                    },\r\n                  })\r\n                } else if (error.response.data.message.includes(\"param invalid\")) {\r\n                  message.error({\r\n                    content: \"参数错误\",\r\n                    className: 'custom-class',\r\n                    style: {\r\n                      marginTop: '10vh',\r\n                    },\r\n                  })\r\n                } else if (error.response.data.message.includes(\"not owned\")) {\r\n                  message.error({\r\n                    content: \"您并不拥有此nft\",\r\n                    className: 'custom-class',\r\n                    style: {\r\n                      marginTop: '10vh',\r\n                    },\r\n                  })\r\n                } else if (error.response.data.message.includes(\"not found\")) {\r\n                  message.error({\r\n                    content: \"此nft还未生成\",\r\n                    className: 'custom-class',\r\n                    style: {\r\n                      marginTop: '10vh',\r\n                    },\r\n                  })\r\n                }\r\n              } else {\r\n                message.error({\r\n                  content: \"请求文件加密密钥失败\",\r\n                  className: 'custom-class',\r\n                  style: {\r\n                    marginTop: '10vh',\r\n                  },\r\n                })\r\n              }\r\n            }\r\n\r\n\r\n          } catch (e) {\r\n            message.error({\r\n              content: \"Read file error\",\r\n              className: 'custom-class',\r\n              style: {\r\n                marginTop: '10vh',\r\n              },\r\n            })\r\n            reject()\r\n          }\r\n        })\r\n      },\r\n      onChange(info) {\r\n        const { status } = info.file\r\n        if (status === 'done') {\r\n          var file_type = info.file.name.split('\\.')\r\n          var file_suffix = file_type[file_type.length - 1]\r\n          obj.setState({\r\n            fileIpfs: info.file.response.IpfsHash,\r\n            fileType: file_suffix\r\n          })\r\n          console.debug(\"encrypted file hash: \", info.file.response.IpfsHash)\r\n          message.success(`${info.file.name} file uploaded successfully.`)\r\n        }\r\n\r\n      },\r\n      onDrop(e) {\r\n        console.log('Dropped files', e.dataTransfer.files)\r\n      },\r\n    }\r\n\r\n    if (this.state.allowSubmitPDF) {\r\n\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large' >\r\n          <Container component=\"main\" maxWidth=\"xs\" className={classes.main}>\r\n\r\n            <div className={classes.paper}>\r\n              <Typography className={classes.titlePub}>\r\n                <b>{t('up_file')}</b>\r\n              </Typography>\r\n              <form className={classes.form} noValidate>\r\n                {this.state.jumped ? (\r\n                  <div>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginBottom: 10 }}>{t('art_name')} *</label>\r\n                      <Input\r\n                        placeholder={t('art_name')}\r\n                        allowClear\r\n                        id=\"pubName\"\r\n                        onChange={this.handleGetPubName}\r\n                        value={this.state.name}\r\n                        className={classes.input}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('art_desc')} *</label>\r\n                      <p style={{ fontSize: 14 }}>{t('art_desc_tip')}</p>\r\n                      <TextArea\r\n                        rows={4}\r\n                        id=\"Description\"\r\n                        onChange={this.handleGetDescription}\r\n                      />\r\n                    </Grid>\r\n                  </div>\r\n                ) : (\r\n                  <div></div>\r\n                )}\r\n                <label style={{ fontSize: 18, marginTop: 50 }}>{t('pic_cover')} *</label>\r\n                <p style={{ fontSize: 12 }}>{t('pic_cover_tip')}</p>\r\n                <Dragger {...prop} style={{ width: '100%', minHeight: 100 }} id=\"Uploader\" accept=\".png, .jpg, .jpeg\" >\r\n                  <p className=\"ant-upload-drag-icon\">\r\n                    <InboxOutlined />\r\n                  </p>\r\n                  <p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n                  <p className=\"ant-upload-hint\">\r\n                    {t('upload_file_tip2')}\r\n                  </p>\r\n                </Dragger>\r\n\r\n                <label style={{ fontSize: 18, marginTop: 50 }}>{t('art_file')} *</label>\r\n                <p style={{ fontSize: 12 }}>{t('art_file_tip')} </p>\r\n                <Dragger {...propFile} style={{ width: '100%', minHeight: 100 }} id=\"Uploader2\">\r\n                  <p className=\"ant-upload-drag-icon\">\r\n                    <InboxOutlined />\r\n                  </p>\r\n                  <p className=\"ant-upload-text\">{t('upload_file_tip1')}</p>\r\n                  <p className=\"ant-upload-hint\">\r\n                    {t('upload_file_tip2')}\r\n                  </p>\r\n                </Dragger>\r\n                <div style={{ textAlign: 'center' }}>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    startIcon={<CloudUploadOutlined />}\r\n                    className={classes.btnPub}\r\n                    onClick={this.submitWork}\r\n                  >\r\n                    发布作品\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </Container>\r\n\r\n        </Spin>\r\n      )\r\n\r\n    } else if (this.state.finished) {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large'>\r\n\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <div style={{ textAlign: 'center' }}>\r\n              <Typography className={classes.titleCon}>\r\n                <b> {t('pulish_success')}</b>\r\n              </Typography>\r\n\r\n              <Paper className={classes.paperImg}>\r\n                <img style={{ width: 300, marginTop: 20, marginBottom: 50 }} src={this.state.coverURL}></img>\r\n              </Paper>\r\n              <Typography variant=\"h4\" style={{ marginTop: 20, fontFamily: 'Ubuntu' }}>\r\n                <b>{t('you_gain_nft')} #{this.state.rootNFTId}</b>\r\n              </Typography>\r\n\r\n              <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                style={{ marginTop: 50, width: 200, height: 50, marginBottom: 50 }}\r\n                onClick={this.checkDetail}\r\n              >\r\n                {t('show_detail')}\r\n              </Button>\r\n            </div>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    } else {\r\n      return (\r\n        <Spin spinning={this.state.onLoading} size='large' >\r\n\r\n          <ThemeProvider theme={theme}>\r\n            <TopBar />\r\n            <Container component=\"main\" maxWidth=\"xs\" className={classes.main}>\r\n              <div className={classes.paper}>\r\n                <Typography className={classes.titlePub}>\r\n                  <b>{t('art_info')}</b>\r\n                </Typography>\r\n                <form className={classes.form} noValidate>\r\n                  <Grid container spacing={2}>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginBottom: 10 }}>{t('art_name')} *</label>\r\n                      <Input\r\n                        placeholder={t('art_name')}\r\n                        allowClear\r\n                        id=\"pubName\"\r\n                        onChange={this.handleGetPubName}\r\n                        value={this.state.name}\r\n                        className={classes.input}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('fit_rate')} *</label>\r\n                      <p style={{ fontSize: 14 }}>{t('fit_rate_tip')}</p>\r\n                      <InputNumber\r\n                        id=\"bonusFee\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        max={100}\r\n                        formatter={value => `${value}%`}\r\n                        parser={value => value.replace('%', '')}\r\n                        onChange={this.handleGetBonusFee}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('access_coin')} *</label>\r\n                      <p style={{ fontSize: 14 }}>{t('access_coin_tip')}</p>\r\n                      <Select\r\n                        showSearch\r\n                        value={this.state.token_addr}\r\n                        placeholder={t('please_input_coin')}\r\n                        // className={classes.input}\r\n                        style={{ width: \"100%\" }}\r\n                        size=\"large\"\r\n                        defaultActiveFirstOption={false}\r\n                        showArrow={false}\r\n                        filterOption={false}\r\n                        onSearch={this.handleSearch}\r\n                        onChange={this.handleSelectChange}\r\n                        notFoundContent={null}\r\n                      >\r\n                        {options}\r\n                      </Select>\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('price')} ({this.state.token_symbol})*</label>\r\n                      <InputNumber\r\n                        id=\"price\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        onChange={this.handleGetPrice}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('max_share')} (MAX： 65535)*</label>\r\n                      <p style={{ fontSize: 14 }}>{t('max_share_tip')}</p>\r\n                      <InputNumber\r\n                        id=\"shareTimes\"\r\n                        defaultValue={0}\r\n                        min={0}\r\n                        max={65535}\r\n                        onChange={this.handleGetShareTimes}\r\n                        className={classes.inputNum}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item style={{ width: \"100%\" }}>\r\n                      <label style={{ fontSize: 18, marginTop: 20 }}>{t('art_desc')}  *</label>\r\n                      <p style={{ fontSize: 14 }}>{t('art_desc_tip')}</p>\r\n                      <TextArea\r\n                        rows={4}\r\n                        id=\"Description\"\r\n                        onChange={this.handleGetDescription}\r\n                      />\r\n                    </Grid>\r\n                  </Grid>\r\n                </form>\r\n                <Grid container alignItems=\"center\" spacing={4} style={{ marginTop: 20, marginBottom: 50 }}>\r\n                  <Grid item xs style={{ textAlign: 'center' }}>\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      className={classes.button}\r\n                      startIcon={<CloudUploadOutlined />}\r\n                      style={{ width: 200, height: 50, marginBottom: 20, marginTop: 20 }}\r\n                      onClick={this.submit}\r\n                    >\r\n                       {t('submit')}\r\n                    </Button>\r\n                  </Grid>\r\n                  <Grid item xs style={{ textAlign: 'center' }}>\r\n                    <Link onClick={this.handleClickOpen} style={{ fontSize: 10, textDecoration: 'underline' }}>\r\n                       {t('have_submit')}\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n                <Dialog\r\n                  open={this.state.open}\r\n                  onClose={this.handleClose}\r\n                  aria-labelledby=\"form-dialog-title\"\r\n                >\r\n                  <DialogTitle id=\"form-dialog-title\">{t('inpt_NFT_ID')}</DialogTitle>\r\n                  <DialogContent>\r\n                    <DialogContentText>\r\n                      {t('inpt_NFT_ID_tip')}\r\n                    </DialogContentText>\r\n                    <label style={{ fontSize: 14, marginBottom: 10 }}>NFT ID *</label>\r\n                    <InputNumber\r\n                      defaultValue={0}\r\n                      min={0}\r\n                      onChange={this.handleGetNFTId}\r\n                    />\r\n                  </DialogContent>\r\n                  <DialogActions>\r\n                    <Button onClick={this.handleClose} color=\"primary\">\r\n                       {t('cancel')}\r\n                    </Button>\r\n                    <Button variant=\"contained\" onClick={this.jump} color=\"primary\" >\r\n                       {t('go_upload')}\r\n                    </Button>\r\n                  </DialogActions>\r\n                </Dialog>\r\n              </div>\r\n            </Container>\r\n          </ThemeProvider>\r\n        </Spin>\r\n      )\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default withTranslation()(withStyles(styles, { withTheme: true })(EncryptedPublish))\r\n//todo 涉及交易","import './App.css';\r\nimport React, { Component } from 'react';\r\nimport { createTheme, ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport TopBar from './TopBar';\r\n\r\nconst styles = theme => ({\r\n  icon: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  titleFont: {\r\n    fontFamily: 'Teko',\r\n  },\r\n  btn: {\r\n    color: '#424949',\r\n    borderWidth: 2,\r\n    borderColor: '#e3f2fd',\r\n    fontSize: 16,\r\n  },\r\n  btnMain: {\r\n    color: '#FFFFFF',\r\n    borderColor: '#e3f2fd',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  btnSecond: {\r\n    // marginTop: theme.spacing(3),\r\n    color: '#03A9F4',\r\n    borderColor: '#03A9F4',\r\n    borderWidth: 2,\r\n    borderRadius: 25,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 5,\r\n      width: 95\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 10,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 16,\r\n      width: 150\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n      width: 300,\r\n      height: 70\r\n    },\r\n  },\r\n  paper: {\r\n    marginTop: theme.spacing(7),\r\n    maxWidth: '150%',\r\n\r\n  },\r\n\r\n  content: {\r\n    fontFamily: 'Teko',\r\n    marginTop: 20,\r\n    lineHeight: 1.5,\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 30,\r\n    },\r\n  },\r\n\r\n  shouldKnow: {\r\n    fontFamily: 'Teko',\r\n    textAlign: 'center',\r\n    [theme.breakpoints.between('xs', 'sm')]: {\r\n      fontSize: 16,\r\n    },\r\n    [theme.breakpoints.between('sm', 'md')]: {\r\n      fontSize: 20,\r\n    },\r\n    [theme.breakpoints.between('md', 'lg')]: {\r\n      fontSize: 40,\r\n    },\r\n    [theme.breakpoints.between('lg', 'xl')]: {\r\n      fontSize: 40,\r\n    },\r\n    [theme.breakpoints.up('xl')]: {\r\n      fontSize: 60,\r\n    },\r\n  },\r\n});\r\n\r\nconst theme = createTheme({\r\n  palette: {\r\n    primary: {\r\n      main: '#FDFEFE',\r\n    },\r\n    secondary: {\r\n      main: '#2196f3',\r\n    }\r\n  },\r\n});\r\n\r\nclass Buy extends Component {\r\n  render() {\r\n    const { classes } = this.props\r\n    return (\r\n      <div>\r\n        <ThemeProvider theme={theme}>\r\n          <TopBar />\r\n          <Container component=\"main\" className={classes.container}>\r\n            <div className={classes.paper}>\r\n              <Typography color=\"inherit\" noWrap className={classes.shouldKnow}>\r\n                <b>敬请期待</b>\r\n              </Typography>\r\n            </div>\r\n          </Container>\r\n        </ThemeProvider>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles, { withTheme: true })(Buy);","import React from 'react';\r\nimport { HashRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport App from './App';\r\nimport Publish from './Publish';\r\nimport NFTInfo from './NFTInfo';\r\nimport SellSingle from './SellSingle';\r\nimport BuySingle from './BuySingle';\r\nimport Collections from './Collections';\r\nimport Spark from './NFTSpark';\r\nimport IntroPublish from './IntroPublish';\r\nimport EncryptedPublish from './EncryptedPublish';\r\nimport Buy from './Buy';\r\n\r\nconst BasicRoute = () => (\r\n  <HashRouter >\r\n    <Switch>\r\n      <Route exact path=\"/\" component={App} />\r\n      <Route exact path=\"/introPublish\" component={IntroPublish} />\r\n      <Route exact path=\"/buy\" component={Buy} />\r\n      <Route exact path=\"/publish\" component={Publish} />\r\n      <Route exact path=\"/encryptedPublish\" component={EncryptedPublish} />\r\n      <Route exact path=\"/sellSingle/:NFTId\" component={SellSingle} />\r\n      <Route exact path=\"/buySingle/:NFTId\" component={BuySingle} />\r\n      <Route exact path=\"/collections\" component={Collections} />\r\n      <Route exact path=\"/NFT/:id\" component={NFTInfo} />\r\n      <Route exact path=\"/NFT/spark/:id\" component={Spark} />\r\n    </Switch>\r\n  </HashRouter>\r\n);\r\n\r\n\r\nexport default BasicRoute;","import i18next from 'i18next'\r\nimport {initReactI18next} from 'react-i18next'\r\nimport XHR from 'i18next-xhr-backend'\r\nimport LanguageDetector from 'i18next-browser-languagedetector'\r\n\r\ni18next.use(XHR).use(LanguageDetector).use(initReactI18next).init({\r\n    backend: {\r\n        loadPath:'./locales/{{lng}}.json'\r\n    },\r\n    react: {\r\n        useSuspense: false\r\n    },\r\n    fallbackLng: 'en',\r\n    preload: [\r\n        'en', 'zh','zh-cn'\r\n    ],\r\n    keySeparator: false,\r\n    interpolation: {\r\n        escapeValue: false\r\n    }\r\n})\r\n\r\nexport default i18next","import React, {Suspense} from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport 'bootstrap/dist/css/bootstrap-theme.css';\r\nimport Router from './Router';\r\nimport './i18n';\r\n\r\nReactDOM.render(\r\n  <Router />,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n","module.exports.pinata_api_key = 'e991ae84dcfbb8989294'\r\nmodule.exports.pinata_secret_api_key = 'c0bacda4094b3e5edc720e15a07ffc7cb853c383cbff0fcc14eda8024e7223de'\r\n"],"sourceRoot":""}